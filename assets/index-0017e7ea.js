var su=Object.defineProperty;var au=(e,i,o)=>i in e?su(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;var br=(e,i,o)=>(au(e,typeof i!="symbol"?i+"":i,o),o),Ho=(e,i,o)=>{if(!i.has(e))throw TypeError("Cannot "+o)};var yt=(e,i,o)=>(Ho(e,i,"read from private field"),o?o.call(e):i.get(e)),on=(e,i,o)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,o)},kn=(e,i,o,s)=>(Ho(e,i,"write to private field"),s?s.call(e,o):i.set(e,o),o);var Wo=(e,i,o,s)=>({set _(c){kn(e,i,c,o)},get _(){return yt(e,i,s)}}),hn=(e,i,o)=>(Ho(e,i,"access private method"),o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var o=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};o.prototype=i.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var c=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(o,s,c.get?c:{enumerable:!0,get:function(){return e[s]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,o){this.props=e,this.context=i,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,o){this.props=e,this.context=i,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,o){var s,c={},a=null,h=null;if(i!=null)for(s in i.ref!==void 0&&(h=i.ref),i.key!==void 0&&(a=""+i.key),i)J.call(i,s)&&!L$1.hasOwnProperty(s)&&(c[s]=i[s]);var ut=arguments.length-2;if(ut===1)c.children=o;else if(1<ut){for(var ot=Array(ut),_e=0;_e<ut;_e++)ot[_e]=arguments[_e+2];c.children=ot}if(e&&e.defaultProps)for(s in ut=e.defaultProps,ut)c[s]===void 0&&(c[s]=ut[s]);return{$$typeof:l$1,type:e,key:a,ref:h,props:c,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return i[o]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,o,s,c){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(a){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=e,c=c(h),e=s===""?"."+Q$1(h,0):s,I$1(c)?(o="",e!=null&&(o=e.replace(P$1,"$&/")+"/"),R$1(c,i,o,"",function(_e){return _e})):c!=null&&(O$1(c)&&(c=N$1(c,o+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+e)),i.push(c)),1;if(h=0,s=s===""?".":s+":",I$1(e))for(var ut=0;ut<e.length;ut++){a=e[ut];var ot=s+Q$1(a,ut);h+=R$1(a,i,o,ot,c)}else if(ot=A$1(e),typeof ot=="function")for(e=ot.call(e),ut=0;!(a=e.next()).done;)a=a.value,ot=s+Q$1(a,ut++),h+=R$1(a,i,o,ot,c);else if(a==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(e,i,o){if(e==null)return e;var s=[],c=0;return R$1(e,s,"","",function(a){return i.call(o,a,c++)}),s}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,i,o){S$1(e,function(){i.apply(this,arguments)},o)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,i,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=C$1({},e.props),c=e.key,a=e.ref,h=e._owner;if(i!=null){if(i.ref!==void 0&&(a=i.ref,h=K$1.current),i.key!==void 0&&(c=""+i.key),e.type&&e.type.defaultProps)var ut=e.type.defaultProps;for(ot in i)J.call(i,ot)&&!L$1.hasOwnProperty(ot)&&(s[ot]=i[ot]===void 0&&ut!==void 0?ut[ot]:i[ot])}var ot=arguments.length-2;if(ot===1)s.children=o;else if(1<ot){ut=Array(ot);for(var _e=0;_e<ot;_e++)ut[_e]=arguments[_e+2];s.children=ut}return{$$typeof:l$1,type:e.type,key:c,ref:a,props:s,_owner:h}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,o){return U$1.current.useImperativeHandle(e,i,o)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,o){return U$1.current.useReducer(e,i,o)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,o){return U$1.current.useSyncExternalStore(e,i,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,o){var s,c={},a=null,h=null;o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),i.ref!==void 0&&(h=i.ref);for(s in i)m$1.call(i,s)&&!p$1.hasOwnProperty(s)&&(c[s]=i[s]);if(e&&e.defaultProps)for(s in i=e.defaultProps,i)c[s]===void 0&&(c[s]=i[s]);return{$$typeof:k,type:e,key:a,ref:h,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Lt,Xt){var Qt=Lt.length;Lt.push(Xt);e:for(;0<Qt;){var St=Qt-1>>>1,rt=Lt[St];if(0<c(rt,Xt))Lt[St]=Xt,Lt[Qt]=rt,Qt=St;else break e}}function o(Lt){return Lt.length===0?null:Lt[0]}function s(Lt){if(Lt.length===0)return null;var Xt=Lt[0],Qt=Lt.pop();if(Qt!==Xt){Lt[0]=Qt;e:for(var St=0,rt=Lt.length,nt=rt>>>1;St<nt;){var vt=2*(St+1)-1,Pt=Lt[vt],Rt=vt+1,Dt=Lt[Rt];if(0>c(Pt,Qt))Rt<rt&&0>c(Dt,Pt)?(Lt[St]=Dt,Lt[Rt]=Qt,St=Rt):(Lt[St]=Pt,Lt[vt]=Qt,St=vt);else if(Rt<rt&&0>c(Dt,Qt))Lt[St]=Dt,Lt[Rt]=Qt,St=Rt;else break e}}return Xt}function c(Lt,Xt){var Qt=Lt.sortIndex-Xt.sortIndex;return Qt!==0?Qt:Lt.id-Xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var h=Date,ut=h.now();e.unstable_now=function(){return h.now()-ut}}var ot=[],_e=[],it=1,_t=null,lt=3,at=!1,tt=!1,st=!1,dt=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(Lt){for(var Xt=o(_e);Xt!==null;){if(Xt.callback===null)s(_e);else if(Xt.startTime<=Lt)s(_e),Xt.sortIndex=Xt.expirationTime,i(ot,Xt);else break;Xt=o(_e)}}function g(Lt){if(st=!1,d(Lt),!tt)if(o(ot)!==null)tt=!0,en(et);else{var Xt=o(_e);Xt!==null&&zt(g,Xt.startTime-Lt)}}function et(Lt,Xt){tt=!1,st&&(st=!1,b($),$=-1),at=!0;var Qt=lt;try{for(d(Xt),_t=o(ot);_t!==null&&(!(_t.expirationTime>Xt)||Lt&&!gt());){var St=_t.callback;if(typeof St=="function"){_t.callback=null,lt=_t.priorityLevel;var rt=St(_t.expirationTime<=Xt);Xt=e.unstable_now(),typeof rt=="function"?_t.callback=rt:_t===o(ot)&&s(ot),d(Xt)}else s(ot);_t=o(ot)}if(_t!==null)var nt=!0;else{var vt=o(_e);vt!==null&&zt(g,vt.startTime-Xt),nt=!1}return nt}finally{_t=null,lt=Qt,at=!1}}var mt=!1,Et=null,$=-1,ft=5,At=-1;function gt(){return!(e.unstable_now()-At<ft)}function kt(){if(Et!==null){var Lt=e.unstable_now();At=Lt;var Xt=!0;try{Xt=Et(!0,Lt)}finally{Xt?Kt():(mt=!1,Et=null)}}else mt=!1}var Kt;if(typeof _=="function")Kt=function(){_(kt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,ln=$t.port2;$t.port1.onmessage=kt,Kt=function(){ln.postMessage(null)}}else Kt=function(){dt(kt,0)};function en(Lt){Et=Lt,mt||(mt=!0,Kt())}function zt(Lt,Xt){$=dt(function(){Lt(e.unstable_now())},Xt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Lt){Lt.callback=null},e.unstable_continueExecution=function(){tt||at||(tt=!0,en(et))},e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Lt?Math.floor(1e3/Lt):5},e.unstable_getCurrentPriorityLevel=function(){return lt},e.unstable_getFirstCallbackNode=function(){return o(ot)},e.unstable_next=function(Lt){switch(lt){case 1:case 2:case 3:var Xt=3;break;default:Xt=lt}var Qt=lt;lt=Xt;try{return Lt()}finally{lt=Qt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Lt,Xt){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var Qt=lt;lt=Lt;try{return Xt()}finally{lt=Qt}},e.unstable_scheduleCallback=function(Lt,Xt,Qt){var St=e.unstable_now();switch(typeof Qt=="object"&&Qt!==null?(Qt=Qt.delay,Qt=typeof Qt=="number"&&0<Qt?St+Qt:St):Qt=St,Lt){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=Qt+rt,Lt={id:it++,callback:Xt,priorityLevel:Lt,startTime:Qt,expirationTime:rt,sortIndex:-1},Qt>St?(Lt.sortIndex=Qt,i(_e,Lt),o(ot)===null&&Lt===o(_e)&&(st?(b($),$=-1):st=!0,zt(g,Qt-St))):(Lt.sortIndex=rt,i(ot,Lt),tt||at||(tt=!0,en(et))),Lt},e.unstable_shouldYield=gt,e.unstable_wrapCallback=function(Lt){var Xt=lt;return function(){var Qt=lt;lt=Xt;try{return Lt.apply(this,arguments)}finally{lt=Qt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,o,s){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,o,s){if(i===null||typeof i>"u"||pa(e,i,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,o,s,c,a,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=a,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,o,s){var c=z.hasOwnProperty(i)?z[i]:null;(c!==null?c.type!==0:s||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,o,c,s)&&(o=null),s||c===null?oa(i)&&(o===null?e.removeAttribute(i):e.setAttribute(i,""+o)):c.mustUseProperty?e[c.propertyName]=o===null?c.type===3?!1:"":o:(i=c.attributeName,s=c.attributeNamespace,o===null?e.removeAttribute(i):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,s?e.setAttributeNS(s,i,o):e.setAttribute(i,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_e){var s=_e}Reflect.construct(e,[],i)}else{try{i.call()}catch(_e){s=_e}e.call(i.prototype)}else{try{throw Error()}catch(_e){s=_e}e()}}catch(_e){if(_e&&s&&typeof _e.stack=="string"){for(var c=_e.stack.split(`
`),a=s.stack.split(`
`),h=c.length-1,ut=a.length-1;1<=h&&0<=ut&&c[h]!==a[ut];)ut--;for(;1<=h&&0<=ut;h--,ut--)if(c[h]!==a[ut]){if(h!==1||ut!==1)do if(h--,ut--,0>ut||c[h]!==a[ut]){var ot=`
`+c[h].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=h&&0<=ut);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),s=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,a=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(h){s=""+h,a.call(this,h)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),s="";return e&&(s=Ta(e)?e.checked?"true":"false":e.value),e=s,e!==o?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var o=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Za(e,i){var o=i.defaultValue==null?"":i.defaultValue,s=i.checked!=null?i.checked:i.defaultChecked;o=Sa(i.value!=null?i.value:o),e._wrapperState={initialChecked:s,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var o=Sa(i.value),s=i.type;if(o!=null)s==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,o):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var s=i.type;if(!(s!=="submit"&&s!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,o||i===e.value||(e.value=i),e.defaultValue=i}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function cb(e,i,o){(i!=="number"||Xa(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var eb=Array.isArray;function fb(e,i,o,s){if(e=e.options,i){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=i.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Sa(o),i=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}i=o}i==null&&(i=""),o=i}e._wrapperState={initialValue:Sa(o)}}function ib(e,i){var o=Sa(i.value),s=Sa(i.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),i.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),s!=null&&(e.defaultValue=""+s)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,s,c){MSApp.execUnsafeLocalFunction(function(){return e(i,o,s,c)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var o in i)if(i.hasOwnProperty(o)){var s=o.indexOf("--")===0,c=rb(o,i[o],s);o==="float"&&(o="cssFloat"),s?e.setProperty(o,c):e[o]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,o){if(Ib)return e(i,o);Ib=!0;try{return Gb(e,i,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var o=e.stateNode;if(o===null)return null;var s=Db(o);if(s===null)return null;o=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(p(231,i,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,o,s,c,a,h,ut,ot){var _e=Array.prototype.slice.call(arguments,3);try{i.apply(o,_e)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,o,s,c,a,h,ut,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,o,s,c,a,h,ut,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var _e=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_e)}}function Vb(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var o=e,s=i;;){var c=o.return;if(c===null)break;var a=c.alternate;if(a===null){if(s=c.return,s!==null){o=s;continue}break}if(c.child===a.child){for(a=c.child;a;){if(a===o)return Xb(c),e;if(a===s)return Xb(c),i;a=a.sibling}throw Error(p(188))}if(o.return!==s.return)o=c,s=a;else{for(var h=!1,ut=c.child;ut;){if(ut===o){h=!0,o=c,s=a;break}if(ut===s){h=!0,s=c,o=a;break}ut=ut.sibling}if(!h){for(ut=a.child;ut;){if(ut===o){h=!0,o=a,s=c;break}if(ut===s){h=!0,s=a,o=c;break}ut=ut.sibling}if(!h)throw Error(p(189))}}if(o.alternate!==s)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var o=e.pendingLanes;if(o===0)return 0;var s=0,c=e.suspendedLanes,a=e.pingedLanes,h=o&268435455;if(h!==0){var ut=h&~c;ut!==0?s=tc(ut):(a&=h,a!==0&&(s=tc(a)))}else h=o&~c,h!==0?s=tc(h):a!==0&&(s=tc(a));if(s===0)return 0;if(i!==0&&i!==s&&!(i&c)&&(c=s&-s,a=i&-i,c>=a||c===16&&(a&4194240)!==0))return i;if(s&4&&(s|=o&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=s;0<i;)o=31-oc(i),c=1<<o,s|=e[o],i&=~c;return s}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var o=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,a=e.pendingLanes;0<a;){var h=31-oc(a),ut=1<<h,ot=c[h];ot===-1?(!(ut&o)||ut&s)&&(c[h]=vc(ut,i)):ot<=i&&(e.expiredLanes|=ut),a&=~ut}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Ac(e,i,o){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=o}function Bc(e,i){var o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<o;){var c=31-oc(o),a=1<<c;i[c]=0,s[c]=-1,e[c]=-1,o&=~a}}function Cc(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var s=31-oc(o),c=1<<s;c&i|e[s]&i&&(e[s]|=i),o&=~c}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,o,s,c,a){return e===null||e.nativeEvent!==a?(e={blockedOn:i,domEventName:o,eventSystemFlags:s,nativeEvent:a,targetContainers:[c]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function Uc(e,i,o,s,c){switch(i){case"focusin":return Lc=Tc(Lc,e,i,o,s,c),!0;case"dragenter":return Mc=Tc(Mc,e,i,o,s,c),!0;case"mouseover":return Nc=Tc(Nc,e,i,o,s,c),!0;case"pointerover":var a=c.pointerId;return Oc.set(a,Tc(Oc.get(a)||null,e,i,o,s,c)),!0;case"gotpointercapture":return a=c.pointerId,Pc.set(a,Tc(Pc.get(a)||null,e,i,o,s,c)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var o=Vb(i);if(o!==null){if(i=o.tag,i===13){if(i=Wb(o),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);wb=s,o.target.dispatchEvent(s),wb=null}else return i=Cb(o),i!==null&&Fc(i),e.blockedOn=o,!1;i.shift()}return!0}function Zc(e,i,o){Xc(e)&&o.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(c){return ad(c,e)}if(0<Kc.length){ad(Kc[0],e);for(var o=1;o<Kc.length;o++){var s=Kc[o];s.blockedOn===e&&(s.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),o=0;o<Qc.length;o++)s=Qc[o],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,o,s){var c=C,a=cd.transition;cd.transition=null;try{C=1,fd(e,i,o,s)}finally{C=c,cd.transition=a}}function gd(e,i,o,s){var c=C,a=cd.transition;cd.transition=null;try{C=4,fd(e,i,o,s)}finally{C=c,cd.transition=a}}function fd(e,i,o,s){if(dd){var c=Yc(e,i,o,s);if(c===null)hd(e,i,s,id,o),Sc(e,s);else if(Uc(c,e,i,o,s))s.stopPropagation();else if(Sc(e,s),i&4&&-1<Rc.indexOf(e)){for(;c!==null;){var a=Cb(c);if(a!==null&&Ec(a),a=Yc(e,i,o,s),a===null&&hd(e,i,s,id,o),a===c)break;c=a}c!==null&&s.stopPropagation()}else hd(e,i,s,null,o)}}var id=null;function Yc(e,i,o,s){if(id=null,e=xb(s),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(o=i.tag,o===13){if(e=Wb(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,o=i.length,s,c="value"in kd?kd.value:kd.textContent,a=c.length;for(e=0;e<o&&i[e]===c[e];e++);var h=o-e;for(s=1;s<=h&&i[o-s]===c[a-s];s++);return md=c.slice(e,1<s?1-s:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(o,s,c,a,h){this._reactName=o,this._targetInst=c,this.type=s,this.nativeEvent=a,this.target=h,this.currentTarget=null;for(var ut in e)e.hasOwnProperty(ut)&&(o=e[ut],this[ut]=o?o(a):a[ut]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,o,s){Eb(s),i=oe(i,"onChange"),0<i.length&&(o=new td("onChange","change",null,o,s),e.push({event:o,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,o){e==="focusin"?(Ae(),pe=i,qe=o,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),s=Object.keys(i);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var c=o[s];if(!ja.call(i,c)||!He(e[c],i[c]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var o=Je(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=i&&s>=i)return{node:o,offset:i-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),o=e.focusedElem,s=e.selectionRange;if(i!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(s!==null&&Ne(o)){if(i=s.start,e=s.end,e===void 0&&(e=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(e,o.value.length);else if(e=(i=o.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var c=o.textContent.length,a=Math.min(s.start,c);s=s.end===void 0?a:Math.min(s.end,c),!e.extend&&a>s&&(c=s,s=a,a=c),c=Ke(o,a);var h=Ke(o,s);c&&h&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),e.removeAllRanges(),a>s?(e.addRange(i),e.extend(h.node,h.offset)):(i.setEnd(h.node,h.offset),e.addRange(i)))}}for(i=[],e=o;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)e=i[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Ne(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Ie(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(i=new td("onSelect","select",null,i,o),e.push({event:i,listeners:s}),i.target=Qe)))}function Ve(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ye)return Xe[e]=i[o];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,o){var s=e.type||"unknown-event";e.currentTarget=o,Ub(s,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],c=s.event;s=s.listeners;e:{var a=void 0;if(i)for(var h=s.length-1;0<=h;h--){var ut=s[h],ot=ut.instance,_e=ut.currentTarget;if(ut=ut.listener,ot!==a&&c.isPropagationStopped())break e;nf(c,ut,_e),a=ot}else for(h=0;h<s.length;h++){if(ut=s[h],ot=ut.instance,_e=ut.currentTarget,ut=ut.listener,ot!==a&&c.isPropagationStopped())break e;nf(c,ut,_e),a=ot}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var o=i[of];o===void 0&&(o=i[of]=new Set);var s=e+"__bubble";o.has(s)||(pf(i,e,2,!1),o.add(s))}function qf(e,i,o){var s=0;i&&(s|=4),pf(o,e,s,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,e),qf(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,o,s){switch(jd(i)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}o=c.bind(null,i,o,e),c=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(i,o,{capture:!0,passive:c}):e.addEventListener(i,o,!0):c!==void 0?e.addEventListener(i,o,{passive:c}):e.addEventListener(i,o,!1)}function hd(e,i,o,s,c){var a=s;if(!(i&1)&&!(i&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var ut=s.stateNode.containerInfo;if(ut===c||ut.nodeType===8&&ut.parentNode===c)break;if(h===4)for(h=s.return;h!==null;){var ot=h.tag;if((ot===3||ot===4)&&(ot=h.stateNode.containerInfo,ot===c||ot.nodeType===8&&ot.parentNode===c))return;h=h.return}for(;ut!==null;){if(h=Wc(ut),h===null)return;if(ot=h.tag,ot===5||ot===6){s=a=h;continue e}ut=ut.parentNode}}s=s.return}Jb(function(){var _e=a,it=xb(o),_t=[];e:{var lt=df.get(e);if(lt!==void 0){var at=td,tt=e;switch(e){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":at=Rd;break;case"focusin":tt="focus",at=Fd;break;case"focusout":tt="blur",at=Fd;break;case"beforeblur":case"afterblur":at=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Vd;break;case $e:case af:case bf:at=Hd;break;case cf:at=Xd;break;case"scroll":at=vd;break;case"wheel":at=Zd;break;case"copy":case"cut":case"paste":at=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Td}var st=(i&4)!==0,dt=!st&&e==="scroll",b=st?lt!==null?lt+"Capture":null:lt;st=[];for(var _=_e,d;_!==null;){d=_;var g=d.stateNode;if(d.tag===5&&g!==null&&(d=g,b!==null&&(g=Kb(_,b),g!=null&&st.push(tf(_,g,d)))),dt)break;_=_.return}0<st.length&&(lt=new at(lt,tt,null,o,it),_t.push({event:lt,listeners:st}))}}if(!(i&7)){e:{if(lt=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",lt&&o!==wb&&(tt=o.relatedTarget||o.fromElement)&&(Wc(tt)||tt[uf]))break e;if((at||lt)&&(lt=it.window===it?it:(lt=it.ownerDocument)?lt.defaultView||lt.parentWindow:window,at?(tt=o.relatedTarget||o.toElement,at=_e,tt=tt?Wc(tt):null,tt!==null&&(dt=Vb(tt),tt!==dt||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(at=null,tt=_e),at!==tt)){if(st=Bd,g="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(st=Td,g="onPointerLeave",b="onPointerEnter",_="pointer"),dt=at==null?lt:ue(at),d=tt==null?lt:ue(tt),lt=new st(g,_+"leave",at,o,it),lt.target=dt,lt.relatedTarget=d,g=null,Wc(it)===_e&&(st=new st(b,_+"enter",tt,o,it),st.target=d,st.relatedTarget=dt,g=st),dt=g,at&&tt)t:{for(st=at,b=tt,_=0,d=st;d;d=vf(d))_++;for(d=0,g=b;g;g=vf(g))d++;for(;0<_-d;)st=vf(st),_--;for(;0<d-_;)b=vf(b),d--;for(;_--;){if(st===b||b!==null&&st===b.alternate)break t;st=vf(st),b=vf(b)}st=null}else st=null;at!==null&&wf(_t,lt,at,st,!1),tt!==null&&dt!==null&&wf(_t,dt,tt,st,!0)}}e:{if(lt=_e?ue(_e):window,at=lt.nodeName&&lt.nodeName.toLowerCase(),at==="select"||at==="input"&&lt.type==="file")var et=ve;else if(me(lt))if(we)et=Fe;else{et=De;var mt=Ce}else(at=lt.nodeName)&&at.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(et=Ee);if(et&&(et=et(e,_e))){ne(_t,et,o,it);break e}mt&&mt(e,lt,_e),e==="focusout"&&(mt=lt._wrapperState)&&mt.controlled&&lt.type==="number"&&cb(lt,"number",lt.value)}switch(mt=_e?ue(_e):window,e){case"focusin":(me(mt)||mt.contentEditable==="true")&&(Qe=mt,Re=_e,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_t,o,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_t,o,it)}var Et;if(ae)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ie?ge(e,o)&&($="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&($="onCompositionStart");$&&(de&&o.locale!=="ko"&&(ie||$!=="onCompositionStart"?$==="onCompositionEnd"&&ie&&(Et=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),mt=oe(_e,$),0<mt.length&&($=new Ld($,e,null,o,it),_t.push({event:$,listeners:mt}),Et?$.data=Et:(Et=he(o),Et!==null&&($.data=Et)))),(Et=ce?je(e,o):ke(e,o))&&(_e=oe(_e,"onBeforeInput"),0<_e.length&&(it=new Ld("onBeforeInput","beforeinput",null,o,it),_t.push({event:it,listeners:_e}),it.data=Et))}se(_t,i)})}function tf(e,i,o){return{instance:e,listener:i,currentTarget:o}}function oe(e,i){for(var o=i+"Capture",s=[];e!==null;){var c=e,a=c.stateNode;c.tag===5&&a!==null&&(c=a,a=Kb(e,o),a!=null&&s.unshift(tf(e,a,c)),a=Kb(e,i),a!=null&&s.push(tf(e,a,c))),e=e.return}return s}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,o,s,c){for(var a=i._reactName,h=[];o!==null&&o!==s;){var ut=o,ot=ut.alternate,_e=ut.stateNode;if(ot!==null&&ot===s)break;ut.tag===5&&_e!==null&&(ut=_e,c?(ot=Kb(o,a),ot!=null&&h.unshift(tf(o,ot,ut))):c||(ot=Kb(o,a),ot!=null&&h.push(tf(o,ot,ut)))),o=o.return}h.length!==0&&e.push({event:i,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,o){if(i=zf(i),zf(e)!==i&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var o=i,s=0;do{var c=o.nextSibling;if(e.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0){e.removeChild(c),bd(i);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=c}while(o);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var o=e.parentNode;o;){if(i=o[uf]||o[Of]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Mf(e);e!==null;){if(o=e[Of])return o;e=Mf(e)}return i}e=o,o=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var o=e.type.contextTypes;if(!o)return Vf;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===i)return s.__reactInternalMemoizedMaskedChildContext;var c={},a;for(a in o)c[a]=i[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,o){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,o)}function bg(e,i,o){var s=e.stateNode;if(i=i.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var c in s)if(!(c in i))throw Error(p(108,Ra(e)||"Unknown",c));return A({},o,s)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,o){var s=e.stateNode;if(!s)throw Error(p(169));o?(e=bg(e,i,Xf),s.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var o=eg;for(C=1;e<o.length;e++){var s=o[e];do s=s(!0);while(s!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),c}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var s=rg;e=sg;var c=32-oc(s)-1;s&=~(1<<c),o+=1;var a=32-oc(i)+c;if(30<a){var h=c-c%5;a=(s&(1<<h)-1).toString(32),s>>=h,c-=h,rg=1<<32-oc(i)+c|o<<c|s,sg=a+e}else rg=1<<a|o<<c|s,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=e,i=e.deletions,i===null?(e.deletions=[o],e.flags|=16):i.push(o)}function Cg(e,i){switch(e.tag){case 5:var o=e.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=i,o.return=e,e.child=o,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var o=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(o.nextSibling);var s=xg;i&&Cg(e,i)?Ag(s,o):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var i=Mg.current;E(Mg),e._currentValue=i}function Sg(e,i,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===o)break;e=e.return}}function Tg(e,i){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(Ug=!0),e.firstContext=null)}function Vg(e){var i=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return i}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,i,o,s){var c=i.interleaved;return c===null?(o.next=o,Xg(i)):(o.next=c.next,c.next=o),i.interleaved=o,Zg(e,s)}function Zg(e,i){e.lanes|=i;var o=e.alternate;for(o!==null&&(o.lanes|=i),o=e,e=e.return;e!==null;)e.childLanes|=i,o=e.alternate,o!==null&&(o.childLanes|=i),o=e,e=e.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(e,i,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var c=s.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i,Zg(e,o)}return c=s.interleaved,c===null?(i.next=i,Xg(s)):(i.next=c.next,c.next=i),s.interleaved=i,Zg(e,o)}function eh(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var s=i.lanes;s&=e.pendingLanes,o|=s,i.lanes=o,Cc(e,o)}}function fh(e,i){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var c=null,a=null;if(o=o.firstBaseUpdate,o!==null){do{var h={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};a===null?c=a=h:a=a.next=h,o=o.next}while(o!==null);a===null?c=a=i:a=a.next=i}else c=a=i;o={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}function gh(e,i,o,s){var c=e.updateQueue;$g=!1;var a=c.firstBaseUpdate,h=c.lastBaseUpdate,ut=c.shared.pending;if(ut!==null){c.shared.pending=null;var ot=ut,_e=ot.next;ot.next=null,h===null?a=_e:h.next=_e,h=ot;var it=e.alternate;it!==null&&(it=it.updateQueue,ut=it.lastBaseUpdate,ut!==h&&(ut===null?it.firstBaseUpdate=_e:ut.next=_e,it.lastBaseUpdate=ot))}if(a!==null){var _t=c.baseState;h=0,it=_e=ot=null,ut=a;do{var lt=ut.lane,at=ut.eventTime;if((s&lt)===lt){it!==null&&(it=it.next={eventTime:at,lane:0,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null});e:{var tt=e,st=ut;switch(lt=i,at=o,st.tag){case 1:if(tt=st.payload,typeof tt=="function"){_t=tt.call(at,_t,lt);break e}_t=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=st.payload,lt=typeof tt=="function"?tt.call(at,_t,lt):tt,lt==null)break e;_t=A({},_t,lt);break e;case 2:$g=!0}}ut.callback!==null&&ut.lane!==0&&(e.flags|=64,lt=c.effects,lt===null?c.effects=[ut]:lt.push(ut))}else at={eventTime:at,lane:lt,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null},it===null?(_e=it=at,ot=_t):it=it.next=at,h|=lt;if(ut=ut.next,ut===null){if(ut=c.shared.pending,ut===null)break;lt=ut,ut=lt.next,lt.next=null,c.lastBaseUpdate=lt,c.shared.pending=null}}while(1);if(it===null&&(ot=_t),c.baseState=ot,c.firstBaseUpdate=_e,c.lastBaseUpdate=it,i=c.shared.interleaved,i!==null){c=i;do h|=c.lane,c=c.next;while(c!==i)}else a===null&&(c.shared.lanes=0);hh|=h,e.lanes=h,e.memoizedState=_t}}function ih(e,i,o){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var s=e[i],c=s.callback;if(c!==null){if(s.callback=null,s=o,typeof c!="function")throw Error(p(191,c));c.call(s)}}}var jh=new aa.Component().refs;function kh(e,i,o,s){i=e.memoizedState,o=o(s,i),o=o==null?i:A({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,o){e=e._reactInternals;var s=L(),c=lh(e),a=ch(s,c);a.payload=i,o!=null&&(a.callback=o),i=dh(e,a,c),i!==null&&(mh(i,e,c,s),eh(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var s=L(),c=lh(e),a=ch(s,c);a.tag=1,a.payload=i,o!=null&&(a.callback=o),i=dh(e,a,c),i!==null&&(mh(i,e,c,s),eh(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=L(),s=lh(e),c=ch(o,s);c.tag=2,i!=null&&(c.callback=i),i=dh(e,c,s),i!==null&&(mh(i,e,s,o),eh(i,e,s))}};function oh(e,i,o,s,c,a,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,h):i.prototype&&i.prototype.isPureReactComponent?!Ie(o,s)||!Ie(c,a):!0}function ph(e,i,o){var s=!1,c=Vf,a=i.contextType;return typeof a=="object"&&a!==null?a=Vg(a):(c=Zf(i)?Xf:H.current,s=i.contextTypes,a=(s=s!=null)?Yf(e,c):Vf),i=new i(o,a),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,e.stateNode=i,i._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=a),i}function qh(e,i,o,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,s),i.state!==e&&nh.enqueueReplaceState(i,i.state,null)}function rh(e,i,o,s){var c=e.stateNode;c.props=o,c.state=e.memoizedState,c.refs=jh,ah(e);var a=i.contextType;typeof a=="object"&&a!==null?c.context=Vg(a):(a=Zf(i)?Xf:H.current,c.context=Yf(e,a)),c.state=e.memoizedState,a=i.getDerivedStateFromProps,typeof a=="function"&&(kh(e,i,a,o),c.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&nh.enqueueReplaceState(c,c.state,null),gh(e,o,c,s),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,i,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var s=o.stateNode}if(!s)throw Error(p(147,e));var c=s,a=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===a?i.ref:(i=function(h){var ut=c.refs;ut===jh&&(ut=c.refs={}),h===null?delete ut[a]:ut[a]=h},i._stringRef=a,i)}if(typeof e!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,e))}return e}function th(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function uh(e){var i=e._init;return i(e._payload)}function vh(e){function i(b,_){if(e){var d=b.deletions;d===null?(b.deletions=[_],b.flags|=16):d.push(_)}}function o(b,_){if(!e)return null;for(;_!==null;)i(b,_),_=_.sibling;return null}function s(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function c(b,_){return b=wh(b,_),b.index=0,b.sibling=null,b}function a(b,_,d){return b.index=d,e?(d=b.alternate,d!==null?(d=d.index,d<_?(b.flags|=2,_):d):(b.flags|=2,_)):(b.flags|=1048576,_)}function h(b){return e&&b.alternate===null&&(b.flags|=2),b}function ut(b,_,d,g){return _===null||_.tag!==6?(_=xh(d,b.mode,g),_.return=b,_):(_=c(_,d),_.return=b,_)}function ot(b,_,d,g){var et=d.type;return et===ya?it(b,_,d.props.children,g,d.key):_!==null&&(_.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&uh(et)===_.type)?(g=c(_,d.props),g.ref=sh(b,_,d),g.return=b,g):(g=yh(d.type,d.key,d.props,null,b.mode,g),g.ref=sh(b,_,d),g.return=b,g)}function _e(b,_,d,g){return _===null||_.tag!==4||_.stateNode.containerInfo!==d.containerInfo||_.stateNode.implementation!==d.implementation?(_=zh(d,b.mode,g),_.return=b,_):(_=c(_,d.children||[]),_.return=b,_)}function it(b,_,d,g,et){return _===null||_.tag!==7?(_=Ah(d,b.mode,g,et),_.return=b,_):(_=c(_,d),_.return=b,_)}function _t(b,_,d){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xh(""+_,b.mode,d),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case va:return d=yh(_.type,_.key,_.props,null,b.mode,d),d.ref=sh(b,null,_),d.return=b,d;case wa:return _=zh(_,b.mode,d),_.return=b,_;case Ha:var g=_._init;return _t(b,g(_._payload),d)}if(eb(_)||Ka(_))return _=Ah(_,b.mode,d,null),_.return=b,_;th(b,_)}return null}function lt(b,_,d,g){var et=_!==null?_.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return et!==null?null:ut(b,_,""+d,g);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case va:return d.key===et?ot(b,_,d,g):null;case wa:return d.key===et?_e(b,_,d,g):null;case Ha:return et=d._init,lt(b,_,et(d._payload),g)}if(eb(d)||Ka(d))return et!==null?null:it(b,_,d,g,null);th(b,d)}return null}function at(b,_,d,g,et){if(typeof g=="string"&&g!==""||typeof g=="number")return b=b.get(d)||null,ut(_,b,""+g,et);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case va:return b=b.get(g.key===null?d:g.key)||null,ot(_,b,g,et);case wa:return b=b.get(g.key===null?d:g.key)||null,_e(_,b,g,et);case Ha:var mt=g._init;return at(b,_,d,mt(g._payload),et)}if(eb(g)||Ka(g))return b=b.get(d)||null,it(_,b,g,et,null);th(_,g)}return null}function tt(b,_,d,g){for(var et=null,mt=null,Et=_,$=_=0,ft=null;Et!==null&&$<d.length;$++){Et.index>$?(ft=Et,Et=null):ft=Et.sibling;var At=lt(b,Et,d[$],g);if(At===null){Et===null&&(Et=ft);break}e&&Et&&At.alternate===null&&i(b,Et),_=a(At,_,$),mt===null?et=At:mt.sibling=At,mt=At,Et=ft}if($===d.length)return o(b,Et),I&&tg(b,$),et;if(Et===null){for(;$<d.length;$++)Et=_t(b,d[$],g),Et!==null&&(_=a(Et,_,$),mt===null?et=Et:mt.sibling=Et,mt=Et);return I&&tg(b,$),et}for(Et=s(b,Et);$<d.length;$++)ft=at(Et,b,$,d[$],g),ft!==null&&(e&&ft.alternate!==null&&Et.delete(ft.key===null?$:ft.key),_=a(ft,_,$),mt===null?et=ft:mt.sibling=ft,mt=ft);return e&&Et.forEach(function(gt){return i(b,gt)}),I&&tg(b,$),et}function st(b,_,d,g){var et=Ka(d);if(typeof et!="function")throw Error(p(150));if(d=et.call(d),d==null)throw Error(p(151));for(var mt=et=null,Et=_,$=_=0,ft=null,At=d.next();Et!==null&&!At.done;$++,At=d.next()){Et.index>$?(ft=Et,Et=null):ft=Et.sibling;var gt=lt(b,Et,At.value,g);if(gt===null){Et===null&&(Et=ft);break}e&&Et&&gt.alternate===null&&i(b,Et),_=a(gt,_,$),mt===null?et=gt:mt.sibling=gt,mt=gt,Et=ft}if(At.done)return o(b,Et),I&&tg(b,$),et;if(Et===null){for(;!At.done;$++,At=d.next())At=_t(b,At.value,g),At!==null&&(_=a(At,_,$),mt===null?et=At:mt.sibling=At,mt=At);return I&&tg(b,$),et}for(Et=s(b,Et);!At.done;$++,At=d.next())At=at(Et,b,$,At.value,g),At!==null&&(e&&At.alternate!==null&&Et.delete(At.key===null?$:At.key),_=a(At,_,$),mt===null?et=At:mt.sibling=At,mt=At);return e&&Et.forEach(function(kt){return i(b,kt)}),I&&tg(b,$),et}function dt(b,_,d,g){if(typeof d=="object"&&d!==null&&d.type===ya&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case va:e:{for(var et=d.key,mt=_;mt!==null;){if(mt.key===et){if(et=d.type,et===ya){if(mt.tag===7){o(b,mt.sibling),_=c(mt,d.props.children),_.return=b,b=_;break e}}else if(mt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&uh(et)===mt.type){o(b,mt.sibling),_=c(mt,d.props),_.ref=sh(b,mt,d),_.return=b,b=_;break e}o(b,mt);break}else i(b,mt);mt=mt.sibling}d.type===ya?(_=Ah(d.props.children,b.mode,g,d.key),_.return=b,b=_):(g=yh(d.type,d.key,d.props,null,b.mode,g),g.ref=sh(b,_,d),g.return=b,b=g)}return h(b);case wa:e:{for(mt=d.key;_!==null;){if(_.key===mt)if(_.tag===4&&_.stateNode.containerInfo===d.containerInfo&&_.stateNode.implementation===d.implementation){o(b,_.sibling),_=c(_,d.children||[]),_.return=b,b=_;break e}else{o(b,_);break}else i(b,_);_=_.sibling}_=zh(d,b.mode,g),_.return=b,b=_}return h(b);case Ha:return mt=d._init,dt(b,_,mt(d._payload),g)}if(eb(d))return tt(b,_,d,g);if(Ka(d))return st(b,_,d,g);th(b,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,_!==null&&_.tag===6?(o(b,_.sibling),_=c(_,d),_.return=b,b=_):(o(b,_),_=xh(d,b.mode,g),_.return=b,b=_),h(b)):o(b,_)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,i){switch(G(Gh,i),G(Fh,e),G(Eh,Dh),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var i=Hh(Eh.current),o=lb(i,e.type);i!==o&&(G(Fh,e),G(Eh,o))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!He(e[o],i[o]))return!1;return!0}function Xh(e,i,o,s,c,a){if(Rh=a,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=o(s,c),Th){a=0;do{if(Th=!1,Uh=0,25<=a)throw Error(p(301));a+=1,P=O=null,i.updateQueue=null,Ph.current=$h,e=o(s,c)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,i){return typeof i=="function"?i(e):i}function fi(e){var i=di(),o=i.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=e;var s=O,c=s.baseQueue,a=o.pending;if(a!==null){if(c!==null){var h=c.next;c.next=a.next,a.next=h}s.baseQueue=c=a,o.pending=null}if(c!==null){a=c.next,s=s.baseState;var ut=h=null,ot=null,_e=a;do{var it=_e.lane;if((Rh&it)===it)ot!==null&&(ot=ot.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),s=_e.hasEagerState?_e.eagerState:e(s,_e.action);else{var _t={lane:it,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ot===null?(ut=ot=_t,h=s):ot=ot.next=_t,N.lanes|=it,hh|=it}_e=_e.next}while(_e!==null&&_e!==a);ot===null?h=s:ot.next=ut,He(s,i.memoizedState)||(Ug=!0),i.memoizedState=s,i.baseState=h,i.baseQueue=ot,o.lastRenderedState=s}if(e=o.interleaved,e!==null){c=e;do a=c.lane,N.lanes|=a,hh|=a,c=c.next;while(c!==e)}else c===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function gi(e){var i=di(),o=i.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=e;var s=o.dispatch,c=o.pending,a=i.memoizedState;if(c!==null){o.pending=null;var h=c=c.next;do a=e(a,h.action),h=h.next;while(h!==c);He(a,i.memoizedState)||(Ug=!0),i.memoizedState=a,i.baseQueue===null&&(i.baseState=a),o.lastRenderedState=a}return[a,s]}function hi(){}function ii(e,i){var o=N,s=di(),c=i(),a=!He(s.memoizedState,c);if(a&&(s.memoizedState=c,Ug=!0),s=s.queue,ji(ki.bind(null,o,s,e),[e]),s.getSnapshot!==i||a||P!==null&&P.memoizedState.tag&1){if(o.flags|=2048,li(9,mi.bind(null,o,s,c,i),void 0,null),R===null)throw Error(p(349));Rh&30||ni(o,i,c)}return c}function ni(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function mi(e,i,o,s){i.value=o,i.getSnapshot=s,oi(i)&&pi(e)}function ki(e,i,o){return o(function(){oi(i)&&pi(e)})}function oi(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!He(e,o)}catch{return!0}}function pi(e){var i=Zg(e,1);i!==null&&mh(i,e,1,-1)}function qi(e){var i=ci();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i.queue=e,e=e.dispatch=ri.bind(null,N,e),[i.memoizedState,e]}function li(e,i,o,s){return e={tag:e,create:i,destroy:o,deps:s,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=e.next=e):(o=i.lastEffect,o===null?i.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,i.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,i,o,s){var c=ci();N.flags|=e,c.memoizedState=li(1|i,o,void 0,s===void 0?null:s)}function ui(e,i,o,s){var c=di();s=s===void 0?null:s;var a=void 0;if(O!==null){var h=O.memoizedState;if(a=h.destroy,s!==null&&Wh(s,h.deps)){c.memoizedState=li(i,o,a,s);return}}N.flags|=e,c.memoizedState=li(1|i,o,a,s)}function vi(e,i){return ti(8390656,8,e,i)}function ji(e,i){return ui(2048,8,e,i)}function wi(e,i){return ui(4,2,e,i)}function xi(e,i){return ui(4,4,e,i)}function yi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function zi(e,i,o){return o=o!=null?o.concat([e]):null,ui(4,4,yi.bind(null,i,e),o)}function Ai(){}function Bi(e,i){var o=di();i=i===void 0?null:i;var s=o.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(o.memoizedState=[e,i],e)}function Ci(e,i){var o=di();i=i===void 0?null:i;var s=o.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(e=e(),o.memoizedState=[e,i],e)}function Di(e,i,o){return Rh&21?(He(o,i)||(o=yc(),N.lanes|=o,hh|=o,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=o)}function Ei(e,i){var o=C;C=o!==0&&4>o?o:4,e(!0);var s=Qh.transition;Qh.transition={};try{e(!1),i()}finally{C=o,Qh.transition=s}}function Fi(){return di().memoizedState}function Gi(e,i,o){var s=lh(e);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(i,o);else if(o=Yg(e,i,o,s),o!==null){var c=L();mh(o,e,s,c),Ji(o,i,s)}}function ri(e,i,o){var s=lh(e),c={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(i,c);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=i.lastRenderedReducer,a!==null))try{var h=i.lastRenderedState,ut=a(h,o);if(c.hasEagerState=!0,c.eagerState=ut,He(ut,h)){var ot=i.interleaved;ot===null?(c.next=c,Xg(i)):(c.next=ot.next,ot.next=c),i.interleaved=c;return}}catch{}finally{}o=Yg(e,i,c,s),o!==null&&(c=L(),mh(o,e,s,c),Ji(o,i,s))}}function Hi(e){var i=e.alternate;return e===N||i!==null&&i===N}function Ii(e,i){Th=Sh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Ji(e,i,o){if(o&4194240){var s=i.lanes;s&=e.pendingLanes,o|=s,i.lanes=o,Cc(e,o)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,i){return ci().memoizedState=[e,i===void 0?null:i],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,i,o){return o=o!=null?o.concat([e]):null,ti(4194308,4,yi.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ti(4194308,4,e,i)},useInsertionEffect:function(e,i){return ti(4,2,e,i)},useMemo:function(e,i){var o=ci();return i=i===void 0?null:i,e=e(),o.memoizedState=[e,i],e},useReducer:function(e,i,o){var s=ci();return i=o!==void 0?o(i):i,s.memoizedState=s.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},s.queue=e,e=e.dispatch=Gi.bind(null,N,e),[s.memoizedState,e]},useRef:function(e){var i=ci();return e={current:e},i.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),i=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,o){var s=N,c=ci();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=i(),R===null)throw Error(p(349));Rh&30||ni(s,i,o)}c.memoizedState=o;var a={value:o,getSnapshot:i};return c.queue=a,vi(ki.bind(null,s,a,e),[e]),s.flags|=2048,li(9,mi.bind(null,s,a,o,i),void 0,null),o},useId:function(){var e=ci(),i=R.identifierPrefix;if(I){var o=sg,s=rg;o=(s&~(1<<32-oc(s)-1)).toString(32)+o,i=":"+i+"R"+o,o=Uh++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Vh++,i=":"+i+"r"+o.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return Di(i,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return O===null?i.memoizedState=e:Di(i,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,i){try{var o="",s=i;do o+=Pa(s),s=s.return;while(s);var c=o}catch(a){c=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:i,stack:c,digest:null}}function Li(e,i,o){return{value:e,source:null,stack:o??null,digest:i??null}}function Mi(e,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,i,o){o=ch(-1,o),o.tag=3,o.payload={element:null};var s=i.value;return o.callback=function(){Pi||(Pi=!0,Qi=s),Mi(e,i)},o}function Ri(e,i,o){o=ch(-1,o),o.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var c=i.value;o.payload=function(){return s(c)},o.callback=function(){Mi(e,i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(o.callback=function(){Mi(e,i),typeof s!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var h=i.stack;this.componentDidCatch(i.value,{componentStack:h!==null?h:""})}),o}function Ti(e,i,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Ni;var c=new Set;s.set(i,c)}else c=s.get(i),c===void 0&&(c=new Set,s.set(i,c));c.has(o)||(c.add(o),e=Ui.bind(null,e,i,o),i.then(e,e))}function Vi(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Wi(e,i,o,s,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===i?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=ch(-1,1),i.tag=2,dh(o,i,1))),o.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,i,o,s){i.child=e===null?Ch(i,null,o,s):Bh(i,e.child,o,s)}function Zi(e,i,o,s,c){o=o.render;var a=i.ref;return Tg(i,c),s=Xh(e,i,o,s,a,c),o=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,$i(e,i,c)):(I&&o&&vg(i),i.flags|=1,Yi(e,i,s,c),i.child)}function aj(e,i,o,s,c){if(e===null){var a=o.type;return typeof a=="function"&&!bj(a)&&a.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=a,cj(e,i,a,s,c)):(e=yh(o.type,null,s,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(a=e.child,!(e.lanes&c)){var h=a.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(h,s)&&e.ref===i.ref)return $i(e,i,c)}return i.flags|=1,e=wh(a,s),e.ref=i.ref,e.return=i,i.child=e}function cj(e,i,o,s,c){if(e!==null){var a=e.memoizedProps;if(Ie(a,s)&&e.ref===i.ref)if(Ug=!1,i.pendingProps=s=a,(e.lanes&c)!==0)e.flags&131072&&(Ug=!0);else return i.lanes=e.lanes,$i(e,i,c)}return dj(e,i,o,s,c)}function ej(e,i,o){var s=i.pendingProps,c=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=o;else{if(!(o&1073741824))return e=a!==null?a.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:o,G(fj,gj),gj|=s}else a!==null?(s=a.baseLanes|o,i.memoizedState=null):s=o,G(fj,gj),gj|=s;return Yi(e,i,c,o),i.child}function hj(e,i){var o=i.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function dj(e,i,o,s,c){var a=Zf(o)?Xf:H.current;return a=Yf(i,a),Tg(i,c),o=Xh(e,i,o,s,a,c),s=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~c,$i(e,i,c)):(I&&s&&vg(i),i.flags|=1,Yi(e,i,o,c),i.child)}function ij(e,i,o,s,c){if(Zf(o)){var a=!0;cg(i)}else a=!1;if(Tg(i,c),i.stateNode===null)jj(e,i),ph(i,o,s),rh(i,o,s,c),s=!0;else if(e===null){var h=i.stateNode,ut=i.memoizedProps;h.props=ut;var ot=h.context,_e=o.contextType;typeof _e=="object"&&_e!==null?_e=Vg(_e):(_e=Zf(o)?Xf:H.current,_e=Yf(i,_e));var it=o.getDerivedStateFromProps,_t=typeof it=="function"||typeof h.getSnapshotBeforeUpdate=="function";_t||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(ut!==s||ot!==_e)&&qh(i,h,s,_e),$g=!1;var lt=i.memoizedState;h.state=lt,gh(i,s,h,c),ot=i.memoizedState,ut!==s||lt!==ot||Wf.current||$g?(typeof it=="function"&&(kh(i,o,it,s),ot=i.memoizedState),(ut=$g||oh(i,o,ut,s,lt,ot,_e))?(_t||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=ot),h.props=s,h.state=ot,h.context=_e,s=ut):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{h=i.stateNode,bh(e,i),ut=i.memoizedProps,_e=i.type===i.elementType?ut:Lg(i.type,ut),h.props=_e,_t=i.pendingProps,lt=h.context,ot=o.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(o)?Xf:H.current,ot=Yf(i,ot));var at=o.getDerivedStateFromProps;(it=typeof at=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(ut!==_t||lt!==ot)&&qh(i,h,s,ot),$g=!1,lt=i.memoizedState,h.state=lt,gh(i,s,h,c);var tt=i.memoizedState;ut!==_t||lt!==tt||Wf.current||$g?(typeof at=="function"&&(kh(i,o,at,s),tt=i.memoizedState),(_e=$g||oh(i,o,_e,s,lt,tt,ot)||!1)?(it||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,tt,ot),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,tt,ot)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||ut===e.memoizedProps&&lt===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||ut===e.memoizedProps&&lt===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=tt),h.props=s,h.state=tt,h.context=ot,s=_e):(typeof h.componentDidUpdate!="function"||ut===e.memoizedProps&&lt===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||ut===e.memoizedProps&&lt===e.memoizedState||(i.flags|=1024),s=!1)}return kj(e,i,o,s,a,c)}function kj(e,i,o,s,c,a){hj(e,i);var h=(i.flags&128)!==0;if(!s&&!h)return c&&dg(i,o,!1),$i(e,i,a);s=i.stateNode,Xi.current=i;var ut=h&&typeof o.getDerivedStateFromError!="function"?null:s.render();return i.flags|=1,e!==null&&h?(i.child=Bh(i,e.child,null,a),i.child=Bh(i,null,ut,a)):Yi(e,i,ut,a),i.memoizedState=s.state,c&&dg(i,o,!0),i.child}function lj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),Ih(e,i.containerInfo)}function mj(e,i,o,s,c){return Ig(),Jg(c),i.flags|=256,Yi(e,i,o,s),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,i,o){var s=i.pendingProps,c=M.current,a=!1,h=(i.flags&128)!==0,ut;if((ut=h)||(ut=e!==null&&e.memoizedState===null?!1:(c&2)!==0),ut?(a=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G(M,c&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(h=s.children,e=s.fallback,a?(s=i.mode,a=i.child,h={mode:"hidden",children:h},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=h):a=qj(h,s,0,null),e=Ah(e,s,o,null),a.return=i,e.return=i,a.sibling=e,i.child=a,i.child.memoizedState=oj(o),i.memoizedState=nj,e):rj(i,h));if(c=e.memoizedState,c!==null&&(ut=c.dehydrated,ut!==null))return sj(e,i,h,s,ut,c,o);if(a){a=s.fallback,h=i.mode,c=e.child,ut=c.sibling;var ot={mode:"hidden",children:s.children};return!(h&1)&&i.child!==c?(s=i.child,s.childLanes=0,s.pendingProps=ot,i.deletions=null):(s=wh(c,ot),s.subtreeFlags=c.subtreeFlags&14680064),ut!==null?a=wh(ut,a):(a=Ah(a,h,o,null),a.flags|=2),a.return=i,s.return=i,s.sibling=a,i.child=s,s=a,a=i.child,h=e.child.memoizedState,h=h===null?oj(o):{baseLanes:h.baseLanes|o,cachePool:null,transitions:h.transitions},a.memoizedState=h,a.childLanes=e.childLanes&~o,i.memoizedState=nj,s}return a=e.child,e=a.sibling,s=wh(a,{mode:"visible",children:s.children}),!(i.mode&1)&&(s.lanes=o),s.return=i,s.sibling=null,e!==null&&(o=i.deletions,o===null?(i.deletions=[e],i.flags|=16):o.push(e)),i.child=s,i.memoizedState=null,s}function rj(e,i){return i=qj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function tj(e,i,o,s){return s!==null&&Jg(s),Bh(i,e.child,null,o),e=rj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sj(e,i,o,s,c,a,h){if(o)return i.flags&256?(i.flags&=-257,s=Li(Error(p(422))),tj(e,i,h,s)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(a=s.fallback,c=i.mode,s=qj({mode:"visible",children:s.children},c,0,null),a=Ah(a,c,h,null),a.flags|=2,s.return=i,a.return=i,s.sibling=a,i.child=s,i.mode&1&&Bh(i,e.child,null,h),i.child.memoizedState=oj(h),i.memoizedState=nj,a);if(!(i.mode&1))return tj(e,i,h,null);if(c.data==="$!"){if(s=c.nextSibling&&c.nextSibling.dataset,s)var ut=s.dgst;return s=ut,a=Error(p(419)),s=Li(a,s,void 0),tj(e,i,h,s)}if(ut=(h&e.childLanes)!==0,Ug||ut){if(s=R,s!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(s.suspendedLanes|h)?0:c,c!==0&&c!==a.retryLane&&(a.retryLane=c,Zg(e,c),mh(s,e,c,-1))}return uj(),s=Li(Error(p(421))),tj(e,i,h,s)}return c.data==="$?"?(i.flags|=128,i.child=e.child,i=vj.bind(null,e),c._reactRetry=i,null):(e=a.treeContext,yg=Lf(c.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=rj(i,s.children),i.flags|=4096,i)}function wj(e,i,o){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),Sg(e.return,i,o)}function xj(e,i,o,s,c){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:c}:(a.isBackwards=i,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=o,a.tailMode=c)}function yj(e,i,o){var s=i.pendingProps,c=s.revealOrder,a=s.tail;if(Yi(e,i,s.children,o),s=M.current,s&2)s=s&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,o,i);else if(e.tag===19)wj(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(G(M,s),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(o=i.child,c=null;o!==null;)e=o.alternate,e!==null&&Mh(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=i.child,i.child=null):(c=o.sibling,o.sibling=null),xj(i,!1,c,o,a);break;case"backwards":for(o=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Mh(e)===null){i.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}xj(i,!0,o,null,a);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function $i(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),hh|=i.lanes,!(o&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,o=wh(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=wh(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function zj(e,i,o){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var s=i.type._context,c=i.memoizedProps.value;G(Mg,s._currentValue),s._currentValue=c;break;case 13:if(s=i.memoizedState,s!==null)return s.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):o&i.child.childLanes?pj(e,i,o):(G(M,M.current&1),e=$i(e,i,o),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(s=(o&i.childLanes)!==0,e.flags&128){if(s)return yj(e,i,o);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(M,M.current),s)break;return null;case 22:case 23:return i.lanes=0,ej(e,i,o)}return $i(e,i,o)}var Aj,Bj,Cj,Dj;Aj=function(e,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(e,i,o,s){var c=e.memoizedProps;if(c!==s){e=i.stateNode,Hh(Eh.current);var a=null;switch(o){case"input":c=Ya(e,c),s=Ya(e,s),a=[];break;case"select":c=A({},c,{value:void 0}),s=A({},s,{value:void 0}),a=[];break;case"textarea":c=gb(e,c),s=gb(e,s),a=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bf)}ub(o,s);var h;o=null;for(_e in c)if(!s.hasOwnProperty(_e)&&c.hasOwnProperty(_e)&&c[_e]!=null)if(_e==="style"){var ut=c[_e];for(h in ut)ut.hasOwnProperty(h)&&(o||(o={}),o[h]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?a||(a=[]):(a=a||[]).push(_e,null));for(_e in s){var ot=s[_e];if(ut=c!=null?c[_e]:void 0,s.hasOwnProperty(_e)&&ot!==ut&&(ot!=null||ut!=null))if(_e==="style")if(ut){for(h in ut)!ut.hasOwnProperty(h)||ot&&ot.hasOwnProperty(h)||(o||(o={}),o[h]="");for(h in ot)ot.hasOwnProperty(h)&&ut[h]!==ot[h]&&(o||(o={}),o[h]=ot[h])}else o||(a||(a=[]),a.push(_e,o)),o=ot;else _e==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ut=ut?ut.__html:void 0,ot!=null&&ut!==ot&&(a=a||[]).push(_e,ot)):_e==="children"?typeof ot!="string"&&typeof ot!="number"||(a=a||[]).push(_e,""+ot):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_e)?(ot!=null&&_e==="onScroll"&&D("scroll",e),a||ut===ot||(a=[])):(a=a||[]).push(_e,ot))}o&&(a=a||[]).push("style",o);var _e=a;(i.updateQueue=_e)&&(i.flags|=4)}};Dj=function(e,i,o,s){o!==s&&(i.flags|=4)};function Ej(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(i)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags&14680064,s|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=o,i}function Fj(e,i,o){var s=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return s=i.stateNode,Jh(),E(Wf),E(H),Oh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,i),S(i),null;case 5:Lh(i);var c=Hh(Gh.current);if(o=i.type,e!==null&&i.stateNode!=null)Cj(e,i,o,s,c),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!s){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=Hh(Eh.current),Gg(i)){s=i.stateNode,o=i.type;var a=i.memoizedProps;switch(s[Of]=i,s[Pf]=a,e=(i.mode&1)!==0,o){case"dialog":D("cancel",s),D("close",s);break;case"iframe":case"object":case"embed":D("load",s);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],s);break;case"source":D("error",s);break;case"img":case"image":case"link":D("error",s),D("load",s);break;case"details":D("toggle",s);break;case"input":Za(s,a),D("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},D("invalid",s);break;case"textarea":hb(s,a),D("invalid",s)}ub(o,a),c=null;for(var h in a)if(a.hasOwnProperty(h)){var ut=a[h];h==="children"?typeof ut=="string"?s.textContent!==ut&&(a.suppressHydrationWarning!==!0&&Af(s.textContent,ut,e),c=["children",ut]):typeof ut=="number"&&s.textContent!==""+ut&&(a.suppressHydrationWarning!==!0&&Af(s.textContent,ut,e),c=["children",""+ut]):ea.hasOwnProperty(h)&&ut!=null&&h==="onScroll"&&D("scroll",s)}switch(o){case"input":Va(s),db(s,a,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Bf)}s=c,i.updateQueue=s,s!==null&&(i.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(o,{is:s.is}):(e=h.createElement(o),o==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,o),e[Of]=i,e[Pf]=s,Aj(e,i,!1,!1),i.stateNode=e;e:{switch(h=vb(o,s),o){case"dialog":D("cancel",e),D("close",e),c=s;break;case"iframe":case"object":case"embed":D("load",e),c=s;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],e);c=s;break;case"source":D("error",e),c=s;break;case"img":case"image":case"link":D("error",e),D("load",e),c=s;break;case"details":D("toggle",e),c=s;break;case"input":Za(e,s),c=Ya(e,s),D("invalid",e);break;case"option":c=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},c=A({},s,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,s),c=gb(e,s),D("invalid",e);break;default:c=s}ub(o,c),ut=c;for(a in ut)if(ut.hasOwnProperty(a)){var ot=ut[a];a==="style"?sb(e,ot):a==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(e,ot)):a==="children"?typeof ot=="string"?(o!=="textarea"||ot!=="")&&ob(e,ot):typeof ot=="number"&&ob(e,""+ot):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ea.hasOwnProperty(a)?ot!=null&&a==="onScroll"&&D("scroll",e):ot!=null&&ta(e,a,ot,h))}switch(o){case"input":Va(e),db(e,s,!1);break;case"textarea":Va(e),jb(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sa(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?fb(e,!!s.multiple,a,!1):s.defaultValue!=null&&fb(e,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Dj(e,i,e.memoizedProps,s);else{if(typeof s!="string"&&i.stateNode===null)throw Error(p(166));if(o=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(s=i.stateNode,o=i.memoizedProps,s[Of]=i,(a=s.nodeValue!==o)&&(e=xg,e!==null))switch(e.tag){case 3:Af(s.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(s.nodeValue,o,(e.mode&1)!==0)}a&&(i.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[Of]=i,i.stateNode=s}return S(i),null;case 13:if(E(M),s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,a=!1;else if(a=Gg(i),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(p(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));a[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),a=!1}else zg!==null&&(Gj(zg),zg=null),a=!0;if(!a)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(i.child.flags|=8192,i.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),a=i.memoizedState,a===null)return S(i),null;if(s=(i.flags&128)!==0,h=a.rendering,h===null)if(s)Ej(a,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(h=Mh(e),h!==null){for(i.flags|=128,Ej(a,!1),s=h.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),i.subtreeFlags=0,s=o,o=i.child;o!==null;)a=o,e=s,a.flags&=14680066,h=a.alternate,h===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,e=h.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return G(M,M.current&1|2),i.child}e=e.sibling}a.tail!==null&&B()>Hj&&(i.flags|=128,s=!0,Ej(a,!1),i.lanes=4194304)}else{if(!s)if(e=Mh(h),e!==null){if(i.flags|=128,s=!0,o=e.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ej(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!I)return S(i),null}else 2*B()-a.renderingStartTime>Hj&&o!==1073741824&&(i.flags|=128,s=!0,Ej(a,!1),i.lanes=4194304);a.isBackwards?(h.sibling=i.child,i.child=h):(o=a.last,o!==null?o.sibling=h:i.child=h,a.last=h)}return a.tail!==null?(i=a.tail,a.rendering=i,a.tail=i.sibling,a.renderingStartTime=B(),i.sibling=null,o=M.current,G(M,s?o&1|2:o&1),i):(S(i),null);case 22:case 23:return Ij(),s=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(i.flags|=8192),s&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Jj(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,i){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){W(e,i,s)}else o.current=null}function Nj(e,i,o){try{o()}catch(s){W(e,i,s)}}var Oj=!1;function Pj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var c=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{o.nodeType,a.nodeType}catch{o=null;break e}var h=0,ut=-1,ot=-1,_e=0,it=0,_t=e,lt=null;t:for(;;){for(var at;_t!==o||c!==0&&_t.nodeType!==3||(ut=h+c),_t!==a||s!==0&&_t.nodeType!==3||(ot=h+s),_t.nodeType===3&&(h+=_t.nodeValue.length),(at=_t.firstChild)!==null;)lt=_t,_t=at;for(;;){if(_t===e)break t;if(lt===o&&++_e===c&&(ut=h),lt===a&&++it===s&&(ot=h),(at=_t.nextSibling)!==null)break;_t=lt,lt=_t.parentNode}_t=at}o=ut===-1||ot===-1?null:{start:ut,end:ot}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:e,selectionRange:o},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var tt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var st=tt.memoizedProps,dt=tt.memoizedState,b=i.stateNode,_=b.getSnapshotBeforeUpdate(i.elementType===i.type?st:Lg(i.type,st),dt);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var d=i.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(g){W(i,i.return,g)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return tt=Oj,Oj=!1,tt}function Qj(e,i,o){var s=i.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&e)===e){var a=c.destroy;c.destroy=void 0,a!==void 0&&Nj(i,o,a)}c=c.next}while(c!==s)}}function Rj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var s=o.create;o.destroy=s()}o=o.next}while(o!==i)}}function Sj(e){var i=e.ref;if(i!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof i=="function"?i(e):i.current=e}}function Tj(e){var i=e.alternate;i!==null&&(e.alternate=null,Tj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,i,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(e,i):o.insertBefore(e,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(e,o)):(i=o,i.appendChild(e)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Bf));else if(s!==4&&(e=e.child,e!==null))for(Wj(e,i,o),e=e.sibling;e!==null;)Wj(e,i,o),e=e.sibling}function Xj(e,i,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Xj(e,i,o),e=e.sibling;e!==null;)Xj(e,i,o),e=e.sibling}var X=null,Yj=!1;function Zj(e,i,o){for(o=o.child;o!==null;)ak(e,i,o),o=o.sibling}function ak(e,i,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Mj(o,i);case 6:var s=X,c=Yj;X=null,Zj(e,i,o),X=s,Yj=c,X!==null&&(Yj?(e=X,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Yj?(e=X,o=o.stateNode,e.nodeType===8?Kf(e.parentNode,o):e.nodeType===1&&Kf(e,o),bd(e)):Kf(X,o.stateNode));break;case 4:s=X,c=Yj,X=o.stateNode.containerInfo,Yj=!0,Zj(e,i,o),X=s,Yj=c;break;case 0:case 11:case 14:case 15:if(!U&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){c=s=s.next;do{var a=c,h=a.destroy;a=a.tag,h!==void 0&&(a&2||a&4)&&Nj(o,i,h),c=c.next}while(c!==s)}Zj(e,i,o);break;case 1:if(!U&&(Mj(o,i),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(ut){W(o,i,ut)}Zj(e,i,o);break;case 21:Zj(e,i,o);break;case 22:o.mode&1?(U=(s=U)||o.memoizedState!==null,Zj(e,i,o),U=s):Zj(e,i,o);break;default:Zj(e,i,o)}}function bk(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Lj),i.forEach(function(s){var c=ck.bind(null,e,s);o.has(s)||(o.add(s),s.then(c,c))})}}function dk(e,i){var o=i.deletions;if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];try{var a=e,h=i,ut=h;e:for(;ut!==null;){switch(ut.tag){case 5:X=ut.stateNode,Yj=!1;break e;case 3:X=ut.stateNode.containerInfo,Yj=!0;break e;case 4:X=ut.stateNode.containerInfo,Yj=!0;break e}ut=ut.return}if(X===null)throw Error(p(160));ak(a,h,c),X=null,Yj=!1;var ot=c.alternate;ot!==null&&(ot.return=null),c.return=null}catch(_e){W(c,i,_e)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,e),i=i.sibling}function ek(e,i){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(i,e),fk(e),s&4){try{Qj(3,e,e.return),Rj(3,e)}catch(st){W(e,e.return,st)}try{Qj(5,e,e.return)}catch(st){W(e,e.return,st)}}break;case 1:dk(i,e),fk(e),s&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(i,e),fk(e),s&512&&o!==null&&Mj(o,o.return),e.flags&32){var c=e.stateNode;try{ob(c,"")}catch(st){W(e,e.return,st)}}if(s&4&&(c=e.stateNode,c!=null)){var a=e.memoizedProps,h=o!==null?o.memoizedProps:a,ut=e.type,ot=e.updateQueue;if(e.updateQueue=null,ot!==null)try{ut==="input"&&a.type==="radio"&&a.name!=null&&ab(c,a),vb(ut,h);var _e=vb(ut,a);for(h=0;h<ot.length;h+=2){var it=ot[h],_t=ot[h+1];it==="style"?sb(c,_t):it==="dangerouslySetInnerHTML"?nb(c,_t):it==="children"?ob(c,_t):ta(c,it,_t,_e)}switch(ut){case"input":bb(c,a);break;case"textarea":ib(c,a);break;case"select":var lt=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!a.multiple;var at=a.value;at!=null?fb(c,!!a.multiple,at,!1):lt!==!!a.multiple&&(a.defaultValue!=null?fb(c,!!a.multiple,a.defaultValue,!0):fb(c,!!a.multiple,a.multiple?[]:"",!1))}c[Pf]=a}catch(st){W(e,e.return,st)}}break;case 6:if(dk(i,e),fk(e),s&4){if(e.stateNode===null)throw Error(p(162));c=e.stateNode,a=e.memoizedProps;try{c.nodeValue=a}catch(st){W(e,e.return,st)}}break;case 3:if(dk(i,e),fk(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(st){W(e,e.return,st)}break;case 4:dk(i,e),fk(e);break;case 13:dk(i,e),fk(e),c=e.child,c.flags&8192&&(a=c.memoizedState!==null,c.stateNode.isHidden=a,!a||c.alternate!==null&&c.alternate.memoizedState!==null||(gk=B())),s&4&&bk(e);break;case 22:if(it=o!==null&&o.memoizedState!==null,e.mode&1?(U=(_e=U)||it,dk(i,e),U=_e):dk(i,e),fk(e),s&8192){if(_e=e.memoizedState!==null,(e.stateNode.isHidden=_e)&&!it&&e.mode&1)for(V=e,it=e.child;it!==null;){for(_t=V=it;V!==null;){switch(lt=V,at=lt.child,lt.tag){case 0:case 11:case 14:case 15:Qj(4,lt,lt.return);break;case 1:Mj(lt,lt.return);var tt=lt.stateNode;if(typeof tt.componentWillUnmount=="function"){s=lt,o=lt.return;try{i=s,tt.props=i.memoizedProps,tt.state=i.memoizedState,tt.componentWillUnmount()}catch(st){W(s,o,st)}}break;case 5:Mj(lt,lt.return);break;case 22:if(lt.memoizedState!==null){hk(_t);continue}}at!==null?(at.return=lt,V=at):hk(_t)}it=it.sibling}e:for(it=null,_t=e;;){if(_t.tag===5){if(it===null){it=_t;try{c=_t.stateNode,_e?(a=c.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(ut=_t.stateNode,ot=_t.memoizedProps.style,h=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,ut.style.display=rb("display",h))}catch(st){W(e,e.return,st)}}}else if(_t.tag===6){if(it===null)try{_t.stateNode.nodeValue=_e?"":_t.memoizedProps}catch(st){W(e,e.return,st)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===e)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===e)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===e)break e;it===_t&&(it=null),_t=_t.return}it===_t&&(it=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:dk(i,e),fk(e),s&4&&bk(e);break;case 21:break;default:dk(i,e),fk(e)}}function fk(e){var i=e.flags;if(i&2){try{e:{for(var o=e.return;o!==null;){if(Uj(o)){var s=o;break e}o=o.return}throw Error(p(160))}switch(s.tag){case 5:var c=s.stateNode;s.flags&32&&(ob(c,""),s.flags&=-33);var a=Vj(e);Xj(e,a,c);break;case 3:case 4:var h=s.stateNode.containerInfo,ut=Vj(e);Wj(e,ut,h);break;default:throw Error(p(161))}}catch(ot){W(e,e.return,ot)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ik(e,i,o){V=e,jk(e)}function jk(e,i,o){for(var s=(e.mode&1)!==0;V!==null;){var c=V,a=c.child;if(c.tag===22&&s){var h=c.memoizedState!==null||Kj;if(!h){var ut=c.alternate,ot=ut!==null&&ut.memoizedState!==null||U;ut=Kj;var _e=U;if(Kj=h,(U=ot)&&!_e)for(V=c;V!==null;)h=V,ot=h.child,h.tag===22&&h.memoizedState!==null?kk(c):ot!==null?(ot.return=h,V=ot):kk(c);for(;a!==null;)V=a,jk(a),a=a.sibling;V=c,Kj=ut,U=_e}lk(e)}else c.subtreeFlags&8772&&a!==null?(a.return=c,V=a):lk(e)}}function lk(e){for(;V!==null;){var i=V;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var s=i.stateNode;if(i.flags&4&&!U)if(o===null)s.componentDidMount();else{var c=i.elementType===i.type?o.memoizedProps:Lg(i.type,o.memoizedProps);s.componentDidUpdate(c,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=i.updateQueue;a!==null&&ih(i,a,s);break;case 3:var h=i.updateQueue;if(h!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}ih(i,h,o)}break;case 5:var ut=i.stateNode;if(o===null&&i.flags&4){o=ut;var ot=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&o.focus();break;case"img":ot.src&&(o.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _e=i.alternate;if(_e!==null){var it=_e.memoizedState;if(it!==null){var _t=it.dehydrated;_t!==null&&bd(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Sj(i)}catch(lt){W(i,i.return,lt)}}if(i===e){V=null;break}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}}function hk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var o=i.sibling;if(o!==null){o.return=i.return,V=o;break}V=i.return}}function kk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Rj(4,i)}catch(ot){W(i,o,ot)}break;case 1:var s=i.stateNode;if(typeof s.componentDidMount=="function"){var c=i.return;try{s.componentDidMount()}catch(ot){W(i,c,ot)}}var a=i.return;try{Sj(i)}catch(ot){W(i,a,ot)}break;case 5:var h=i.return;try{Sj(i)}catch(ot){W(i,h,ot)}}}catch(ot){W(i,i.return,ot)}if(i===e){V=null;break}var ut=i.sibling;if(ut!==null){ut.return=i.return,V=ut;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,i,o,s){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,o,s),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=o),T===4&&Dk(e,Z)),Ek(e,s),o===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,i){var o=e.callbackNode;wc(e,i);var s=uc(e,e===R?Z:0);if(s===0)o!==null&&bc(o),e.callbackNode=null,e.callbackPriority=0;else if(i=s&-s,e.callbackPriority!==i){if(o!=null&&bc(o),i===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(s)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Gk(o,Hk.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}}function Hk(e,i){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var o=e.callbackNode;if(Ik()&&e.callbackNode!==o)return null;var s=uc(e,e===R?Z:0);if(s===0)return null;if(s&30||s&e.expiredLanes||i)i=Jk(e,s);else{i=s;var c=K;K|=2;var a=Kk();(R!==e||Z!==i)&&(vk=null,Hj=B()+500,Lk(e,i));do try{Mk();break}catch(ut){Nk(e,ut)}while(1);Qg(),nk.current=a,K=c,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&(c=xc(e),c!==0&&(s=c,i=Ok(e,c))),i===1)throw o=qk,Lk(e,0),Dk(e,s),Ek(e,B()),o;if(i===6)Dk(e,s);else{if(c=e.current.alternate,!(s&30)&&!Pk(c)&&(i=Jk(e,s),i===2&&(a=xc(e),a!==0&&(s=a,i=Ok(e,a))),i===1))throw o=qk,Lk(e,0),Dk(e,s),Ek(e,B()),o;switch(e.finishedWork=c,e.finishedLanes=s,i){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,s),(s&130023424)===s&&(i=gk+500-B(),10<i)){if(uc(e,0)!==0)break;if(c=e.suspendedLanes,(c&s)!==s){L(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),i);break}Qk(e,uk,vk);break;case 4:if(Dk(e,s),(s&4194240)===s)break;for(i=e.eventTimes,c=-1;0<s;){var h=31-oc(s);a=1<<h,h=i[h],h>c&&(c=h),s&=~a}if(s=c,s=B()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*mk(s/1960))-s,10<s){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),s);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===o?Hk.bind(null,e):null}function Ok(e,i){var o=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,i).flags|=256),e=Jk(e,i),e!==2&&(i=uk,uk=o,i!==null&&Gj(i)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var i=e;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var c=o[s],a=c.getSnapshot;c=c.value;try{if(!He(a(),c))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(e,i){for(i&=~sk,i&=~rk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var o=31-oc(i),s=1<<o;e[o]=-1,i&=~s}}function Fk(e){if(K&6)throw Error(p(327));Ik();var i=uc(e,0);if(!(i&1))return Ek(e,B()),null;var o=Jk(e,i);if(e.tag!==0&&o===2){var s=xc(e);s!==0&&(i=s,o=Ok(e,s))}if(o===1)throw o=qk,Lk(e,0),Dk(e,i),Ek(e,B()),o;if(o===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,i){var o=K;K|=1;try{return e(i)}finally{K=o,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var o=pk.transition,s=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=s,pk.transition=o,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,i){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var s=o;switch(wg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(s);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(s.type._context);break;case 22:case 23:Ij()}o=o.return}if(R=e,Y=e=wh(e.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(o=Wg[i],s=o.interleaved,s!==null){o.interleaved=null;var c=s.next,a=o.pending;if(a!==null){var h=a.next;a.next=c,s.next=h}o.pending=s}Wg=null}return e}function Nk(e,i){do{var o=Y;try{if(Qg(),Ph.current=ai,Sh){for(var s=N.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,o===null||o.return===null){T=1,qk=i,Y=null;break}e:{var a=e,h=o.return,ut=o,ot=i;if(i=Z,ut.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var _e=ot,it=ut,_t=it.tag;if(!(it.mode&1)&&(_t===0||_t===11||_t===15)){var lt=it.alternate;lt?(it.updateQueue=lt.updateQueue,it.memoizedState=lt.memoizedState,it.lanes=lt.lanes):(it.updateQueue=null,it.memoizedState=null)}var at=Vi(h);if(at!==null){at.flags&=-257,Wi(at,h,ut,a,i),at.mode&1&&Ti(a,_e,i),i=at,ot=_e;var tt=i.updateQueue;if(tt===null){var st=new Set;st.add(ot),i.updateQueue=st}else tt.add(ot);break e}else{if(!(i&1)){Ti(a,_e,i),uj();break e}ot=Error(p(426))}}else if(I&&ut.mode&1){var dt=Vi(h);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,h,ut,a,i),Jg(Ki(ot,ut));break e}}a=ot=Ki(ot,ut),T!==4&&(T=2),tk===null?tk=[a]:tk.push(a),a=h;do{switch(a.tag){case 3:a.flags|=65536,i&=-i,a.lanes|=i;var b=Oi(a,ot,i);fh(a,b);break e;case 1:ut=ot;var _=a.type,d=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d)))){a.flags|=65536,i&=-i,a.lanes|=i;var g=Ri(a,ut,i);fh(a,g);break e}}a=a.return}while(a!==null)}Tk(o)}catch(et){i=et,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,i){var o=K;K|=2;var s=Kk();(R!==e||Z!==i)&&(vk=null,Lk(e,i));do try{Uk();break}catch(c){Nk(e,c)}while(1);if(Qg(),K=o,nk.current=s,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var i=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,i===null?Tk(e):Y=i,ok.current=null}function Tk(e){var i=e;do{var o=i.alternate;if(e=i.return,i.flags&32768){if(o=Jj(o,i),o!==null){o.flags&=32767,Y=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(o=Fj(o,i,gj),o!==null){Y=o;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Qk(e,i,o){var s=C,c=pk.transition;try{pk.transition=null,C=1,Xk(e,i,o,s)}finally{pk.transition=c,C=s}return null}function Xk(e,i,o,s){do Ik();while(xk!==null);if(K&6)throw Error(p(327));o=e.finishedWork;var c=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var a=o.lanes|o.childLanes;if(Bc(e,a),e===R&&(Y=R=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),a=(o.flags&15990)!==0,o.subtreeFlags&15990||a){a=pk.transition,pk.transition=null;var h=C;C=1;var ut=K;K|=4,ok.current=null,Pj(e,o),ek(o,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=o,ik(o),dc(),K=ut,C=h,pk.transition=a}else e.current=o;if(wk&&(wk=!1,xk=e,yk=c),a=e.pendingLanes,a===0&&(Si=null),mc(o.stateNode),Ek(e,B()),i!==null)for(s=e.onRecoverableError,o=0;o<i.length;o++)c=i[o],s(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),a=e.pendingLanes,a&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),i=pk.transition,o=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var s=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=e.current;V!==null;){var a=V,h=a.child;if(V.flags&16){var ut=a.deletions;if(ut!==null){for(var ot=0;ot<ut.length;ot++){var _e=ut[ot];for(V=_e;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Qj(8,it,a)}var _t=it.child;if(_t!==null)_t.return=it,V=_t;else for(;V!==null;){it=V;var lt=it.sibling,at=it.return;if(Tj(it),it===_e){V=null;break}if(lt!==null){lt.return=at,V=lt;break}V=at}}}var tt=a.alternate;if(tt!==null){var st=tt.child;if(st!==null){tt.child=null;do{var dt=st.sibling;st.sibling=null,st=dt}while(st!==null)}}V=a}}if(a.subtreeFlags&2064&&h!==null)h.return=a,V=h;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qj(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}var _=e.current;for(V=_;V!==null;){h=V;var d=h.child;if(h.subtreeFlags&2064&&d!==null)d.return=h,V=d;else e:for(h=_;V!==null;){if(ut=V,ut.flags&2048)try{switch(ut.tag){case 0:case 11:case 15:Rj(9,ut)}}catch(et){W(ut,ut.return,et)}if(ut===h){V=null;break e}var g=ut.sibling;if(g!==null){g.return=ut.return,V=g;break e}V=ut.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}s=!0}return s}finally{C=o,pk.transition=i}}return!1}function Yk(e,i,o){i=Ki(o,i),i=Oi(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i))}function W(e,i,o){if(e.tag===3)Yk(e,e,o);else for(;i!==null;){if(i.tag===3){Yk(i,e,o);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Si===null||!Si.has(s))){e=Ki(o,e),e=Ri(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e));break}}i=i.return}}function Ui(e,i,o){var s=e.pingCache;s!==null&&s.delete(i),i=L(),e.pingedLanes|=e.suspendedLanes&o,R===e&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=o),Ek(e,i)}function Zk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var o=L();e=Zg(e,i),e!==null&&(Ac(e,i,o),Ek(e,o))}function vj(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Zk(e,o)}function ck(e,i){var o=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(p(314))}s!==null&&s.delete(i),Zk(e,o)}var Wk;Wk=function(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&o)&&!(i.flags&128))return Ug=!1,zj(e,i,o);Ug=!!(e.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var s=i.type;jj(e,i),e=i.pendingProps;var c=Yf(i,H.current);Tg(i,o),c=Xh(null,i,s,e,c,o);var a=bi();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(s)?(a=!0,cg(i)):a=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ah(i),c.updater=nh,i.stateNode=c,c._reactInternals=i,rh(i,s,e,o),i=kj(null,i,s,!0,a,o)):(i.tag=0,I&&a&&vg(i),Yi(null,i,c,o),i=i.child),i;case 16:s=i.elementType;e:{switch(jj(e,i),e=i.pendingProps,c=s._init,s=c(s._payload),i.type=s,c=i.tag=$k(s),e=Lg(s,e),c){case 0:i=dj(null,i,s,e,o);break e;case 1:i=ij(null,i,s,e,o);break e;case 11:i=Zi(null,i,s,e,o);break e;case 14:i=aj(null,i,s,Lg(s.type,e),o);break e}throw Error(p(306,s,""))}return i;case 0:return s=i.type,c=i.pendingProps,c=i.elementType===s?c:Lg(s,c),dj(e,i,s,c,o);case 1:return s=i.type,c=i.pendingProps,c=i.elementType===s?c:Lg(s,c),ij(e,i,s,c,o);case 3:e:{if(lj(i),e===null)throw Error(p(387));s=i.pendingProps,a=i.memoizedState,c=a.element,bh(e,i),gh(i,s,null,o);var h=i.memoizedState;if(s=h.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},i.updateQueue.baseState=a,i.memoizedState=a,i.flags&256){c=Ki(Error(p(423)),i),i=mj(e,i,s,o,c);break e}else if(s!==c){c=Ki(Error(p(424)),i),i=mj(e,i,s,o,c);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,o=Ch(i,null,s,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),s===c){i=$i(e,i,o);break e}Yi(e,i,s,o)}i=i.child}return i;case 5:return Kh(i),e===null&&Eg(i),s=i.type,c=i.pendingProps,a=e!==null?e.memoizedProps:null,h=c.children,Ef(s,c)?h=null:a!==null&&Ef(s,a)&&(i.flags|=32),hj(e,i),Yi(e,i,h,o),i.child;case 6:return e===null&&Eg(i),null;case 13:return pj(e,i,o);case 4:return Ih(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=Bh(i,null,s,o):Yi(e,i,s,o),i.child;case 11:return s=i.type,c=i.pendingProps,c=i.elementType===s?c:Lg(s,c),Zi(e,i,s,c,o);case 7:return Yi(e,i,i.pendingProps,o),i.child;case 8:return Yi(e,i,i.pendingProps.children,o),i.child;case 12:return Yi(e,i,i.pendingProps.children,o),i.child;case 10:e:{if(s=i.type._context,c=i.pendingProps,a=i.memoizedProps,h=c.value,G(Mg,s._currentValue),s._currentValue=h,a!==null)if(He(a.value,h)){if(a.children===c.children&&!Wf.current){i=$i(e,i,o);break e}}else for(a=i.child,a!==null&&(a.return=i);a!==null;){var ut=a.dependencies;if(ut!==null){h=a.child;for(var ot=ut.firstContext;ot!==null;){if(ot.context===s){if(a.tag===1){ot=ch(-1,o&-o),ot.tag=2;var _e=a.updateQueue;if(_e!==null){_e=_e.shared;var it=_e.pending;it===null?ot.next=ot:(ot.next=it.next,it.next=ot),_e.pending=ot}}a.lanes|=o,ot=a.alternate,ot!==null&&(ot.lanes|=o),Sg(a.return,o,i),ut.lanes|=o;break}ot=ot.next}}else if(a.tag===10)h=a.type===i.type?null:a.child;else if(a.tag===18){if(h=a.return,h===null)throw Error(p(341));h.lanes|=o,ut=h.alternate,ut!==null&&(ut.lanes|=o),Sg(h,o,i),h=a.sibling}else h=a.child;if(h!==null)h.return=a;else for(h=a;h!==null;){if(h===i){h=null;break}if(a=h.sibling,a!==null){a.return=h.return,h=a;break}h=h.return}a=h}Yi(e,i,c.children,o),i=i.child}return i;case 9:return c=i.type,s=i.pendingProps.children,Tg(i,o),c=Vg(c),s=s(c),i.flags|=1,Yi(e,i,s,o),i.child;case 14:return s=i.type,c=Lg(s,i.pendingProps),c=Lg(s.type,c),aj(e,i,s,c,o);case 15:return cj(e,i,i.type,i.pendingProps,o);case 17:return s=i.type,c=i.pendingProps,c=i.elementType===s?c:Lg(s,c),jj(e,i),i.tag=1,Zf(s)?(e=!0,cg(i)):e=!1,Tg(i,o),ph(i,s,c),rh(i,s,c,o),kj(null,i,s,!0,e,o);case 19:return yj(e,i,o);case 22:return ej(e,i,o)}throw Error(p(156,i.tag))};function Gk(e,i){return ac(e,i)}function al(e,i,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,o,s){return new al(e,i,o,s)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,i){var o=e.alternate;return o===null?(o=Bg(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function yh(e,i,o,s,c,a){var h=2;if(s=e,typeof e=="function")bj(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ya:return Ah(o.children,c,a,i);case za:h=8,c|=8;break;case Aa:return e=Bg(12,o,i,c|2),e.elementType=Aa,e.lanes=a,e;case Ea:return e=Bg(13,o,i,c),e.elementType=Ea,e.lanes=a,e;case Fa:return e=Bg(19,o,i,c),e.elementType=Fa,e.lanes=a,e;case Ia:return qj(o,c,a,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,s=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(h,o,i,c),i.elementType=e,i.type=s,i.lanes=a,i}function Ah(e,i,o,s){return e=Bg(7,e,s,i),e.lanes=o,e}function qj(e,i,o,s){return e=Bg(22,e,s,i),e.elementType=Ia,e.lanes=o,e.stateNode={isHidden:!1},e}function xh(e,i,o){return e=Bg(6,e,null,i),e.lanes=o,e}function zh(e,i,o){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bl(e,i,o,s,c){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cl(e,i,o,s,c,a,h,ut,ot){return e=new bl(e,i,o,ut,ot),i===1?(i=1,a===!0&&(i|=8)):i=0,a=Bg(3,null,null,i),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(a),e}function dl(e,i,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:e,containerInfo:i,implementation:o}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var o=e.type;if(Zf(o))return bg(e,o,i)}return i}function fl(e,i,o,s,c,a,h,ut,ot){return e=cl(o,s,!0,e,c,a,h,ut,ot),e.context=el(null),o=e.current,s=L(),c=lh(o),a=ch(s,c),a.callback=i??null,dh(o,a,c),e.current.lanes=c,Ac(e,c,s),Ek(e,s),e}function gl(e,i,o,s){var c=i.current,a=L(),h=lh(c);return o=el(o),i.context===null?i.context=o:i.pendingContext=o,i=ch(a,h),i.payload={element:e},s=s===void 0?null:s,s!==null&&(i.callback=s),e=dh(c,i,h),e!==null&&(mh(e,c,h,a),eh(e,c,h)),h}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function jl(e,i){il(e,i),(e=e.alternate)&&il(e,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));gl(e,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sk(function(){gl(null,e,null,null)}),i[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Qc.length&&i!==0&&i<Qc[o].priority;o++);Qc.splice(o,0,e),o===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,i,o,s,c){if(c){if(typeof s=="function"){var a=s;s=function(){var _e=hl(h);a.call(_e)}}var h=fl(i,s,e,0,null,!1,!1,"",ql);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Sk(),h}for(;c=e.lastChild;)e.removeChild(c);if(typeof s=="function"){var ut=s;s=function(){var _e=hl(ot);ut.call(_e)}}var ot=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=ot,e[uf]=ot.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(i,ot,o,s)}),ot}function sl(e,i,o,s,c){var a=o._reactRootContainer;if(a){var h=a;if(typeof c=="function"){var ut=c;c=function(){var ot=hl(h);ut.call(ot)}}gl(i,h,e,c)}else h=rl(o,i,e,c,s);return hl(h)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var o=tc(i.pendingLanes);o!==0&&(Cc(i,o|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var s=Zg(e,1);if(s!==null){var c=L();mh(s,e,1,c)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var i=Zg(e,134217728);if(i!==null){var o=L();mh(i,e,134217728,o)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var i=lh(e),o=Zg(e,i);if(o!==null){var s=L();mh(o,e,i,s)}jl(e,i)}};Hc=function(){return C};Ic=function(e,i){var o=C;try{return C=e,i()}finally{C=o}};yb=function(e,i,o){switch(i){case"input":if(bb(e,o),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var s=o[i];if(s!==e&&s.form===e.form){var c=Db(s);if(!c)throw Error(p(90));Wa(s),bb(s,c)}}}break;case"textarea":ib(e,o);break;case"select":i=o.value,i!=null&&fb(e,!!o.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p(200));return dl(e,i,null,o)};reactDom_production_min.createRoot=function(e,i){if(!ol(e))throw Error(p(299));var o=!1,s="",c=ll;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=cl(e,1,!1,null,null,o,!1,s,c),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ml(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,i,o){if(!pl(i))throw Error(p(200));return sl(null,e,i,!0,o)};reactDom_production_min.hydrateRoot=function(e,i,o){if(!ol(e))throw Error(p(405));var s=o!=null&&o.hydratedSources||null,c=!1,a="",h=ll;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&(h=o.onRecoverableError)),i=fl(i,null,e,1,o??null,c,!1,a,h),e[uf]=i.current,sf(e),s)for(e=0;e<s.length;e++)o=s[e],c=o._getVersion,c=c(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,c]:i.mutableSourceEagerHydrationData.push(o,c);return new nl(i)};reactDom_production_min.render=function(e,i,o){if(!pl(i))throw Error(p(200));return sl(null,e,i,!1,o)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,o,s){if(!pl(o))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,i,o,!1,s)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const menu="https://papis-tacos.github.io/menu/assets/menu-2-compressed-8d827544.pdf",App$1="",index$1="";var lib={exports:{}},core_min={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,o){module.exports=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=St,i.bytesToString=Yt,i.createPromiseCapability=zn,i.createValidAbsoluteUrl=nt,i.getModificationDate=$n,i.getVerbosityLevel=zt,i.info=Lt,i.isArrayBuffer=Cn,i.isArrayEqual=Bn,i.objectFromMap=xt,i.objectSize=wt,i.setVerbosityLevel=en,i.shadow=vt,i.string32=ht,i.stringToBytes=ct,i.stringToPDFString=_n,i.stringToUTF8String=mn,i.unreachable=Qt,i.utf8StringToString=An,i.warn=Xt;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const s=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=s;const c=1.35;i.LINE_FACTOR=c;const a=.35;i.LINE_DESCENT_FACTOR=a;const h=a/c;i.BASELINE_FACTOR=h;const ut={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=ut;const ot={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=ot;const _e="pdfjs_internal_editor_";i.AnnotationEditorPrefix=_e;const it={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=it;const _t={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=_t;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=lt;const at={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=at;const tt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=tt;const st={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=st;const dt={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=dt;const b={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=b;const _={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=_;const d={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=d;const g={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=g;const et={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=et;const mt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=mt;const Et={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=Et;const $={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=$;const ft={O:"PageOpen",C:"PageClose"};i.PageActionEventType=ft;const At={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=At;const gt={NONE:0,BINARY:1};i.CMapCompressionType=gt;const kt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=kt;const Kt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=Kt;const $t={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=$t;let ln=At.WARNINGS;function en(Tt){Number.isInteger(Tt)&&(ln=Tt)}function zt(){return ln}function Lt(Tt){ln>=At.INFOS&&console.log(`Info: ${Tt}`)}function Xt(Tt){ln>=At.WARNINGS&&console.log(`Warning: ${Tt}`)}function Qt(Tt){throw new Error(Tt)}function St(Tt,Ft){Tt||Qt(Ft)}function rt(Tt){if(!Tt)return!1;switch(Tt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nt(Tt,Ft=null,jt=null){if(!Tt)return null;try{if(jt&&typeof Tt=="string"){if(jt.addDefaultProtocol&&Tt.startsWith("www.")){const jn=Tt.match(/\./g);jn&&jn.length>=2&&(Tt=`http://${Tt}`)}if(jt.tryConvertEncoding)try{Tt=mn(Tt)}catch{}}const fn=Ft?new URL(Tt,Ft):new URL(Tt);if(rt(fn))return fn}catch{}return null}function vt(Tt,Ft,jt,fn=!1){return Object.defineProperty(Tt,Ft,{value:jt,enumerable:!fn,configurable:!0,writable:!1}),jt}const Pt=function(){function Ft(jt,fn){this.constructor===Ft&&Qt("Cannot initialize BaseException."),this.message=jt,this.name=fn}return Ft.prototype=new Error,Ft.constructor=Ft,Ft}();i.BaseException=Pt;class Rt extends Pt{constructor(Ft,jt){super(Ft,"PasswordException"),this.code=jt}}i.PasswordException=Rt;class Dt extends Pt{constructor(Ft,jt){super(Ft,"UnknownErrorException"),this.details=jt}}i.UnknownErrorException=Dt;class Nt extends Pt{constructor(Ft){super(Ft,"InvalidPDFException")}}i.InvalidPDFException=Nt;class Zt extends Pt{constructor(Ft){super(Ft,"MissingPDFException")}}i.MissingPDFException=Zt;class sn extends Pt{constructor(Ft,jt){super(Ft,"UnexpectedResponseException"),this.status=jt}}i.UnexpectedResponseException=sn;class Jt extends Pt{constructor(Ft){super(Ft,"FormatError")}}i.FormatError=Jt;class nn extends Pt{constructor(Ft){super(Ft,"AbortException")}}i.AbortException=nn;function Yt(Tt){(typeof Tt!="object"||Tt===null||Tt.length===void 0)&&Qt("Invalid argument for bytesToString");const Ft=Tt.length,jt=8192;if(Ft<jt)return String.fromCharCode.apply(null,Tt);const fn=[];for(let jn=0;jn<Ft;jn+=jt){const Jn=Math.min(jn+jt,Ft),qt=Tt.subarray(jn,Jn);fn.push(String.fromCharCode.apply(null,qt))}return fn.join("")}function ct(Tt){typeof Tt!="string"&&Qt("Invalid argument for stringToBytes");const Ft=Tt.length,jt=new Uint8Array(Ft);for(let fn=0;fn<Ft;++fn)jt[fn]=Tt.charCodeAt(fn)&255;return jt}function ht(Tt){return String.fromCharCode(Tt>>24&255,Tt>>16&255,Tt>>8&255,Tt&255)}function wt(Tt){return Object.keys(Tt).length}function xt(Tt){const Ft=Object.create(null);for(const[jt,fn]of Tt)Ft[jt]=fn;return Ft}function bt(){const Tt=new Uint8Array(4);return Tt[0]=1,new Uint32Array(Tt.buffer,0,1)[0]===1}function Bt(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return vt(this,"isLittleEndian",bt())}static get isEvalSupported(){return vt(this,"isEvalSupported",Bt())}static get isOffscreenCanvasSupported(){return vt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?vt(this,"platform",{isWin:!1,isMac:!1}):vt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}i.FeatureTest=rn;const dn=[...Array(256).keys()].map(Tt=>Tt.toString(16).padStart(2,"0"));class gn{static makeHexColor(Ft,jt,fn){return`#${dn[Ft]}${dn[jt]}${dn[fn]}`}static scaleMinMax(Ft,jt){let fn;Ft[0]?(Ft[0]<0&&(fn=jt[0],jt[0]=jt[1],jt[1]=fn),jt[0]*=Ft[0],jt[1]*=Ft[0],Ft[3]<0&&(fn=jt[2],jt[2]=jt[3],jt[3]=fn),jt[2]*=Ft[3],jt[3]*=Ft[3]):(fn=jt[0],jt[0]=jt[2],jt[2]=fn,fn=jt[1],jt[1]=jt[3],jt[3]=fn,Ft[1]<0&&(fn=jt[2],jt[2]=jt[3],jt[3]=fn),jt[2]*=Ft[1],jt[3]*=Ft[1],Ft[2]<0&&(fn=jt[0],jt[0]=jt[1],jt[1]=fn),jt[0]*=Ft[2],jt[1]*=Ft[2]),jt[0]+=Ft[4],jt[1]+=Ft[4],jt[2]+=Ft[5],jt[3]+=Ft[5]}static transform(Ft,jt){return[Ft[0]*jt[0]+Ft[2]*jt[1],Ft[1]*jt[0]+Ft[3]*jt[1],Ft[0]*jt[2]+Ft[2]*jt[3],Ft[1]*jt[2]+Ft[3]*jt[3],Ft[0]*jt[4]+Ft[2]*jt[5]+Ft[4],Ft[1]*jt[4]+Ft[3]*jt[5]+Ft[5]]}static applyTransform(Ft,jt){const fn=Ft[0]*jt[0]+Ft[1]*jt[2]+jt[4],jn=Ft[0]*jt[1]+Ft[1]*jt[3]+jt[5];return[fn,jn]}static applyInverseTransform(Ft,jt){const fn=jt[0]*jt[3]-jt[1]*jt[2],jn=(Ft[0]*jt[3]-Ft[1]*jt[2]+jt[2]*jt[5]-jt[4]*jt[3])/fn,Jn=(-Ft[0]*jt[1]+Ft[1]*jt[0]+jt[4]*jt[1]-jt[5]*jt[0])/fn;return[jn,Jn]}static getAxialAlignedBoundingBox(Ft,jt){const fn=gn.applyTransform(Ft,jt),jn=gn.applyTransform(Ft.slice(2,4),jt),Jn=gn.applyTransform([Ft[0],Ft[3]],jt),qt=gn.applyTransform([Ft[2],Ft[1]],jt);return[Math.min(fn[0],jn[0],Jn[0],qt[0]),Math.min(fn[1],jn[1],Jn[1],qt[1]),Math.max(fn[0],jn[0],Jn[0],qt[0]),Math.max(fn[1],jn[1],Jn[1],qt[1])]}static inverseTransform(Ft){const jt=Ft[0]*Ft[3]-Ft[1]*Ft[2];return[Ft[3]/jt,-Ft[1]/jt,-Ft[2]/jt,Ft[0]/jt,(Ft[2]*Ft[5]-Ft[4]*Ft[3])/jt,(Ft[4]*Ft[1]-Ft[5]*Ft[0])/jt]}static singularValueDecompose2dScale(Ft){const jt=[Ft[0],Ft[2],Ft[1],Ft[3]],fn=Ft[0]*jt[0]+Ft[1]*jt[2],jn=Ft[0]*jt[1]+Ft[1]*jt[3],Jn=Ft[2]*jt[0]+Ft[3]*jt[2],qt=Ft[2]*jt[1]+Ft[3]*jt[3],pn=(fn+qt)/2,En=Math.sqrt((fn+qt)**2-4*(fn*qt-Jn*jn))/2,bn=pn+En||1,Yn=pn-En||1;return[Math.sqrt(bn),Math.sqrt(Yn)]}static normalizeRect(Ft){const jt=Ft.slice(0);return Ft[0]>Ft[2]&&(jt[0]=Ft[2],jt[2]=Ft[0]),Ft[1]>Ft[3]&&(jt[1]=Ft[3],jt[3]=Ft[1]),jt}static intersect(Ft,jt){const fn=Math.max(Math.min(Ft[0],Ft[2]),Math.min(jt[0],jt[2])),jn=Math.min(Math.max(Ft[0],Ft[2]),Math.max(jt[0],jt[2]));if(fn>jn)return null;const Jn=Math.max(Math.min(Ft[1],Ft[3]),Math.min(jt[1],jt[3])),qt=Math.min(Math.max(Ft[1],Ft[3]),Math.max(jt[1],jt[3]));return Jn>qt?null:[fn,Jn,jn,qt]}static bezierBoundingBox(Ft,jt,fn,jn,Jn,qt,pn,En){const bn=[],Yn=[[],[]];let lr,Zn,er,Kn,ir,xr,Er,Ar;for(let jr=0;jr<2;++jr){if(jr===0?(Zn=6*Ft-12*fn+6*Jn,lr=-3*Ft+9*fn-9*Jn+3*pn,er=3*fn-3*Ft):(Zn=6*jt-12*jn+6*qt,lr=-3*jt+9*jn-9*qt+3*En,er=3*jn-3*jt),Math.abs(lr)<1e-12){if(Math.abs(Zn)<1e-12)continue;Kn=-er/Zn,0<Kn&&Kn<1&&bn.push(Kn);continue}Er=Zn*Zn-4*er*lr,Ar=Math.sqrt(Er),!(Er<0)&&(ir=(-Zn+Ar)/(2*lr),0<ir&&ir<1&&bn.push(ir),xr=(-Zn-Ar)/(2*lr),0<xr&&xr<1&&bn.push(xr))}let wr=bn.length,mr;const Dr=wr;for(;wr--;)Kn=bn[wr],mr=1-Kn,Yn[0][wr]=mr*mr*mr*Ft+3*mr*mr*Kn*fn+3*mr*Kn*Kn*Jn+Kn*Kn*Kn*pn,Yn[1][wr]=mr*mr*mr*jt+3*mr*mr*Kn*jn+3*mr*Kn*Kn*qt+Kn*Kn*Kn*En;return Yn[0][Dr]=Ft,Yn[1][Dr]=jt,Yn[0][Dr+1]=pn,Yn[1][Dr+1]=En,Yn[0].length=Yn[1].length=Dr+2,[Math.min(...Yn[0]),Math.min(...Yn[1]),Math.max(...Yn[0]),Math.max(...Yn[1])]}}i.Util=gn;const tn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _n(Tt){if(Tt[0]>="ï"){let jt;if(Tt[0]==="þ"&&Tt[1]==="ÿ"?jt="utf-16be":Tt[0]==="ÿ"&&Tt[1]==="þ"?jt="utf-16le":Tt[0]==="ï"&&Tt[1]==="»"&&Tt[2]==="¿"&&(jt="utf-8"),jt)try{const fn=new TextDecoder(jt,{fatal:!0}),jn=ct(Tt);return fn.decode(jn)}catch(fn){Xt(`stringToPDFString: "${fn}".`)}}const Ft=[];for(let jt=0,fn=Tt.length;jt<fn;jt++){const jn=tn[Tt.charCodeAt(jt)];Ft.push(jn?String.fromCharCode(jn):Tt.charAt(jt))}return Ft.join("")}function mn(Tt){return decodeURIComponent(escape(Tt))}function An(Tt){return unescape(encodeURIComponent(Tt))}function Cn(Tt){return typeof Tt=="object"&&Tt!==null&&Tt.byteLength!==void 0}function Bn(Tt,Ft){if(Tt.length!==Ft.length)return!1;for(let jt=0,fn=Tt.length;jt<fn;jt++)if(Tt[jt]!==Ft[jt])return!1;return!0}function $n(Tt=new Date){return[Tt.getUTCFullYear().toString(),(Tt.getUTCMonth()+1).toString().padStart(2,"0"),Tt.getUTCDate().toString().padStart(2,"0"),Tt.getUTCHours().toString().padStart(2,"0"),Tt.getUTCMinutes().toString().padStart(2,"0"),Tt.getUTCSeconds().toString().padStart(2,"0")].join("")}function zn(){const Tt=Object.create(null);let Ft=!1;return Object.defineProperty(Tt,"settled",{get(){return Ft}}),Tt.promise=new Promise(function(jt,fn){Tt.resolve=function(jn){Ft=!0,jt(jn)},Tt.reject=function(jn){Ft=!0,fn(jn)}}),Tt}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,i,s,c,a,h,ut,ot,_e,it,$o,lt,at,Go,st,dt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:_,NodeCMapReaderFactory:d,NodeStandardFontDataFactory:g}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=_,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=d,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=g}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:_}=__w_pdfjs_require__(21);createPDFNetworkStream=d=>new _(d)}else{const{PDFNetworkStream:_}=__w_pdfjs_require__(24),{PDFFetchStream:d}=__w_pdfjs_require__(25);createPDFNetworkStream=g=>(0,_display_utils.isValidFetchUrl)(g.url)?new d(g):new _(g)}function getDocument(_){if(typeof _=="string"||_ instanceof URL)_={url:_};else if((0,_util.isArrayBuffer)(_))_={data:_};else if(_ instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),_={range:_};else if(typeof _!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!_.url&&!_.data&&!_.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,g=_.url?getUrlProp(_.url):null,et=_.data?getDataProp(_.data):null,mt=_.httpHeaders||null,Et=_.withCredentials===!0,$=_.password??null,ft=_.range instanceof PDFDataRangeTransport?_.range:null,At=Number.isInteger(_.rangeChunkSize)&&_.rangeChunkSize>0?_.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let gt=_.worker instanceof PDFWorker?_.worker:null;const kt=_.verbosity,Kt=typeof _.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_.docBaseUrl)?_.docBaseUrl:null,$t=typeof _.cMapUrl=="string"?_.cMapUrl:null,ln=_.cMapPacked!==!1,en=_.CMapReaderFactory||DefaultCMapReaderFactory,zt=typeof _.standardFontDataUrl=="string"?_.standardFontDataUrl:null,Lt=_.StandardFontDataFactory||DefaultStandardFontDataFactory,Xt=_.stopAtErrors!==!0,Qt=Number.isInteger(_.maxImageSize)&&_.maxImageSize>-1?_.maxImageSize:-1,St=_.isEvalSupported!==!1,rt=typeof _.isOffscreenCanvasSupported=="boolean"?_.isOffscreenCanvasSupported:!_is_node.isNodeJS,nt=typeof _.disableFontFace=="boolean"?_.disableFontFace:_is_node.isNodeJS,vt=_.fontExtraProperties===!0,Pt=_.enableXfa===!0,Rt=_.ownerDocument||globalThis.document,Dt=_.disableRange===!0,Nt=_.disableStream===!0,Zt=_.disableAutoFetch===!0,sn=_.pdfBug===!0,Jt=ft?ft.length:_.length??NaN,nn=typeof _.useSystemFonts=="boolean"?_.useSystemFonts:!_is_node.isNodeJS&&!nt,Yt=typeof _.useWorkerFetch=="boolean"?_.useWorkerFetch:en===_display_utils.DOMCMapReaderFactory&&Lt===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)($t,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(zt,document.baseURI),ct=null;(0,_util.setVerbosityLevel)(kt);const ht=Yt?null:{cMapReaderFactory:new en({baseUrl:$t,isCompressed:ln}),standardFontDataFactory:new Lt({baseUrl:zt})};if(!gt){const Bt={verbosity:kt,port:_worker_options.GlobalWorkerOptions.workerPort};gt=Bt.port?PDFWorker.fromPort(Bt):new PDFWorker(Bt),d._worker=gt}const wt=d.docId,xt={docId:wt,apiVersion:"3.4.120",data:et,password:$,disableAutoFetch:Zt,rangeChunkSize:At,length:Jt,docBaseUrl:Kt,enableXfa:Pt,evaluatorOptions:{maxImageSize:Qt,disableFontFace:nt,ignoreErrors:Xt,isEvalSupported:St,isOffscreenCanvasSupported:rt,fontExtraProperties:vt,useSystemFonts:nn,cMapUrl:Yt?$t:null,standardFontDataUrl:Yt?zt:null}},bt={ignoreErrors:Xt,isEvalSupported:St,disableFontFace:nt,fontExtraProperties:vt,enableXfa:Pt,ownerDocument:Rt,disableAutoFetch:Zt,pdfBug:sn,styleElement:ct};return gt.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const Bt=_fetchDocument(gt,xt),rn=new Promise(function(dn){let gn;ft?gn=new _transport_stream.PDFDataTransportStream({length:Jt,initialData:ft.initialData,progressiveDone:ft.progressiveDone,contentDispositionFilename:ft.contentDispositionFilename,disableRange:Dt,disableStream:Nt},ft):et||(gn=createPDFNetworkStream({url:g,length:Jt,httpHeaders:mt,withCredentials:Et,rangeChunkSize:At,disableRange:Dt,disableStream:Nt})),dn(gn)});return Promise.all([Bt,rn]).then(function([dn,gn]){if(d.destroyed)throw new Error("Loading aborted");const tn=new _message_handler.MessageHandler(wt,dn,gt.port),_n=new WorkerTransport(tn,d,gn,bt,ht);d._transport=_n,tn.send("Ready",null)})}).catch(d._capability.reject),d}async function _fetchDocument(_,d){if(_.destroyed)throw new Error("Worker was destroyed");const g=await _.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(_.destroyed)throw new Error("Worker was destroyed");return g}function getUrlProp(_){if(_ instanceof URL)return _.href;try{return new URL(_,window.location).href}catch{if(_is_node.isNodeJS&&typeof _=="string")return _}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_){if(_is_node.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(_);if(_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength)return _;if(typeof _=="string")return(0,_util.stringToBytes)(_);if(typeof _=="object"&&!isNaN(_==null?void 0:_.length)||(0,_util.isArrayBuffer)(_))return new Uint8Array(_);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const o=class o{constructor(){on(this,i,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Wo(o,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return yt(this,i)}set onUnsupportedFeature(d){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),kn(this,i,d)}get promise(){return this._capability.promise}async destroy(){var d;this.destroyed=!0,await((d=this._transport)==null?void 0:d.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,i=new WeakMap,on(o,e,0);let PDFDocumentLoadingTask=o;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,g,et=!1,mt=null){this.length=d,this.initialData=g,this.progressiveDone=et,this.contentDispositionFilename=mt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,g){for(const et of this._rangeListeners)et(d,g)}onDataProgress(d,g){this._readyCapability.promise.then(()=>{for(const et of this._progressListeners)et(d,g)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const g of this._progressiveReadListeners)g(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,g){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,g){this._pdfInfo=d,this._transport=g}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(d=!1){return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(d,g,et,mt,Et=!1){this._pageIndex=d,this._pageInfo=g,this._ownerDocument=mt,this._transport=et,this._stats=Et?new _display_utils.StatTimer:null,this._pdfBug=Et,this.commonObjs=et.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:d,rotation:g=this.rotate,offsetX:et=0,offsetY:mt=0,dontFlip:Et=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:g,offsetX:et,offsetY:mt,dontFlip:Et})}getAnnotations({intent:d="display"}={}){const g=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,g.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var d;return((d=this._transport._htmlForXfa)==null?void 0:d.children[this._pageIndex])||null}render({canvasContext:d,viewport:g,intent:et="display",annotationMode:mt=_util.AnnotationMode.ENABLE,transform:Et=null,canvasFactory:$=null,background:ft=null,optionalContentConfigPromise:At=null,annotationCanvasMap:gt=null,pageColors:kt=null,printAnnotationStorage:Kt=null}){var St,rt;(St=this._stats)==null||St.time("Overall");const $t=this._transport.getRenderingIntent(et,mt,Kt);this.pendingCleanup=!1,At||(At=this._transport.getOptionalContentConfig());let ln=this._intentStates.get($t.cacheKey);ln||(ln=Object.create(null),this._intentStates.set($t.cacheKey,ln)),ln.streamReaderCancelTimeout&&(clearTimeout(ln.streamReaderCancelTimeout),ln.streamReaderCancelTimeout=null);const en=$||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),zt=!!($t.renderingIntent&_util.RenderingIntentFlag.PRINT);ln.displayReadyCapability||(ln.displayReadyCapability=(0,_util.createPromiseCapability)(),ln.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(rt=this._stats)==null||rt.time("Page Request"),this._pumpOperatorList($t));const Lt=nt=>{var vt,Pt;ln.renderTasks.delete(Xt),(this.cleanupAfterRender||zt)&&(this.pendingCleanup=!0),this._tryCleanup(),nt?(Xt.capability.reject(nt),this._abortOperatorList({intentState:ln,reason:nt instanceof Error?nt:new Error(nt)})):Xt.capability.resolve(),(vt=this._stats)==null||vt.timeEnd("Rendering"),(Pt=this._stats)==null||Pt.timeEnd("Overall")},Xt=new InternalRenderTask({callback:Lt,params:{canvasContext:d,viewport:g,transform:Et,background:ft},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:gt,operatorList:ln.operatorList,pageIndex:this._pageIndex,canvasFactory:en,useRequestAnimationFrame:!zt,pdfBug:this._pdfBug,pageColors:kt});(ln.renderTasks||(ln.renderTasks=new Set)).add(Xt);const Qt=Xt.task;return Promise.all([ln.displayReadyCapability.promise,At]).then(([nt,vt])=>{var Pt;if(this.pendingCleanup){Lt();return}(Pt=this._stats)==null||Pt.time("Rendering"),Xt.initializeGraphics({transparency:nt,optionalContentConfig:vt}),Xt.operatorListChanged()}).catch(Lt),Qt}getOperatorList({intent:d="display",annotationMode:g=_util.AnnotationMode.ENABLE,printAnnotationStorage:et=null}={}){var At;function mt(){$.operatorList.lastChunk&&($.opListReadCapability.resolve($.operatorList),$.renderTasks.delete(ft))}const Et=this._transport.getRenderingIntent(d,g,et,!0);let $=this._intentStates.get(Et.cacheKey);$||($=Object.create(null),this._intentStates.set(Et.cacheKey,$));let ft;return $.opListReadCapability||(ft=Object.create(null),ft.operatorListChanged=mt,$.opListReadCapability=(0,_util.createPromiseCapability)(),($.renderTasks||($.renderTasks=new Set)).add(ft),$.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(At=this._stats)==null||At.time("Page Request"),this._pumpOperatorList(Et)),$.opListReadCapability.promise}streamTextContent({disableCombineTextItems:d=!1,includeMarkedContent:g=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:d!==!0,includeMarkedContent:g===!0},{highWaterMark:100,size(mt){return mt.items.length}})}getTextContent(d={}){if(this._transport._htmlForXfa)return this.getXfa().then(et=>_xfa_text.XfaText.textContent(et));const g=this.streamTextContent(d);return new Promise(function(et,mt){function Et(){$.read().then(function({value:At,done:gt}){if(gt){et(ft);return}Object.assign(ft.styles,At.styles),ft.items.push(...At.items),Et()},mt)}const $=g.getReader(),ft={items:[],styles:Object.create(null)};Et()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const g of this._intentStates.values())if(this._abortOperatorList({intentState:g,reason:new Error("Page was destroyed."),force:!0}),!g.opListReadCapability)for(const et of g.renderTasks)d.push(et.completed),et.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(d)}cleanup(d=!1){return this.pendingCleanup=!0,this._tryCleanup(d)}_tryCleanup(d=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:g,operatorList:et}of this._intentStates.values())if(g.size>0||!et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),d&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(d,g){var mt,Et;const et=this._intentStates.get(g);et&&((mt=this._stats)==null||mt.timeEnd("Page Request"),(Et=et.displayReadyCapability)==null||Et.resolve(d))}_renderPageChunk(d,g){for(let et=0,mt=d.length;et<mt;et++)g.operatorList.fnArray.push(d.fnArray[et]),g.operatorList.argsArray.push(d.argsArray[et]);g.operatorList.lastChunk=d.lastChunk,g.operatorList.separateAnnots=d.separateAnnots;for(const et of g.renderTasks)et.operatorListChanged();d.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:d,cacheKey:g,annotationStorageMap:et}){const Et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:d,cacheKey:g,annotationStorage:et}).getReader(),$=this._intentStates.get(g);$.streamReader=Et;const ft=()=>{Et.read().then(({value:At,done:gt})=>{if(gt){$.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(At,$),ft())},At=>{if($.streamReader=null,!this._transport.destroyed){if($.operatorList){$.operatorList.lastChunk=!0;for(const gt of $.renderTasks)gt.operatorListChanged();this._tryCleanup()}if($.displayReadyCapability)$.displayReadyCapability.reject(At);else if($.opListReadCapability)$.opListReadCapability.reject(At);else throw At}})};ft()}_abortOperatorList({intentState:d,reason:g,force:et=!1}){if(d.streamReader){if(d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null),!et){if(d.renderTasks.size>0)return;if(g instanceof _display_utils.RenderingCancelledException){let mt=RENDERING_CANCELLED_TIMEOUT;g.extraDelay>0&&g.extraDelay<1e3&&(mt+=g.extraDelay),d.streamReaderCancelTimeout=setTimeout(()=>{d.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:d,reason:g,force:!0})},mt);return}}if(d.streamReader.cancel(new _util.AbortException(g.message)).catch(()=>{}),d.streamReader=null,!this._transport.destroyed){for(const[mt,Et]of this._intentStates)if(Et===d){this._intentStates.delete(mt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){on(this,s,new Set);on(this,c,Promise.resolve())}postMessage(d,g){const et={data:structuredClone(d,g)};yt(this,c).then(()=>{for(const mt of yt(this,s))mt.call(this,et)})}addEventListener(d,g){yt(this,s).add(g)}removeEventListener(d,g){yt(this,s).delete(g)}terminate(){yt(this,s).clear()}}s=new WeakMap,c=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _=(a=document==null?void 0:document.currentScript)==null?void 0:a.src;_&&(PDFWorkerUtil.fallbackWorkerSrc=_.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_,d){let g;try{if(g=new URL(_),!g.origin||g.origin==="null")return!1}catch{return!1}const et=new URL(d,g);return g.origin===et.origin},PDFWorkerUtil.createCDNWrapper=function(_){const d=`importScripts("${_}");`;return URL.createObjectURL(new Blob([d]))}}const _PDFWorker=class _PDFWorker{constructor({name:_=null,port:d=null,verbosity:g=(0,_util.getVerbosityLevel)()}={}){if(d&&yt(_PDFWorker,h).has(d))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=_,this.destroyed=!1,this.verbosity=g,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,d){yt(_PDFWorker,h).set(d,this),this._initializeFromPort(d);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new _message_handler.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_)||(_=PDFWorkerUtil.createCDNWrapper(new URL(_,window.location).href));const d=new Worker(_),g=new _message_handler.MessageHandler("main","worker",d),et=()=>{d.removeEventListener("error",mt),g.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},mt=()=>{this._webWorker||et()};d.addEventListener("error",mt),g.on("test",$=>{if(d.removeEventListener("error",mt),this.destroyed){et();return}$?(this._messageHandler=g,this._port=d,this._webWorker=d,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),g.destroy(),d.terminate())}),g.on("ready",$=>{if(d.removeEventListener("error",mt),this.destroyed){et();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const $=new Uint8Array;g.send("test",$,[$.buffer])};Et();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const d=new LoopbackPort;this._port=d;const g=`fake${PDFWorkerUtil.fakeWorkerId++}`,et=new _message_handler.MessageHandler(g+"_worker",g,d);_.setup(et,d);const mt=new _message_handler.MessageHandler(g,g+"_worker",d);this._messageHandler=mt,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),yt(_PDFWorker,h).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){if(!(_!=null&&_.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return yt(this,h).has(_.port)?yt(this,h).get(_.port):new _PDFWorker(_)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _;try{return((_=globalThis.pdfjsWorker)==null?void 0:_.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};h=new WeakMap,on(_PDFWorker,h,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(d,g,et,mt,Et){on(this,it);on(this,ut,new Map);on(this,ot,new Map);on(this,_e,new Map);this.messageHandler=d,this.loadingTask=g,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:mt.ownerDocument,styleElement:mt.styleElement}),this._params=mt,this.cMapReaderFactory=Et==null?void 0:Et.cMapReaderFactory,this.standardFontDataFactory=Et==null?void 0:Et.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d,g=_util.AnnotationMode.ENABLE,et=null,mt=!1){let Et=_util.RenderingIntentFlag.DISPLAY,$=null;switch(d){case"any":Et=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Et=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(g){case _util.AnnotationMode.DISABLE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Et+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$=(Et&_util.RenderingIntentFlag.PRINT&&et instanceof _annotation_storage.PrintAnnotationStorage?et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${g}`)}return mt&&(Et+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Et,cacheKey:`${Et}_${_annotation_storage.AnnotationStorage.getHash($)}`,annotationStorageMap:$}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const et of yt(this,ot).values())d.push(et._destroy());yt(this,ot).clear(),yt(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const g=this.messageHandler.sendWithPromise("Terminate",null);return d.push(g),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),yt(this,ut).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:g}=this;d.on("GetReader",(et,mt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Et=>{this._lastProgress={loaded:Et.loaded,total:Et.total}},mt.onPull=()=>{this._fullReader.read().then(function({value:Et,done:$}){if($){mt.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{mt.error(Et)})},mt.onCancel=Et=>{this._fullReader.cancel(Et),mt.ready.catch($=>{if(!this.destroyed)throw $})}}),d.on("ReaderHeadersReady",et=>{const mt=(0,_util.createPromiseCapability)(),Et=this._fullReader;return Et.headersReady.then(()=>{var $;(!Et.isStreamingSupported||!Et.isRangeSupported)&&(this._lastProgress&&(($=g.onProgress)==null||$.call(g,this._lastProgress)),Et.onProgress=ft=>{var At;(At=g.onProgress)==null||At.call(g,{loaded:ft.loaded,total:ft.total})}),mt.resolve({isStreamingSupported:Et.isStreamingSupported,isRangeSupported:Et.isRangeSupported,contentLength:Et.contentLength})},mt.reject),mt.promise}),d.on("GetRangeReader",(et,mt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Et=this._networkStream.getRangeReader(et.begin,et.end);if(!Et){mt.close();return}mt.onPull=()=>{Et.read().then(function({value:$,done:ft}){if(ft){mt.close();return}(0,_util.assert)($ instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array($),1,[$])}).catch($=>{mt.error($)})},mt.onCancel=$=>{Et.cancel($),mt.ready.catch(ft=>{if(!this.destroyed)throw ft})}}),d.on("GetDoc",({pdfInfo:et})=>{this._numPages=et.numPages,this._htmlForXfa=et.htmlForXfa,delete et.htmlForXfa,g._capability.resolve(new PDFDocumentProxy(et,this))}),d.on("DocException",function(et){let mt;switch(et.name){case"PasswordException":mt=new _util.PasswordException(et.message,et.code);break;case"InvalidPDFException":mt=new _util.InvalidPDFException(et.message);break;case"MissingPDFException":mt=new _util.MissingPDFException(et.message);break;case"UnexpectedResponseException":mt=new _util.UnexpectedResponseException(et.message,et.status);break;case"UnknownErrorException":mt=new _util.UnknownErrorException(et.message,et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}g._capability.reject(mt)}),d.on("PasswordRequest",et=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),g.onPassword){const mt=Et=>{Et instanceof Error?this._passwordCapability.reject(Et):this._passwordCapability.resolve({password:Et})};try{g.onPassword(mt,et.code)}catch(Et){this._passwordCapability.reject(Et)}}else this._passwordCapability.reject(new _util.PasswordException(et.message,et.code));return this._passwordCapability.promise}),d.on("DataLoaded",et=>{var mt;(mt=g.onProgress)==null||mt.call(g,{loaded:et.length,total:et.length}),this.downloadInfoCapability.resolve(et)}),d.on("StartRenderPage",et=>{if(this.destroyed)return;yt(this,ot).get(et.pageIndex)._startRenderPage(et.transparency,et.cacheKey)}),d.on("commonobj",([et,mt,Et])=>{var $;if(!this.destroyed&&!this.commonObjs.has(et))switch(mt){case"Font":const ft=this._params;if("error"in Et){const kt=Et.error;(0,_util.warn)(`Error during font loading: ${kt}`),this.commonObjs.resolve(et,kt);break}let At=null;ft.pdfBug&&(($=globalThis.FontInspector)!=null&&$.enabled)&&(At={registerFont(kt,Kt){globalThis.FontInspector.fontAdded(kt,Kt)}});const gt=new _font_loader.FontFaceObject(Et,{isEvalSupported:ft.isEvalSupported,disableFontFace:ft.disableFontFace,ignoreErrors:ft.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:At});this.fontLoader.bind(gt).catch(kt=>d.sendWithPromise("FontFallback",{id:et})).finally(()=>{!ft.fontExtraProperties&&gt.data&&(gt.data=null),this.commonObjs.resolve(et,gt)});break;case"FontPath":case"Image":this.commonObjs.resolve(et,Et);break;default:throw new Error(`Got unknown common object type ${mt}`)}}),d.on("obj",([et,mt,Et,$])=>{var At;if(this.destroyed)return;const ft=yt(this,ot).get(mt);if(!ft.objs.has(et))switch(Et){case"Image":ft.objs.resolve(et,$);const gt=8e6;if($){let kt;if($.bitmap){const{width:Kt,height:$t}=$;kt=Kt*$t*4}else kt=((At=$.data)==null?void 0:At.length)||0;kt>gt&&(ft.cleanupAfterRender=!0)}break;case"Pattern":ft.objs.resolve(et,$);break;default:throw new Error(`Got unknown object type ${Et}`)}}),d.on("DocProgress",et=>{var mt;this.destroyed||(mt=g.onProgress)==null||mt.call(g,{loaded:et.loaded,total:et.total})}),d.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),d.on("FetchBuiltInCMap",et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:d}){var g,et;this.destroyed||(et=(g=this.loadingTask).onUnsupportedFeature)==null||et.call(g,d)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var d;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((d=this._fullReader)==null?void 0:d.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const g=d-1,et=yt(this,_e).get(g);if(et)return et;const mt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:g}).then(Et=>{if(this.destroyed)throw new Error("Transport destroyed");const $=new PDFPageProxy(g,Et,this,this._params.ownerDocument,this._params.pdfBug);return yt(this,ot).set(g,$),$});return yt(this,_e).set(g,mt),mt}getPageIndex(d){return typeof d!="object"||d===null||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,g){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:g})}getFieldObjects(){return hn(this,it,$o).call(this,"GetFieldObjects")}hasJSActions(){return hn(this,it,$o).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return typeof d!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",g=yt(this,ut).get(d);if(g)return g;const et=this.messageHandler.sendWithPromise(d,null).then(mt=>{var Et,$;return{info:mt[0],metadata:mt[1]?new _metadata.Metadata(mt[1]):null,contentDispositionFilename:((Et=this._fullReader)==null?void 0:Et.filename)??null,contentLength:(($=this._fullReader)==null?void 0:$.contentLength)??null}});return yt(this,ut).set(d,et),et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(d=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const g of yt(this,ot).values())if(!g.cleanup())throw new Error(`startCleanup: Page ${g.pageNumber} is currently rendering.`);this.commonObjs.clear(),d||this.fontLoader.clear(),yt(this,ut).clear()}}get loadingParams(){const{disableAutoFetch:d,enableXfa:g}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:g})}}ut=new WeakMap,ot=new WeakMap,_e=new WeakMap,it=new WeakSet,$o=function(d,g=null){const et=yt(this,ut).get(d);if(et)return et;const mt=this.messageHandler.sendWithPromise(d,g);return yt(this,ut).set(d,mt),mt};class PDFObjects{constructor(){on(this,at);on(this,lt,Object.create(null))}get(d,g=null){if(g){const mt=hn(this,at,Go).call(this,d);return mt.capability.promise.then(()=>g(mt.data)),null}const et=yt(this,lt)[d];if(!(et!=null&&et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${d}.`);return et.data}has(d){const g=yt(this,lt)[d];return(g==null?void 0:g.capability.settled)||!1}resolve(d,g=null){const et=hn(this,at,Go).call(this,d);et.data=g,et.capability.resolve()}clear(){var d;for(const g in yt(this,lt)){const{data:et}=yt(this,lt)[g];(d=et==null?void 0:et.bitmap)==null||d.close()}kn(this,lt,Object.create(null))}}lt=new WeakMap,at=new WeakSet,Go=function(d){const g=yt(this,lt)[d];return g||(yt(this,lt)[d]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(d){on(this,st,null);kn(this,st,d),this.onContinue=null}get promise(){return yt(this,st).capability.promise}cancel(d=0){yt(this,st).cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=yt(this,st).operatorList;if(!d)return!1;const{annotationCanvasMap:g}=yt(this,st);return d.form||d.canvas&&(g==null?void 0:g.size)>0}}st=new WeakMap,exports.RenderTask=RenderTask;const b=class b{constructor({callback:d,params:g,objs:et,commonObjs:mt,annotationCanvasMap:Et,operatorList:$,pageIndex:ft,canvasFactory:At,useRequestAnimationFrame:gt=!1,pdfBug:kt=!1,pageColors:Kt=null}){this.callback=d,this.params=g,this.objs=et,this.commonObjs=mt,this.annotationCanvasMap=Et,this.operatorListIdx=null,this.operatorList=$,this._pageIndex=ft,this.canvasFactory=At,this._pdfBug=kt,this.pageColors=Kt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=gt===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=g.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:d=!1,optionalContentConfig:g}){var ft,At;if(this.cancelled)return;if(this._canvas){if(yt(b,dt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yt(b,dt).add(this._canvas)}this._pdfBug&&((ft=globalThis.StepperManager)!=null&&ft.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:et,viewport:mt,transform:Et,background:$}=this.params;this.gfx=new _canvas.CanvasGraphics(et,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:g},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Et,viewport:mt,transparency:d,background:$}),this.operatorListIdx=0,this.graphicsReady=!0,(At=this.graphicsReadyCallback)==null||At.call(this)}cancel(d=null,g=0){var et;this.running=!1,this.cancelled=!0,(et=this.gfx)==null||et.endDrawing(),this._canvas&&yt(b,dt).delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",g))}operatorListChanged(){var d;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(d=this.stepper)==null||d.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&yt(b,dt).delete(this._canvas),this.callback())))}};dt=new WeakMap,on(b,dt,new WeakSet);let InternalRenderTask=b;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(e,i,o)=>{var ot,_e,it,Ts,lt;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var s=o(1),c=o(4),a=o(8);class h{constructor(){on(this,it);on(this,ot,!1);on(this,_e,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(tt,st){const dt=yt(this,_e).get(tt);return dt===void 0?st:Object.assign(st,dt)}getRawValue(tt){return yt(this,_e).get(tt)}remove(tt){if(yt(this,_e).delete(tt),yt(this,_e).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of yt(this,_e).values())if(st instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(tt,st){const dt=yt(this,_e).get(tt);let b=!1;if(dt!==void 0)for(const[_,d]of Object.entries(st))dt[_]!==d&&(b=!0,dt[_]=d);else b=!0,yt(this,_e).set(tt,st);b&&hn(this,it,Ts).call(this),st instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(tt){return yt(this,_e).has(tt)}getAll(){return yt(this,_e).size>0?(0,s.objectFromMap)(yt(this,_e)):null}setAll(tt){for(const[st,dt]of Object.entries(tt))this.setValue(st,dt)}get size(){return yt(this,_e).size}resetModified(){yt(this,ot)&&(kn(this,ot,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ut(this)}get serializable(){if(yt(this,_e).size===0)return null;const tt=new Map;for(const[st,dt]of yt(this,_e)){const b=dt instanceof c.AnnotationEditor?dt.serialize():dt;b&&tt.set(st,b)}return tt}static getHash(tt){if(!tt)return"";const st=new a.MurmurHash3_64;for(const[dt,b]of tt)st.update(`${dt}:${JSON.stringify(b)}`);return st.hexdigest()}}ot=new WeakMap,_e=new WeakMap,it=new WeakSet,Ts=function(){yt(this,ot)||(kn(this,ot,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=h;class ut extends h{constructor(st){super();on(this,lt,null);kn(this,lt,structuredClone(st.serializable))}get print(){(0,s.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return yt(this,lt)}}lt=new WeakMap,i.PrintAnnotationStorage=ut},(e,i,o)=>{var h,ut,ot,_e,it,_t;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var s=o(5),c=o(1);const lt=class lt{constructor(tt){on(this,h,this.focusin.bind(this));on(this,ut,this.focusout.bind(this));on(this,ot,!1);on(this,_e,!1);on(this,it,!1);br(this,"_uiManager",null);on(this,_t,lt._zIndex++);this.constructor===lt&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=tt.parent,this.id=tt.id,this.width=this.height=null,this.pageIndex=tt.parent.pageIndex,this.name=tt.name,this.div=null,this._uiManager=tt.uiManager;const{rotation:st,rawDims:{pageWidth:dt,pageHeight:b,pageX:_,pageY:d}}=this.parent.viewport;this.rotation=st,this.pageDimensions=[dt,b],this.pageTranslation=[_,d];const[g,et]=this.parentDimensions;this.x=tt.x/g,this.y=tt.y/et,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(tt){this._uiManager.addCommands(tt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=yt(this,_t)}setParent(tt){tt!==null&&(this.pageIndex=tt.pageIndex,this.pageDimensions=tt.pageDimensions),this.parent=tt}focusin(tt){yt(this,ot)?kn(this,ot,!1):this.parent.setSelected(this)}focusout(tt){var dt;if(!this.isAttachedToDOM)return;const st=tt.relatedTarget;st!=null&&st.closest(`#${this.id}`)||(tt.preventDefault(),(dt=this.parent)!=null&&dt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(tt){const st=this.parent.div.getBoundingClientRect();this.startX=tt.clientX-st.x,this.startY=tt.clientY-st.y,tt.dataTransfer.setData("text/plain",this.id),tt.dataTransfer.effectAllowed="move"}setAt(tt,st,dt,b){const[_,d]=this.parentDimensions;[dt,b]=this.screenToPageTranslation(dt,b),this.x=(tt+dt)/_,this.y=(st+b)/d,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(tt,st){const[dt,b]=this.parentDimensions;[tt,st]=this.screenToPageTranslation(tt,st),this.x+=tt/dt,this.y+=st/b,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(tt,st){switch(this.parentRotation){case 90:return[st,-tt];case 180:return[-tt,-st];case 270:return[-st,tt];default:return[tt,st]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:tt}=this._uiManager.viewParameters,[st,dt]=this.pageDimensions;return[st*tt,dt*tt]}setDims(tt,st){const[dt,b]=this.parentDimensions;this.div.style.width=`${100*tt/dt}%`,this.div.style.height=`${100*st/b}%`}fixDims(){const{style:tt}=this.div,{height:st,width:dt}=tt,b=dt.endsWith("%"),_=st.endsWith("%");if(b&&_)return;const[d,g]=this.parentDimensions;b||(tt.width=`${100*parseFloat(dt)/d}%`),_||(tt.height=`${100*parseFloat(st)/g}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",yt(this,h)),this.div.addEventListener("focusout",yt(this,ut));const[tt,st]=this.getInitialTranslation();return this.translate(tt,st),(0,s.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(tt){const{isMac:st}=c.FeatureTest.platform;if(tt.button!==0||tt.ctrlKey&&st){tt.preventDefault();return}tt.ctrlKey&&!st||tt.shiftKey||tt.metaKey&&st?this.parent.toggleSelected(this):this.parent.setSelected(this),kn(this,ot,!0)}getRect(tt,st){const dt=this.parentScale,[b,_]=this.pageDimensions,[d,g]=this.pageTranslation,et=tt/dt,mt=st/dt,Et=this.x*b,$=this.y*_,ft=this.width*b,At=this.height*_;switch(this.rotation){case 0:return[Et+et+d,_-$-mt-At+g,Et+et+ft+d,_-$-mt+g];case 90:return[Et+mt+d,_-$+et+g,Et+mt+At+d,_-$+et+ft+g];case 180:return[Et-et-ft+d,_-$+mt+g,Et-et+d,_-$+mt+At+g];case 270:return[Et-mt-At+d,_-$-et-ft+g,Et-mt+d,_-$-et+g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(tt,st){const[dt,b,_,d]=tt,g=_-dt,et=d-b;switch(this.rotation){case 0:return[dt,st-d,g,et];case 90:return[dt,st-b,et,g];case 180:return[_,st-b,g,et];case 270:return[_,st-d,et,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){kn(this,it,!0)}disableEditMode(){kn(this,it,!1)}isInEditMode(){return yt(this,it)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var tt;(tt=this.div)==null||tt.addEventListener("focusin",yt(this,h))}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(tt,st,dt){const b=new this.prototype.constructor({parent:st,id:st.getNextId(),uiManager:dt});b.rotation=tt.rotation;const[_,d]=b.pageDimensions,[g,et,mt,Et]=b.getRectInCurrentCoords(tt.rect,d);return b.x=g/_,b.y=et/d,b.width=mt/_,b.height=Et/d,b}remove(){this.div.removeEventListener("focusin",yt(this,h)),this.div.removeEventListener("focusout",yt(this,ut)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var tt;(tt=this.div)==null||tt.classList.add("selectedEditor")}unselect(){var tt;(tt=this.div)==null||tt.classList.remove("selectedEditor")}updateParams(tt,st){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return yt(this,_e)}set isEditing(tt){kn(this,_e,tt),tt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};h=new WeakMap,ut=new WeakMap,ot=new WeakMap,_e=new WeakMap,it=new WeakMap,_t=new WeakMap,br(lt,"_colorManager",new s.ColorManager),br(lt,"_zIndex",1);let a=lt;i.AnnotationEditor=a},(e,i,o)=>{var lt,at,tt,st,dt,b,xs,g,et,mt,Et,$,ft,At,gt,kt,Kt,$t,ln,en,zt,Lt,Xt,Qt,St,rt,nt,vt,Pt,Rt,Dt,Rs,Zt,qo,Jt,Ms,Yt,Fs,ht,Wr,xt,mo,Bt,Os,dn,Ls,tn,Xo,mn,vo,Cn,Yo;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=a,i.opacityToHex=h;var s=o(1),c=o(6);function a(zn,Tt,Ft){for(const jt of Ft)Tt.addEventListener(jt,zn[jt].bind(zn))}function h(zn){return Math.round(Math.min(255,Math.max(1,255*zn))).toString(16).padStart(2,"0")}class ut{constructor(){on(this,lt,0)}getId(){return`${s.AnnotationEditorPrefix}${Wo(this,lt)._++}`}}lt=new WeakMap;class ot{constructor(Tt=128){on(this,at,[]);on(this,tt,!1);on(this,st,void 0);on(this,dt,-1);kn(this,st,Tt)}add({cmd:Tt,undo:Ft,mustExec:jt,type:fn=NaN,overwriteIfSameType:jn=!1,keepUndo:Jn=!1}){if(jt&&Tt(),yt(this,tt))return;const qt={cmd:Tt,undo:Ft,type:fn};if(yt(this,dt)===-1){yt(this,at).length>0&&(yt(this,at).length=0),kn(this,dt,0),yt(this,at).push(qt);return}if(jn&&yt(this,at)[yt(this,dt)].type===fn){Jn&&(qt.undo=yt(this,at)[yt(this,dt)].undo),yt(this,at)[yt(this,dt)]=qt;return}const pn=yt(this,dt)+1;pn===yt(this,st)?yt(this,at).splice(0,1):(kn(this,dt,pn),pn<yt(this,at).length&&yt(this,at).splice(pn)),yt(this,at).push(qt)}undo(){yt(this,dt)!==-1&&(kn(this,tt,!0),yt(this,at)[yt(this,dt)].undo(),kn(this,tt,!1),kn(this,dt,yt(this,dt)-1))}redo(){yt(this,dt)<yt(this,at).length-1&&(kn(this,dt,yt(this,dt)+1),kn(this,tt,!0),yt(this,at)[yt(this,dt)].cmd(),kn(this,tt,!1))}hasSomethingToUndo(){return yt(this,dt)!==-1}hasSomethingToRedo(){return yt(this,dt)<yt(this,at).length-1}destroy(){kn(this,at,null)}}at=new WeakMap,tt=new WeakMap,st=new WeakMap,dt=new WeakMap,i.CommandManager=ot;class _e{constructor(Tt){on(this,b);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ft}=s.FeatureTest.platform;for(const[jt,fn]of Tt)for(const jn of jt){const Jn=jn.startsWith("mac+");Ft&&Jn?(this.callbacks.set(jn.slice(4),fn),this.allKeys.add(jn.split("+").at(-1))):!Ft&&!Jn&&(this.callbacks.set(jn,fn),this.allKeys.add(jn.split("+").at(-1)))}}exec(Tt,Ft){if(!this.allKeys.has(Ft.key))return;const jt=this.callbacks.get(hn(this,b,xs).call(this,Ft));jt&&(jt.bind(Tt)(),Ft.stopPropagation(),Ft.preventDefault())}}b=new WeakSet,xs=function(Tt){Tt.altKey&&this.buffer.push("alt"),Tt.ctrlKey&&this.buffer.push("ctrl"),Tt.metaKey&&this.buffer.push("meta"),Tt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Tt.key);const Ft=this.buffer.join("+");return this.buffer.length=0,Ft},i.KeyboardManager=_e;const d=class d{get _colors(){const Tt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Tt),(0,s.shadow)(this,"_colors",Tt)}convert(Tt){const Ft=(0,c.getRGB)(Tt);if(!window.matchMedia("(forced-colors: active)").matches)return Ft;for(const[jt,fn]of this._colors)if(fn.every((jn,Jn)=>jn===Ft[Jn]))return d._colorsMapping.get(jt);return Ft}getHexCode(Tt){const Ft=this._colors.get(Tt);return Ft?s.Util.makeHexColor(...Ft):Tt}};br(d,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let it=d;i.ColorManager=it;const $n=class $n{constructor(Tt,Ft,jt){on(this,Dt);on(this,Zt);on(this,Jt);on(this,Yt);on(this,ht);on(this,xt);on(this,Bt);on(this,dn);on(this,tn);on(this,mn);on(this,Cn);on(this,g,null);on(this,et,new Map);on(this,mt,new Map);on(this,Et,null);on(this,$,new ot);on(this,ft,0);on(this,At,null);on(this,gt,new Set);on(this,kt,null);on(this,Kt,new ut);on(this,$t,!1);on(this,ln,s.AnnotationEditorType.NONE);on(this,en,new Set);on(this,zt,this.copy.bind(this));on(this,Lt,this.cut.bind(this));on(this,Xt,this.paste.bind(this));on(this,Qt,this.keydown.bind(this));on(this,St,this.onEditingAction.bind(this));on(this,rt,this.onPageChanging.bind(this));on(this,nt,this.onScaleChanging.bind(this));on(this,vt,this.onRotationChanging.bind(this));on(this,Pt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});on(this,Rt,null);kn(this,Rt,Tt),kn(this,kt,Ft),yt(this,kt)._on("editingaction",yt(this,St)),yt(this,kt)._on("pagechanging",yt(this,rt)),yt(this,kt)._on("scalechanging",yt(this,nt)),yt(this,kt)._on("rotationchanging",yt(this,vt)),kn(this,Et,jt),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){hn(this,Zt,qo).call(this),yt(this,kt)._off("editingaction",yt(this,St)),yt(this,kt)._off("pagechanging",yt(this,rt)),yt(this,kt)._off("scalechanging",yt(this,nt)),yt(this,kt)._off("rotationchanging",yt(this,vt));for(const Tt of yt(this,mt).values())Tt.destroy();yt(this,mt).clear(),yt(this,et).clear(),yt(this,gt).clear(),kn(this,g,null),yt(this,en).clear(),yt(this,$).destroy()}onPageChanging({pageNumber:Tt}){kn(this,ft,Tt-1)}focusMainContainer(){yt(this,Rt).focus()}addShouldRescale(Tt){yt(this,gt).add(Tt)}removeShouldRescale(Tt){yt(this,gt).delete(Tt)}onScaleChanging({scale:Tt}){this.commitOrRemove(),this.viewParameters.realScale=Tt*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ft of yt(this,gt))Ft.onScaleChanging()}onRotationChanging({pagesRotation:Tt}){this.commitOrRemove(),this.viewParameters.rotation=Tt}addToAnnotationStorage(Tt){!Tt.isEmpty()&&yt(this,Et)&&!yt(this,Et).has(Tt.id)&&yt(this,Et).setValue(Tt.id,Tt)}copy(Tt){if(Tt.preventDefault(),yt(this,g)&&yt(this,g).commitOrRemove(),!this.hasSelection)return;const Ft=[];for(const jt of yt(this,en))jt.isEmpty()||Ft.push(jt.serialize());Ft.length!==0&&Tt.clipboardData.setData("application/pdfjs",JSON.stringify(Ft))}cut(Tt){this.copy(Tt),this.delete()}paste(Tt){Tt.preventDefault();let Ft=Tt.clipboardData.getData("application/pdfjs");if(!Ft)return;try{Ft=JSON.parse(Ft)}catch(fn){(0,s.warn)(`paste: "${fn.message}".`);return}if(!Array.isArray(Ft))return;this.unselectAll();const jt=yt(this,mt).get(yt(this,ft));try{const fn=[];for(const qt of Ft){const pn=jt.deserialize(qt);if(!pn)return;fn.push(pn)}const jn=()=>{for(const qt of fn)hn(this,tn,Xo).call(this,qt);hn(this,Cn,Yo).call(this,fn)},Jn=()=>{for(const qt of fn)qt.remove()};this.addCommands({cmd:jn,undo:Jn,mustExec:!0})}catch(fn){(0,s.warn)(`paste: "${fn.message}".`)}}keydown(Tt){var Ft;(Ft=this.getActive())!=null&&Ft.shouldGetKeyboardEvents()||$n._keyboardManager.exec(this,Tt)}onEditingAction(Tt){["undo","redo","delete","selectAll"].includes(Tt.name)&&this[Tt.name]()}setEditingState(Tt){Tt?(hn(this,Dt,Rs).call(this),hn(this,Jt,Ms).call(this),hn(this,ht,Wr).call(this,{isEditing:yt(this,ln)!==s.AnnotationEditorType.NONE,isEmpty:hn(this,mn,vo).call(this),hasSomethingToUndo:yt(this,$).hasSomethingToUndo(),hasSomethingToRedo:yt(this,$).hasSomethingToRedo(),hasSelectedEditor:!1})):(hn(this,Zt,qo).call(this),hn(this,Yt,Fs).call(this),hn(this,ht,Wr).call(this,{isEditing:!1}))}registerEditorTypes(Tt){if(!yt(this,At)){kn(this,At,Tt);for(const Ft of yt(this,At))hn(this,xt,mo).call(this,Ft.defaultPropertiesToUpdate)}}getId(){return yt(this,Kt).getId()}get currentLayer(){return yt(this,mt).get(yt(this,ft))}get currentPageIndex(){return yt(this,ft)}addLayer(Tt){yt(this,mt).set(Tt.pageIndex,Tt),yt(this,$t)?Tt.enable():Tt.disable()}removeLayer(Tt){yt(this,mt).delete(Tt.pageIndex)}updateMode(Tt){if(kn(this,ln,Tt),Tt===s.AnnotationEditorType.NONE)this.setEditingState(!1),hn(this,dn,Ls).call(this);else{this.setEditingState(!0),hn(this,Bt,Os).call(this);for(const Ft of yt(this,mt).values())Ft.updateMode(Tt)}}updateToolbar(Tt){Tt!==yt(this,ln)&&yt(this,kt).dispatch("switchannotationeditormode",{source:this,mode:Tt})}updateParams(Tt,Ft){if(yt(this,At)){for(const jt of yt(this,en))jt.updateParams(Tt,Ft);for(const jt of yt(this,At))jt.updateDefaultParams(Tt,Ft)}}getEditors(Tt){const Ft=[];for(const jt of yt(this,et).values())jt.pageIndex===Tt&&Ft.push(jt);return Ft}getEditor(Tt){return yt(this,et).get(Tt)}addEditor(Tt){yt(this,et).set(Tt.id,Tt)}removeEditor(Tt){var Ft;yt(this,et).delete(Tt.id),this.unselect(Tt),(Ft=yt(this,Et))==null||Ft.remove(Tt.id)}setActiveEditor(Tt){yt(this,g)!==Tt&&(kn(this,g,Tt),Tt&&hn(this,xt,mo).call(this,Tt.propertiesToUpdate))}toggleSelected(Tt){if(yt(this,en).has(Tt)){yt(this,en).delete(Tt),Tt.unselect(),hn(this,ht,Wr).call(this,{hasSelectedEditor:this.hasSelection});return}yt(this,en).add(Tt),Tt.select(),hn(this,xt,mo).call(this,Tt.propertiesToUpdate),hn(this,ht,Wr).call(this,{hasSelectedEditor:!0})}setSelected(Tt){for(const Ft of yt(this,en))Ft!==Tt&&Ft.unselect();yt(this,en).clear(),yt(this,en).add(Tt),Tt.select(),hn(this,xt,mo).call(this,Tt.propertiesToUpdate),hn(this,ht,Wr).call(this,{hasSelectedEditor:!0})}isSelected(Tt){return yt(this,en).has(Tt)}unselect(Tt){Tt.unselect(),yt(this,en).delete(Tt),hn(this,ht,Wr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return yt(this,en).size!==0}undo(){yt(this,$).undo(),hn(this,ht,Wr).call(this,{hasSomethingToUndo:yt(this,$).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:hn(this,mn,vo).call(this)})}redo(){yt(this,$).redo(),hn(this,ht,Wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:yt(this,$).hasSomethingToRedo(),isEmpty:hn(this,mn,vo).call(this)})}addCommands(Tt){yt(this,$).add(Tt),hn(this,ht,Wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:hn(this,mn,vo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Tt=[...yt(this,en)],Ft=()=>{for(const fn of Tt)fn.remove()},jt=()=>{for(const fn of Tt)hn(this,tn,Xo).call(this,fn)};this.addCommands({cmd:Ft,undo:jt,mustExec:!0})}commitOrRemove(){var Tt;(Tt=yt(this,g))==null||Tt.commitOrRemove()}selectAll(){for(const Tt of yt(this,en))Tt.commit();hn(this,Cn,Yo).call(this,yt(this,et).values())}unselectAll(){if(yt(this,g)){yt(this,g).commitOrRemove();return}if(yt(this,en).size!==0){for(const Tt of yt(this,en))Tt.unselect();yt(this,en).clear(),hn(this,ht,Wr).call(this,{hasSelectedEditor:!1})}}isActive(Tt){return yt(this,g)===Tt}getActive(){return yt(this,g)}getMode(){return yt(this,ln)}};g=new WeakMap,et=new WeakMap,mt=new WeakMap,Et=new WeakMap,$=new WeakMap,ft=new WeakMap,At=new WeakMap,gt=new WeakMap,kt=new WeakMap,Kt=new WeakMap,$t=new WeakMap,ln=new WeakMap,en=new WeakMap,zt=new WeakMap,Lt=new WeakMap,Xt=new WeakMap,Qt=new WeakMap,St=new WeakMap,rt=new WeakMap,nt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Dt=new WeakSet,Rs=function(){yt(this,Rt).addEventListener("keydown",yt(this,Qt))},Zt=new WeakSet,qo=function(){yt(this,Rt).removeEventListener("keydown",yt(this,Qt))},Jt=new WeakSet,Ms=function(){document.addEventListener("copy",yt(this,zt)),document.addEventListener("cut",yt(this,Lt)),document.addEventListener("paste",yt(this,Xt))},Yt=new WeakSet,Fs=function(){document.removeEventListener("copy",yt(this,zt)),document.removeEventListener("cut",yt(this,Lt)),document.removeEventListener("paste",yt(this,Xt))},ht=new WeakSet,Wr=function(Tt){Object.entries(Tt).some(([jt,fn])=>yt(this,Pt)[jt]!==fn)&&yt(this,kt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(yt(this,Pt),Tt)})},xt=new WeakSet,mo=function(Tt){yt(this,kt).dispatch("annotationeditorparamschanged",{source:this,details:Tt})},Bt=new WeakSet,Os=function(){if(!yt(this,$t)){kn(this,$t,!0);for(const Tt of yt(this,mt).values())Tt.enable()}},dn=new WeakSet,Ls=function(){if(this.unselectAll(),yt(this,$t)){kn(this,$t,!1);for(const Tt of yt(this,mt).values())Tt.disable()}},tn=new WeakSet,Xo=function(Tt){const Ft=yt(this,mt).get(Tt.pageIndex);Ft?Ft.addOrRebuild(Tt):this.addEditor(Tt)},mn=new WeakSet,vo=function(){if(yt(this,et).size===0)return!0;if(yt(this,et).size===1)for(const Tt of yt(this,et).values())return Tt.isEmpty();return!1},Cn=new WeakSet,Yo=function(Tt){yt(this,en).clear();for(const Ft of Tt)Ft.isEmpty()||(yt(this,en).add(Ft),Ft.select());hn(this,ht,Wr).call(this,{hasSelectedEditor:!0})},br($n,"_keyboardManager",new _e([[["ctrl+a","mac+meta+a"],$n.prototype.selectAll],[["ctrl+z","mac+meta+z"],$n.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],$n.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],$n.prototype.delete],[["Escape","mac+Escape"],$n.prototype.unselectAll]]));let _t=$n;i.AnnotationEditorUIManager=_t},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=mt,i.getColorValues=gt,i.getCurrentTransform=kt,i.getCurrentTransformInverse=Kt,i.getFilenameFromUrl=b,i.getPdfFilenameFromUrl=_,i.getRGB=At,i.getXfaPageViewport=ft,i.isDataScheme=st,i.isPdfFile=dt,i.isValidFetchUrl=g,i.loadScript=et,i.setLayerDimensions=$t;var s=o(7),c=o(1);const a="http://www.w3.org/2000/svg",h="pdfjs_internal_id_";i.AnnotationPrefix=h;const ln=class ln{};br(ln,"CSS",96),br(ln,"PDF",72),br(ln,"PDF_TO_CSS_UNITS",ln.CSS/ln.PDF);let ut=ln;i.PixelsPerInch=ut;class ot extends s.BaseCanvasFactory{constructor({ownerDocument:zt=globalThis.document}={}){super(),this._document=zt}_createCanvas(zt,Lt){const Xt=this._document.createElement("canvas");return Xt.width=zt,Xt.height=Lt,Xt}}i.DOMCanvasFactory=ot;async function _e(en,zt=!1){if(g(en,document.baseURI)){const Lt=await fetch(en);if(!Lt.ok)throw new Error(Lt.statusText);return zt?new Uint8Array(await Lt.arrayBuffer()):(0,c.stringToBytes)(await Lt.text())}return new Promise((Lt,Xt)=>{const Qt=new XMLHttpRequest;Qt.open("GET",en,!0),zt&&(Qt.responseType="arraybuffer"),Qt.onreadystatechange=()=>{if(Qt.readyState===XMLHttpRequest.DONE){if(Qt.status===200||Qt.status===0){let St;if(zt&&Qt.response?St=new Uint8Array(Qt.response):!zt&&Qt.responseText&&(St=(0,c.stringToBytes)(Qt.responseText)),St){Lt(St);return}}Xt(new Error(Qt.statusText))}},Qt.send(null)})}class it extends s.BaseCMapReaderFactory{_fetchData(zt,Lt){return _e(zt,this.isCompressed).then(Xt=>({cMapData:Xt,compressionType:Lt}))}}i.DOMCMapReaderFactory=it;class _t extends s.BaseStandardFontDataFactory{_fetchData(zt){return _e(zt,!0)}}i.DOMStandardFontDataFactory=_t;class lt extends s.BaseSVGFactory{_createSVG(zt){return document.createElementNS(a,zt)}}i.DOMSVGFactory=lt;class at{constructor({viewBox:zt,scale:Lt,rotation:Xt,offsetX:Qt=0,offsetY:St=0,dontFlip:rt=!1}){this.viewBox=zt,this.scale=Lt,this.rotation=Xt,this.offsetX=Qt,this.offsetY=St;const nt=(zt[2]+zt[0])/2,vt=(zt[3]+zt[1])/2;let Pt,Rt,Dt,Nt;switch(Xt%=360,Xt<0&&(Xt+=360),Xt){case 180:Pt=-1,Rt=0,Dt=0,Nt=1;break;case 90:Pt=0,Rt=1,Dt=1,Nt=0;break;case 270:Pt=0,Rt=-1,Dt=-1,Nt=0;break;case 0:Pt=1,Rt=0,Dt=0,Nt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}rt&&(Dt=-Dt,Nt=-Nt);let Zt,sn,Jt,nn;Pt===0?(Zt=Math.abs(vt-zt[1])*Lt+Qt,sn=Math.abs(nt-zt[0])*Lt+St,Jt=(zt[3]-zt[1])*Lt,nn=(zt[2]-zt[0])*Lt):(Zt=Math.abs(nt-zt[0])*Lt+Qt,sn=Math.abs(vt-zt[1])*Lt+St,Jt=(zt[2]-zt[0])*Lt,nn=(zt[3]-zt[1])*Lt),this.transform=[Pt*Lt,Rt*Lt,Dt*Lt,Nt*Lt,Zt-Pt*Lt*nt-Dt*Lt*vt,sn-Rt*Lt*nt-Nt*Lt*vt],this.width=Jt,this.height=nn}get rawDims(){const{viewBox:zt}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:zt[2]-zt[0],pageHeight:zt[3]-zt[1],pageX:zt[0],pageY:zt[1]})}clone({scale:zt=this.scale,rotation:Lt=this.rotation,offsetX:Xt=this.offsetX,offsetY:Qt=this.offsetY,dontFlip:St=!1}={}){return new at({viewBox:this.viewBox.slice(),scale:zt,rotation:Lt,offsetX:Xt,offsetY:Qt,dontFlip:St})}convertToViewportPoint(zt,Lt){return c.Util.applyTransform([zt,Lt],this.transform)}convertToViewportRectangle(zt){const Lt=c.Util.applyTransform([zt[0],zt[1]],this.transform),Xt=c.Util.applyTransform([zt[2],zt[3]],this.transform);return[Lt[0],Lt[1],Xt[0],Xt[1]]}convertToPdfPoint(zt,Lt){return c.Util.applyInverseTransform([zt,Lt],this.transform)}}i.PageViewport=at;class tt extends c.BaseException{constructor(zt,Lt,Xt=0){super(zt,"RenderingCancelledException"),this.type=Lt,this.extraDelay=Xt}}i.RenderingCancelledException=tt;function st(en){const zt=en.length;let Lt=0;for(;Lt<zt&&en[Lt].trim()==="";)Lt++;return en.substring(Lt,Lt+5).toLowerCase()==="data:"}function dt(en){return typeof en=="string"&&/\.pdf$/i.test(en)}function b(en,zt=!1){return zt||([en]=en.split(/[#?]/,1)),en.substring(en.lastIndexOf("/")+1)}function _(en,zt="document.pdf"){if(typeof en!="string")return zt;if(st(en))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),zt;const Lt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Xt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Qt=Lt.exec(en);let St=Xt.exec(Qt[1])||Xt.exec(Qt[2])||Xt.exec(Qt[3]);if(St&&(St=St[0],St.includes("%")))try{St=Xt.exec(decodeURIComponent(St))[0]}catch{}return St||zt}class d{constructor(){br(this,"started",Object.create(null));br(this,"times",[])}time(zt){zt in this.started&&(0,c.warn)(`Timer is already running for ${zt}`),this.started[zt]=Date.now()}timeEnd(zt){zt in this.started||(0,c.warn)(`Timer has not been started for ${zt}`),this.times.push({name:zt,start:this.started[zt],end:Date.now()}),delete this.started[zt]}toString(){const zt=[];let Lt=0;for(const{name:Xt}of this.times)Lt=Math.max(Xt.length,Lt);for(const{name:Xt,start:Qt,end:St}of this.times)zt.push(`${Xt.padEnd(Lt)} ${St-Qt}ms
`);return zt.join("")}}i.StatTimer=d;function g(en,zt){try{const{protocol:Lt}=zt?new URL(en,zt):new URL(en);return Lt==="http:"||Lt==="https:"}catch{return!1}}function et(en,zt=!1){return new Promise((Lt,Xt)=>{const Qt=document.createElement("script");Qt.src=en,Qt.onload=function(St){zt&&Qt.remove(),Lt(St)},Qt.onerror=function(){Xt(new Error(`Cannot load script at: ${Qt.src}`))},(document.head||document.documentElement).append(Qt)})}function mt(en){console.log("Deprecated API usage: "+en)}let Et;class ${static toDateObject(zt){if(!zt||typeof zt!="string")return null;Et||(Et=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Lt=Et.exec(zt);if(!Lt)return null;const Xt=parseInt(Lt[1],10);let Qt=parseInt(Lt[2],10);Qt=Qt>=1&&Qt<=12?Qt-1:0;let St=parseInt(Lt[3],10);St=St>=1&&St<=31?St:1;let rt=parseInt(Lt[4],10);rt=rt>=0&&rt<=23?rt:0;let nt=parseInt(Lt[5],10);nt=nt>=0&&nt<=59?nt:0;let vt=parseInt(Lt[6],10);vt=vt>=0&&vt<=59?vt:0;const Pt=Lt[7]||"Z";let Rt=parseInt(Lt[8],10);Rt=Rt>=0&&Rt<=23?Rt:0;let Dt=parseInt(Lt[9],10)||0;return Dt=Dt>=0&&Dt<=59?Dt:0,Pt==="-"?(rt+=Rt,nt+=Dt):Pt==="+"&&(rt-=Rt,nt-=Dt),new Date(Date.UTC(Xt,Qt,St,rt,nt,vt))}}i.PDFDateString=$;function ft(en,{scale:zt=1,rotation:Lt=0}){const{width:Xt,height:Qt}=en.attributes.style,St=[0,0,parseInt(Xt),parseInt(Qt)];return new at({viewBox:St,scale:zt,rotation:Lt})}function At(en){if(en.startsWith("#")){const zt=parseInt(en.slice(1),16);return[(zt&16711680)>>16,(zt&65280)>>8,zt&255]}return en.startsWith("rgb(")?en.slice(4,-1).split(",").map(zt=>parseInt(zt)):en.startsWith("rgba(")?en.slice(5,-1).split(",").map(zt=>parseInt(zt)).slice(0,3):((0,c.warn)(`Not a valid color format: "${en}"`),[0,0,0])}function gt(en){const zt=document.createElement("span");zt.style.visibility="hidden",document.body.append(zt);for(const Lt of en.keys()){zt.style.color=Lt;const Xt=window.getComputedStyle(zt).color;en.set(Lt,At(Xt))}zt.remove()}function kt(en){const{a:zt,b:Lt,c:Xt,d:Qt,e:St,f:rt}=en.getTransform();return[zt,Lt,Xt,Qt,St,rt]}function Kt(en){const{a:zt,b:Lt,c:Xt,d:Qt,e:St,f:rt}=en.getTransform().invertSelf();return[zt,Lt,Xt,Qt,St,rt]}function $t(en,zt,Lt=!1,Xt=!0){if(zt instanceof at){const{pageWidth:Qt,pageHeight:St}=zt.rawDims,{style:rt}=en,nt=`calc(var(--scale-factor) * ${Qt}px)`,vt=`calc(var(--scale-factor) * ${St}px)`;!Lt||zt.rotation%180===0?(rt.width=nt,rt.height=vt):(rt.width=vt,rt.height=nt)}Xt&&en.setAttribute("data-main-rotation",zt.rotation)}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var s=o(1);class c{constructor(){this.constructor===c&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_e,it){if(_e<=0||it<=0)throw new Error("Invalid canvas size");const _t=this._createCanvas(_e,it);return{canvas:_t,context:_t.getContext("2d")}}reset(_e,it,_t){if(!_e.canvas)throw new Error("Canvas is not specified");if(it<=0||_t<=0)throw new Error("Invalid canvas size");_e.canvas.width=it,_e.canvas.height=_t}destroy(_e){if(!_e.canvas)throw new Error("Canvas is not specified");_e.canvas.width=0,_e.canvas.height=0,_e.canvas=null,_e.context=null}_createCanvas(_e,it){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class a{constructor({baseUrl:_e=null,isCompressed:it=!0}){this.constructor===a&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=it}async fetch({name:_e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const it=this.baseUrl+_e+(this.isCompressed?".bcmap":""),_t=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE;return this._fetchData(it,_t).catch(lt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${it}`)})}_fetchData(_e,it){(0,s.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=a;class h{constructor({baseUrl:_e=null}){this.constructor===h&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch({filename:_e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const it=`${this.baseUrl}${_e}`;return this._fetchData(it).catch(_t=>{throw new Error(`Unable to load font data at: ${it}`)})}_fetchData(_e){(0,s.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=h;class ut{constructor(){this.constructor===ut&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(_e,it,_t=!1){if(_e<=0||it<=0)throw new Error("Invalid SVG dimensions");const lt=this._createSVG("svg:svg");return lt.setAttribute("version","1.1"),_t||(lt.setAttribute("width",`${_e}px`),lt.setAttribute("height",`${it}px`)),lt.setAttribute("preserveAspectRatio","none"),lt.setAttribute("viewBox",`0 0 ${_e} ${it}`),lt}createElement(_e){if(typeof _e!="string")throw new Error("Invalid SVG element type");return this._createSVG(_e)}_createSVG(_e){(0,s.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=ut},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var s=o(1);const c=3285377520,a=4294901760,h=65535;class ut{constructor(_e){this.h1=_e?_e&4294967295:c,this.h2=_e?_e&4294967295:c}update(_e){let it,_t;if(typeof _e=="string"){it=new Uint8Array(_e.length*2),_t=0;for(let Et=0,$=_e.length;Et<$;Et++){const ft=_e.charCodeAt(Et);ft<=255?it[_t++]=ft:(it[_t++]=ft>>>8,it[_t++]=ft&255)}}else if((0,s.isArrayBuffer)(_e))it=_e.slice(),_t=it.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const lt=_t>>2,at=_t-lt*4,tt=new Uint32Array(it.buffer,0,lt);let st=0,dt=0,b=this.h1,_=this.h2;const d=3432918353,g=461845907,et=d&h,mt=g&h;for(let Et=0;Et<lt;Et++)Et&1?(st=tt[Et],st=st*d&a|st*et&h,st=st<<15|st>>>17,st=st*g&a|st*mt&h,b^=st,b=b<<13|b>>>19,b=b*5+3864292196):(dt=tt[Et],dt=dt*d&a|dt*et&h,dt=dt<<15|dt>>>17,dt=dt*g&a|dt*mt&h,_^=dt,_=_<<13|_>>>19,_=_*5+3864292196);switch(st=0,at){case 3:st^=it[lt*4+2]<<16;case 2:st^=it[lt*4+1]<<8;case 1:st^=it[lt*4],st=st*d&a|st*et&h,st=st<<15|st>>>17,st=st*g&a|st*mt&h,lt&1?b^=st:_^=st}this.h1=b,this.h2=_}hexdigest(){let _e=this.h1,it=this.h2;return _e^=it>>>1,_e=_e*3981806797&a|_e*36045&h,it=it*4283543511&a|((it<<16|_e>>>16)*2950163797&a)>>>16,_e^=it>>>1,_e=_e*444984403&a|_e*60499&h,it=it*3301882366&a|((it<<16|_e>>>16)*3120437893&a)>>>16,_e^=it>>>1,(_e>>>0).toString(16).padStart(8,"0")+(it>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=ut},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var s=o(1),c=o(10);class a{constructor({onUnsupportedFeature:ot,ownerDocument:_e=globalThis.document,styleElement:it=null}){this._onUnsupportedFeature=ot,this._document=_e,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ot){this.nativeFontFaces.push(ot),this._document.fonts.add(ot)}insertRule(ot){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _e=this.styleElement.sheet;_e.insertRule(ot,_e.cssRules.length)}clear(){for(const ot of this.nativeFontFaces)this._document.fonts.delete(ot);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(ot){if(ot.attached||ot.missingFile)return;if(ot.attached=!0,this.isFontLoadingAPISupported){const it=ot.createNativeFontFace();if(it){this.addNativeFontFace(it);try{await it.loaded}catch(_t){throw this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${it.family}': '${_t}'.`),ot.disableFontFace=!0,_t}}return}const _e=ot.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(it=>{const _t=this._queueLoadingCallback(it);this._prepareFontLoadEvent(ot,_t)})}}get isFontLoadingAPISupported(){var _e;const ot=!!((_e=this._document)!=null&&_e.fonts);return(0,s.shadow)(this,"isFontLoadingAPISupported",ot)}get isSyncFontLoadingSupported(){let ot=!1;return(c.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ot=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",ot)}_queueLoadingCallback(ot){function _e(){for((0,s.assert)(!_t.done,"completeRequest() cannot be called twice."),_t.done=!0;it.length>0&&it[0].done;){const lt=it.shift();setTimeout(lt.callback,0)}}const{loadingRequests:it}=this,_t={done:!1,complete:_e,callback:ot};return it.push(_t),_t}get _loadTestFont(){const ot=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,s.shadow)(this,"_loadTestFont",ot)}_prepareFontLoadEvent(ot,_e){function it(gt,kt){return gt.charCodeAt(kt)<<24|gt.charCodeAt(kt+1)<<16|gt.charCodeAt(kt+2)<<8|gt.charCodeAt(kt+3)&255}function _t(gt,kt,Kt,$t){const ln=gt.substring(0,kt),en=gt.substring(kt+Kt);return ln+$t+en}let lt,at;const tt=this._document.createElement("canvas");tt.width=1,tt.height=1;const st=tt.getContext("2d");let dt=0;function b(gt,kt){if(++dt>30){(0,s.warn)("Load test font never loaded."),kt();return}if(st.font="30px "+gt,st.fillText(".",0,20),st.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(b.bind(null,gt,kt))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=_t(d,976,_.length,_);const et=16,mt=1482184792;let Et=it(d,et);for(lt=0,at=_.length-3;lt<at;lt+=4)Et=Et-mt+it(_,lt)|0;lt<_.length&&(Et=Et-mt+it(_+"XXX",lt)|0),d=_t(d,et,4,(0,s.string32)(Et));const $=`url(data:font/opentype;base64,${btoa(d)});`,ft=`@font-face {font-family:"${_}";src:${$}}`;this.insertRule(ft);const At=this._document.createElement("div");At.style.visibility="hidden",At.style.width=At.style.height="10px",At.style.position="absolute",At.style.top=At.style.left="0px";for(const gt of[ot.loadedName,_]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=gt,At.append(kt)}this._document.body.append(At),b(_,()=>{At.remove(),_e.complete()})}}i.FontLoader=a;class h{constructor(ot,{isEvalSupported:_e=!0,disableFontFace:it=!1,ignoreErrors:_t=!1,onUnsupportedFeature:lt,fontRegistry:at=null}){this.compiledGlyphs=Object.create(null);for(const tt in ot)this[tt]=ot[tt];this.isEvalSupported=_e!==!1,this.disableFontFace=it===!0,this.ignoreErrors=_t===!0,this._onUnsupportedFeature=lt,this.fontRegistry=at}createNativeFontFace(){var _e;if(!this.data||this.disableFontFace)return null;let ot;if(!this.cssFontInfo)ot=new FontFace(this.loadedName,this.data,{});else{const it={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(it.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ot=new FontFace(this.cssFontInfo.fontFamily,this.data,it)}return(_e=this.fontRegistry)==null||_e.registerFont(this),ot}createFontFaceRule(){var _t;if(!this.data||this.disableFontFace)return null;const ot=(0,s.bytesToString)(this.data),_e=`url(data:${this.mimetype};base64,${btoa(ot)});`;let it;if(!this.cssFontInfo)it=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let lt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(lt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),it=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${lt}src:${_e}}`}return(_t=this.fontRegistry)==null||_t.registerFont(this,_e),it}getPathGenerator(ot,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let it;try{it=ot.get(this.loadedName+"_path_"+_e)}catch(_t){if(!this.ignoreErrors)throw _t;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${_t}".`),this.compiledGlyphs[_e]=function(lt,at){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const _t=[];for(const lt of it){const at=lt.args!==void 0?lt.args.join(","):"";_t.push("c.",lt.cmd,"(",at,`);
`)}return this.compiledGlyphs[_e]=new Function("c","size",_t.join(""))}return this.compiledGlyphs[_e]=function(_t,lt){for(const at of it)at.cmd==="scale"&&(at.args=[lt,-lt]),_t[at.cmd].apply(_t,at.args)}}}i.FontFaceObject=h},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=o},(e,i,o)=>{var Lt,Ko;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var s=o(1),c=o(6),a=o(12),h=o(13);const ut=16,ot=100,_e=4096,it=15,_t=10,lt=1e3,at=16;function tt(St,rt){if(St._removeMirroring)throw new Error("Context is already forwarding operations.");St.__originalSave=St.save,St.__originalRestore=St.restore,St.__originalRotate=St.rotate,St.__originalScale=St.scale,St.__originalTranslate=St.translate,St.__originalTransform=St.transform,St.__originalSetTransform=St.setTransform,St.__originalResetTransform=St.resetTransform,St.__originalClip=St.clip,St.__originalMoveTo=St.moveTo,St.__originalLineTo=St.lineTo,St.__originalBezierCurveTo=St.bezierCurveTo,St.__originalRect=St.rect,St.__originalClosePath=St.closePath,St.__originalBeginPath=St.beginPath,St._removeMirroring=()=>{St.save=St.__originalSave,St.restore=St.__originalRestore,St.rotate=St.__originalRotate,St.scale=St.__originalScale,St.translate=St.__originalTranslate,St.transform=St.__originalTransform,St.setTransform=St.__originalSetTransform,St.resetTransform=St.__originalResetTransform,St.clip=St.__originalClip,St.moveTo=St.__originalMoveTo,St.lineTo=St.__originalLineTo,St.bezierCurveTo=St.__originalBezierCurveTo,St.rect=St.__originalRect,St.closePath=St.__originalClosePath,St.beginPath=St.__originalBeginPath,delete St._removeMirroring},St.save=function(){rt.save(),this.__originalSave()},St.restore=function(){rt.restore(),this.__originalRestore()},St.translate=function(vt,Pt){rt.translate(vt,Pt),this.__originalTranslate(vt,Pt)},St.scale=function(vt,Pt){rt.scale(vt,Pt),this.__originalScale(vt,Pt)},St.transform=function(vt,Pt,Rt,Dt,Nt,Zt){rt.transform(vt,Pt,Rt,Dt,Nt,Zt),this.__originalTransform(vt,Pt,Rt,Dt,Nt,Zt)},St.setTransform=function(vt,Pt,Rt,Dt,Nt,Zt){rt.setTransform(vt,Pt,Rt,Dt,Nt,Zt),this.__originalSetTransform(vt,Pt,Rt,Dt,Nt,Zt)},St.resetTransform=function(){rt.resetTransform(),this.__originalResetTransform()},St.rotate=function(vt){rt.rotate(vt),this.__originalRotate(vt)},St.clip=function(vt){rt.clip(vt),this.__originalClip(vt)},St.moveTo=function(nt,vt){rt.moveTo(nt,vt),this.__originalMoveTo(nt,vt)},St.lineTo=function(nt,vt){rt.lineTo(nt,vt),this.__originalLineTo(nt,vt)},St.bezierCurveTo=function(nt,vt,Pt,Rt,Dt,Nt){rt.bezierCurveTo(nt,vt,Pt,Rt,Dt,Nt),this.__originalBezierCurveTo(nt,vt,Pt,Rt,Dt,Nt)},St.rect=function(nt,vt,Pt,Rt){rt.rect(nt,vt,Pt,Rt),this.__originalRect(nt,vt,Pt,Rt)},St.closePath=function(){rt.closePath(),this.__originalClosePath()},St.beginPath=function(){rt.beginPath(),this.__originalBeginPath()}}class st{constructor(rt){this.canvasFactory=rt,this.cache=Object.create(null)}getCanvas(rt,nt,vt){let Pt;return this.cache[rt]!==void 0?(Pt=this.cache[rt],this.canvasFactory.reset(Pt,nt,vt)):(Pt=this.canvasFactory.create(nt,vt),this.cache[rt]=Pt),Pt}delete(rt){delete this.cache[rt]}clear(){for(const rt in this.cache){const nt=this.cache[rt];this.canvasFactory.destroy(nt),delete this.cache[rt]}}}function dt(St,rt,nt,vt,Pt,Rt,Dt,Nt,Zt,sn){const[Jt,nn,Yt,ct,ht,wt]=(0,c.getCurrentTransform)(St);if(nn===0&&Yt===0){const Bt=Dt*Jt+ht,rn=Math.round(Bt),dn=Nt*ct+wt,gn=Math.round(dn),tn=(Dt+Zt)*Jt+ht,_n=Math.abs(Math.round(tn)-rn)||1,mn=(Nt+sn)*ct+wt,An=Math.abs(Math.round(mn)-gn)||1;return St.setTransform(Math.sign(Jt),0,0,Math.sign(ct),rn,gn),St.drawImage(rt,nt,vt,Pt,Rt,0,0,_n,An),St.setTransform(Jt,nn,Yt,ct,ht,wt),[_n,An]}if(Jt===0&&ct===0){const Bt=Nt*Yt+ht,rn=Math.round(Bt),dn=Dt*nn+wt,gn=Math.round(dn),tn=(Nt+sn)*Yt+ht,_n=Math.abs(Math.round(tn)-rn)||1,mn=(Dt+Zt)*nn+wt,An=Math.abs(Math.round(mn)-gn)||1;return St.setTransform(0,Math.sign(nn),Math.sign(Yt),0,rn,gn),St.drawImage(rt,nt,vt,Pt,Rt,0,0,An,_n),St.setTransform(Jt,nn,Yt,ct,ht,wt),[An,_n]}St.drawImage(rt,nt,vt,Pt,Rt,Dt,Nt,Zt,sn);const xt=Math.hypot(Jt,nn),bt=Math.hypot(Yt,ct);return[xt*Zt,bt*sn]}function b(St){const{width:rt,height:nt}=St;if(rt>lt||nt>lt)return null;const vt=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rt=rt+1;let Dt=new Uint8Array(Rt*(nt+1)),Nt,Zt,sn;const Jt=rt+7&-8;let nn=new Uint8Array(Jt*nt),Yt=0;for(const bt of St.data){let Bt=128;for(;Bt>0;)nn[Yt++]=bt&Bt?0:255,Bt>>=1}let ct=0;for(Yt=0,nn[Yt]!==0&&(Dt[0]=1,++ct),Zt=1;Zt<rt;Zt++)nn[Yt]!==nn[Yt+1]&&(Dt[Zt]=nn[Yt]?2:1,++ct),Yt++;for(nn[Yt]!==0&&(Dt[Zt]=2,++ct),Nt=1;Nt<nt;Nt++){Yt=Nt*Jt,sn=Nt*Rt,nn[Yt-Jt]!==nn[Yt]&&(Dt[sn]=nn[Yt]?1:8,++ct);let bt=(nn[Yt]?4:0)+(nn[Yt-Jt]?8:0);for(Zt=1;Zt<rt;Zt++)bt=(bt>>2)+(nn[Yt+1]?4:0)+(nn[Yt-Jt+1]?8:0),Pt[bt]&&(Dt[sn+Zt]=Pt[bt],++ct),Yt++;if(nn[Yt-Jt]!==nn[Yt]&&(Dt[sn+Zt]=nn[Yt]?2:4,++ct),ct>vt)return null}for(Yt=Jt*(nt-1),sn=Nt*Rt,nn[Yt]!==0&&(Dt[sn]=8,++ct),Zt=1;Zt<rt;Zt++)nn[Yt]!==nn[Yt+1]&&(Dt[sn+Zt]=nn[Yt]?4:8,++ct),Yt++;if(nn[Yt]!==0&&(Dt[sn+Zt]=4,++ct),ct>vt)return null;const ht=new Int32Array([0,Rt,-1,0,-Rt,0,0,0,1]),wt=new Path2D;for(Nt=0;ct&&Nt<=nt;Nt++){let bt=Nt*Rt;const Bt=bt+rt;for(;bt<Bt&&!Dt[bt];)bt++;if(bt===Bt)continue;wt.moveTo(bt%Rt,Nt);const rn=bt;let dn=Dt[bt];do{const gn=ht[dn];do bt+=gn;while(!Dt[bt]);const tn=Dt[bt];tn!==5&&tn!==10?(dn=tn,Dt[bt]=0):(dn=tn&51*dn>>4,Dt[bt]&=dn>>2|dn<<2),wt.lineTo(bt%Rt,bt/Rt|0),Dt[bt]||--ct}while(rn!==bt);--Nt}return nn=null,Dt=null,function(bt){bt.save(),bt.scale(1/rt,-1/nt),bt.translate(0,-nt),bt.fill(wt),bt.beginPath(),bt.restore()}}class _{constructor(rt,nt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,rt,nt])}clone(){const rt=Object.create(this);return rt.clipBox=this.clipBox.slice(),rt}setCurrentPoint(rt,nt){this.x=rt,this.y=nt}updatePathMinMax(rt,nt,vt){[nt,vt]=s.Util.applyTransform([nt,vt],rt),this.minX=Math.min(this.minX,nt),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,nt),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax(rt,nt){const vt=s.Util.applyTransform(nt,rt),Pt=s.Util.applyTransform(nt.slice(2),rt);this.minX=Math.min(this.minX,vt[0],Pt[0]),this.minY=Math.min(this.minY,vt[1],Pt[1]),this.maxX=Math.max(this.maxX,vt[0],Pt[0]),this.maxY=Math.max(this.maxY,vt[1],Pt[1])}updateScalingPathMinMax(rt,nt){s.Util.scaleMinMax(rt,nt),this.minX=Math.min(this.minX,nt[0]),this.maxX=Math.max(this.maxX,nt[1]),this.minY=Math.min(this.minY,nt[2]),this.maxY=Math.max(this.maxY,nt[3])}updateCurvePathMinMax(rt,nt,vt,Pt,Rt,Dt,Nt,Zt,sn,Jt){const nn=s.Util.bezierBoundingBox(nt,vt,Pt,Rt,Dt,Nt,Zt,sn);if(Jt){Jt[0]=Math.min(Jt[0],nn[0],nn[2]),Jt[1]=Math.max(Jt[1],nn[0],nn[2]),Jt[2]=Math.min(Jt[2],nn[1],nn[3]),Jt[3]=Math.max(Jt[3],nn[1],nn[3]);return}this.updateRectMinMax(rt,nn)}getPathBoundingBox(rt=a.PathType.FILL,nt=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if(rt===a.PathType.STROKE){nt||(0,s.unreachable)("Stroke bounding box must include transform.");const Pt=s.Util.singularValueDecompose2dScale(nt),Rt=Pt[0]*this.lineWidth/2,Dt=Pt[1]*this.lineWidth/2;vt[0]-=Rt,vt[1]-=Dt,vt[2]+=Rt,vt[3]+=Dt}return vt}updateClipFromPath(){const rt=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(rt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(rt){this.clipBox=rt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(rt=a.PathType.FILL,nt=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(rt,nt))}}function d(St,rt,nt=null){if(typeof ImageData<"u"&&rt instanceof ImageData){St.putImageData(rt,0,0);return}const vt=rt.height,Pt=rt.width,Rt=vt%at,Dt=(vt-Rt)/at,Nt=Rt===0?Dt:Dt+1,Zt=St.createImageData(Pt,at);let sn=0,Jt;const nn=rt.data,Yt=Zt.data;let ct,ht,wt,xt,bt,Bt,rn,dn;if(nt)switch(nt.length){case 1:bt=nt[0],Bt=nt[0],rn=nt[0],dn=nt[0];break;case 4:bt=nt[0],Bt=nt[1],rn=nt[2],dn=nt[3];break}if(rt.kind===s.ImageKind.GRAYSCALE_1BPP){const gn=nn.byteLength,tn=new Uint32Array(Yt.buffer,0,Yt.byteLength>>2),_n=tn.length,mn=Pt+7>>3;let An=4294967295,Cn=s.FeatureTest.isLittleEndian?4278190080:255;for(dn&&dn[0]===255&&dn[255]===0&&([An,Cn]=[Cn,An]),ct=0;ct<Nt;ct++){for(wt=ct<Dt?at:Rt,Jt=0,ht=0;ht<wt;ht++){const Bn=gn-sn;let $n=0;const zn=Bn>mn?Pt:Bn*8-7,Tt=zn&-8;let Ft=0,jt=0;for(;$n<Tt;$n+=8)jt=nn[sn++],tn[Jt++]=jt&128?An:Cn,tn[Jt++]=jt&64?An:Cn,tn[Jt++]=jt&32?An:Cn,tn[Jt++]=jt&16?An:Cn,tn[Jt++]=jt&8?An:Cn,tn[Jt++]=jt&4?An:Cn,tn[Jt++]=jt&2?An:Cn,tn[Jt++]=jt&1?An:Cn;for(;$n<zn;$n++)Ft===0&&(jt=nn[sn++],Ft=128),tn[Jt++]=jt&Ft?An:Cn,Ft>>=1}for(;Jt<_n;)tn[Jt++]=0;St.putImageData(Zt,0,ct*at)}}else if(rt.kind===s.ImageKind.RGBA_32BPP){const gn=!!(bt||Bt||rn);for(ht=0,xt=Pt*at*4,ct=0;ct<Dt;ct++){if(Yt.set(nn.subarray(sn,sn+xt)),sn+=xt,gn)for(let tn=0;tn<xt;tn+=4)bt&&(Yt[tn+0]=bt[Yt[tn+0]]),Bt&&(Yt[tn+1]=Bt[Yt[tn+1]]),rn&&(Yt[tn+2]=rn[Yt[tn+2]]);St.putImageData(Zt,0,ht),ht+=at}if(ct<Nt){if(xt=Pt*Rt*4,Yt.set(nn.subarray(sn,sn+xt)),gn)for(let tn=0;tn<xt;tn+=4)bt&&(Yt[tn+0]=bt[Yt[tn+0]]),Bt&&(Yt[tn+1]=Bt[Yt[tn+1]]),rn&&(Yt[tn+2]=rn[Yt[tn+2]]);St.putImageData(Zt,0,ht)}}else if(rt.kind===s.ImageKind.RGB_24BPP){const gn=!!(bt||Bt||rn);for(wt=at,xt=Pt*wt,ct=0;ct<Nt;ct++){for(ct>=Dt&&(wt=Rt,xt=Pt*wt),Jt=0,ht=xt;ht--;)Yt[Jt++]=nn[sn++],Yt[Jt++]=nn[sn++],Yt[Jt++]=nn[sn++],Yt[Jt++]=255;if(gn)for(let tn=0;tn<Jt;tn+=4)bt&&(Yt[tn+0]=bt[Yt[tn+0]]),Bt&&(Yt[tn+1]=Bt[Yt[tn+1]]),rn&&(Yt[tn+2]=rn[Yt[tn+2]]);St.putImageData(Zt,0,ct*at)}}else throw new Error(`bad image kind: ${rt.kind}`)}function g(St,rt){if(rt.bitmap){St.drawImage(rt.bitmap,0,0);return}const nt=rt.height,vt=rt.width,Pt=nt%at,Rt=(nt-Pt)/at,Dt=Pt===0?Rt:Rt+1,Nt=St.createImageData(vt,at);let Zt=0;const sn=rt.data,Jt=Nt.data;for(let nn=0;nn<Dt;nn++){const Yt=nn<Rt?at:Pt;({srcPos:Zt}=(0,h.applyMaskImageData)({src:sn,srcPos:Zt,dest:Jt,width:vt,height:Yt})),St.putImageData(Nt,0,nn*at)}}function et(St,rt){const nt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const vt of nt)St[vt]!==void 0&&(rt[vt]=St[vt]);St.setLineDash!==void 0&&(rt.setLineDash(St.getLineDash()),rt.lineDashOffset=St.lineDashOffset)}function mt(St,rt){St.strokeStyle=St.fillStyle=rt||"#000000",St.fillRule="nonzero",St.globalAlpha=1,St.lineWidth=1,St.lineCap="butt",St.lineJoin="miter",St.miterLimit=10,St.globalCompositeOperation="source-over",St.font="10px sans-serif",St.setLineDash!==void 0&&(St.setLineDash([]),St.lineDashOffset=0)}function Et(St,rt,nt,vt){const Pt=St.length;for(let Rt=3;Rt<Pt;Rt+=4){const Dt=St[Rt];if(Dt===0)St[Rt-3]=rt,St[Rt-2]=nt,St[Rt-1]=vt;else if(Dt<255){const Nt=255-Dt;St[Rt-3]=St[Rt-3]*Dt+rt*Nt>>8,St[Rt-2]=St[Rt-2]*Dt+nt*Nt>>8,St[Rt-1]=St[Rt-1]*Dt+vt*Nt>>8}}}function $(St,rt,nt){const vt=St.length,Pt=1/255;for(let Rt=3;Rt<vt;Rt+=4){const Dt=nt?nt[St[Rt]]:St[Rt];rt[Rt]=rt[Rt]*Dt*Pt|0}}function ft(St,rt,nt){const vt=St.length;for(let Pt=3;Pt<vt;Pt+=4){const Rt=St[Pt-3]*77+St[Pt-2]*152+St[Pt-1]*28;rt[Pt]=nt?rt[Pt]*nt[Rt>>8]>>8:rt[Pt]*Rt>>16}}function At(St,rt,nt,vt,Pt,Rt,Dt,Nt,Zt,sn,Jt){const nn=!!Rt,Yt=nn?Rt[0]:0,ct=nn?Rt[1]:0,ht=nn?Rt[2]:0;let wt;Pt==="Luminosity"?wt=ft:wt=$;const bt=Math.min(vt,Math.ceil(1048576/nt));for(let Bt=0;Bt<vt;Bt+=bt){const rn=Math.min(bt,vt-Bt),dn=St.getImageData(Nt-sn,Bt+(Zt-Jt),nt,rn),gn=rt.getImageData(Nt,Bt+Zt,nt,rn);nn&&Et(dn.data,Yt,ct,ht),wt(dn.data,gn.data,Dt),rt.putImageData(gn,Nt,Bt+Zt)}}function gt(St,rt,nt,vt){const Pt=vt[0],Rt=vt[1],Dt=vt[2]-Pt,Nt=vt[3]-Rt;Dt===0||Nt===0||(At(rt.context,nt,Dt,Nt,rt.subtype,rt.backdrop,rt.transferMap,Pt,Rt,rt.offsetX,rt.offsetY),St.save(),St.globalAlpha=1,St.globalCompositeOperation="source-over",St.setTransform(1,0,0,1,0,0),St.drawImage(nt.canvas,0,0),St.restore())}function kt(St,rt){const nt=s.Util.singularValueDecompose2dScale(St);nt[0]=Math.fround(nt[0]),nt[1]=Math.fround(nt[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return rt!==void 0?rt:nt[0]<=vt||nt[1]<=vt}const Kt=["butt","round","square"],$t=["miter","round","bevel"],ln={},en={},Qt=class Qt{constructor(rt,nt,vt,Pt,{optionalContentConfig:Rt,markedContentStack:Dt=null},Nt,Zt){on(this,Lt);this.ctx=rt,this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=nt,this.objs=vt,this.canvasFactory=Pt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Dt||[],this.optionalContentConfig=Rt,this.cachedCanvases=new st(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Nt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Zt==null?void 0:Zt.background)||null,this.foregroundColor=(Zt==null?void 0:Zt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(rt,nt=null){return typeof rt=="string"?rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt):nt}beginDrawing({transform:rt,viewport:nt,transparency:vt=!1,background:Pt=null}){const Rt=this.ctx.canvas.width,Dt=this.ctx.canvas.height,Nt=Pt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Zt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const sn=this.backgroundColor=this.ctx.fillStyle;let Jt=!0,nn=Nt;if(this.ctx.fillStyle=Nt,nn=this.ctx.fillStyle,Jt=typeof nn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nn),Zt==="#000000"&&sn==="#ffffff"||Zt===sn||!Jt)this.foregroundColor=this.backgroundColor=null;else{const[Yt,ct,ht]=(0,c.getRGB)(nn),wt=bt=>(bt/=255,bt<=.03928?bt/12.92:((bt+.055)/1.055)**2.4),xt=Math.round(.2126*wt(Yt)+.7152*wt(ct)+.0722*wt(ht));this.selectColor=(bt,Bt,rn)=>{const dn=.2126*wt(bt)+.7152*wt(Bt)+.0722*wt(rn);return Math.round(dn)===xt?sn:Zt}}}if(this.ctx.fillStyle=this.backgroundColor||Nt,this.ctx.fillRect(0,0,Rt,Dt),this.ctx.restore(),vt){const Zt=this.cachedCanvases.getCanvas("transparent",Rt,Dt);this.compositeCtx=this.ctx,this.transparentCanvas=Zt.canvas,this.ctx=Zt.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),mt(this.ctx,this.foregroundColor),rt&&(this.ctx.transform(...rt),this.outputScaleX=rt[0],this.outputScaleY=rt[0]),this.ctx.transform(...nt.transform),this.viewportScale=nt.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(rt,nt,vt,Pt){const Rt=rt.argsArray,Dt=rt.fnArray;let Nt=nt||0;const Zt=Rt.length;if(Zt===Nt)return Nt;const sn=Zt-Nt>_t&&typeof vt=="function",Jt=sn?Date.now()+it:0;let nn=0;const Yt=this.commonObjs,ct=this.objs;let ht;for(;;){if(Pt!==void 0&&Nt===Pt.nextBreakPoint)return Pt.breakIt(Nt,vt),Nt;if(ht=Dt[Nt],ht!==s.OPS.dependency)this[ht].apply(this,Rt[Nt]);else for(const wt of Rt[Nt]){const xt=wt.startsWith("g_")?Yt:ct;if(!xt.has(wt))return xt.get(wt,vt),Nt}if(Nt++,Nt===Zt)return Nt;if(sn&&++nn>_t){if(Date.now()>Jt)return vt(),Nt;nn=0}}}endDrawing(){hn(this,Lt,Ko).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const rt of this._cachedBitmapsMap.values()){for(const nt of rt.values())typeof HTMLCanvasElement<"u"&&nt instanceof HTMLCanvasElement&&(nt.width=nt.height=0);rt.clear()}this._cachedBitmapsMap.clear()}_scaleImage(rt,nt){const vt=rt.width,Pt=rt.height;let Rt=Math.max(Math.hypot(nt[0],nt[1]),1),Dt=Math.max(Math.hypot(nt[2],nt[3]),1),Nt=vt,Zt=Pt,sn="prescale1",Jt,nn;for(;Rt>2&&Nt>1||Dt>2&&Zt>1;){let Yt=Nt,ct=Zt;Rt>2&&Nt>1&&(Yt=Math.ceil(Nt/2),Rt/=Nt/Yt),Dt>2&&Zt>1&&(ct=Math.ceil(Zt/2),Dt/=Zt/ct),Jt=this.cachedCanvases.getCanvas(sn,Yt,ct),nn=Jt.context,nn.clearRect(0,0,Yt,ct),nn.drawImage(rt,0,0,Nt,Zt,0,0,Yt,ct),rt=Jt.canvas,Nt=Yt,Zt=ct,sn=sn==="prescale1"?"prescale2":"prescale1"}return{img:rt,paintWidth:Nt,paintHeight:Zt}}_createMaskCanvas(rt){const nt=this.ctx,{width:vt,height:Pt}=rt,Rt=this.current.fillColor,Dt=this.current.patternFill,Nt=(0,c.getCurrentTransform)(nt);let Zt,sn,Jt,nn;if((rt.bitmap||rt.data)&&rt.count>1){const _n=rt.bitmap||rt.data.buffer;sn=JSON.stringify(Dt?Nt:[Nt.slice(0,4),Rt]),Zt=this._cachedBitmapsMap.get(_n),Zt||(Zt=new Map,this._cachedBitmapsMap.set(_n,Zt));const mn=Zt.get(sn);if(mn&&!Dt){const An=Math.round(Math.min(Nt[0],Nt[2])+Nt[4]),Cn=Math.round(Math.min(Nt[1],Nt[3])+Nt[5]);return{canvas:mn,offsetX:An,offsetY:Cn}}Jt=mn}Jt||(nn=this.cachedCanvases.getCanvas("maskCanvas",vt,Pt),g(nn.context,rt));let Yt=s.Util.transform(Nt,[1/vt,0,0,-1/Pt,0,0]);Yt=s.Util.transform(Yt,[1,0,0,1,0,-Pt]);const ct=s.Util.applyTransform([0,0],Yt),ht=s.Util.applyTransform([vt,Pt],Yt),wt=s.Util.normalizeRect([ct[0],ct[1],ht[0],ht[1]]),xt=Math.round(wt[2]-wt[0])||1,bt=Math.round(wt[3]-wt[1])||1,Bt=this.cachedCanvases.getCanvas("fillCanvas",xt,bt),rn=Bt.context,dn=Math.min(ct[0],ht[0]),gn=Math.min(ct[1],ht[1]);rn.translate(-dn,-gn),rn.transform(...Yt),Jt||(Jt=this._scaleImage(nn.canvas,(0,c.getCurrentTransformInverse)(rn)),Jt=Jt.img,Zt&&Dt&&Zt.set(sn,Jt)),rn.imageSmoothingEnabled=kt((0,c.getCurrentTransform)(rn),rt.interpolate),dt(rn,Jt,0,0,Jt.width,Jt.height,0,0,vt,Pt),rn.globalCompositeOperation="source-in";const tn=s.Util.transform((0,c.getCurrentTransformInverse)(rn),[1,0,0,1,-dn,-gn]);return rn.fillStyle=Dt?Rt.getPattern(nt,this,tn,a.PathType.FILL):Rt,rn.fillRect(0,0,vt,Pt),Zt&&!Dt&&(this.cachedCanvases.delete("fillCanvas"),Zt.set(sn,Bt.canvas)),{canvas:Bt.canvas,offsetX:Math.round(dn),offsetY:Math.round(gn)}}setLineWidth(rt){rt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=rt,this.ctx.lineWidth=rt}setLineCap(rt){this.ctx.lineCap=Kt[rt]}setLineJoin(rt){this.ctx.lineJoin=$t[rt]}setMiterLimit(rt){this.ctx.miterLimit=rt}setDash(rt,nt){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash(rt),vt.lineDashOffset=nt)}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[nt,vt]of rt)switch(nt){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=vt}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const rt=this.inSMaskMode;this.current.activeSMask&&!rt?this.beginSMaskMode():!this.current.activeSMask&&rt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const rt=this.ctx.canvas.width,nt=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(vt,rt,nt);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const Rt=this.ctx;Rt.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),et(this.suspendedCtx,Rt),tt(Rt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),et(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(rt){if(!this.current.activeSMask)return;rt?(rt[0]=Math.floor(rt[0]),rt[1]=Math.floor(rt[1]),rt[2]=Math.ceil(rt[2]),rt[3]=Math.ceil(rt[3])):rt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const nt=this.current.activeSMask,vt=this.suspendedCtx;gt(vt,nt,this.ctx,rt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(et(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const rt=this.current;this.stateStack.push(rt),this.current=rt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),et(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(rt,nt,vt,Pt,Rt,Dt){this.ctx.transform(rt,nt,vt,Pt,Rt,Dt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(rt,nt,vt){const Pt=this.ctx,Rt=this.current;let Dt=Rt.x,Nt=Rt.y,Zt,sn;const Jt=(0,c.getCurrentTransform)(Pt),nn=Jt[0]===0&&Jt[3]===0||Jt[1]===0&&Jt[2]===0,Yt=nn?vt.slice(0):null;for(let ct=0,ht=0,wt=rt.length;ct<wt;ct++)switch(rt[ct]|0){case s.OPS.rectangle:Dt=nt[ht++],Nt=nt[ht++];const xt=nt[ht++],bt=nt[ht++],Bt=Dt+xt,rn=Nt+bt;Pt.moveTo(Dt,Nt),xt===0||bt===0?Pt.lineTo(Bt,rn):(Pt.lineTo(Bt,Nt),Pt.lineTo(Bt,rn),Pt.lineTo(Dt,rn)),nn||Rt.updateRectMinMax(Jt,[Dt,Nt,Bt,rn]),Pt.closePath();break;case s.OPS.moveTo:Dt=nt[ht++],Nt=nt[ht++],Pt.moveTo(Dt,Nt),nn||Rt.updatePathMinMax(Jt,Dt,Nt);break;case s.OPS.lineTo:Dt=nt[ht++],Nt=nt[ht++],Pt.lineTo(Dt,Nt),nn||Rt.updatePathMinMax(Jt,Dt,Nt);break;case s.OPS.curveTo:Zt=Dt,sn=Nt,Dt=nt[ht+4],Nt=nt[ht+5],Pt.bezierCurveTo(nt[ht],nt[ht+1],nt[ht+2],nt[ht+3],Dt,Nt),Rt.updateCurvePathMinMax(Jt,Zt,sn,nt[ht],nt[ht+1],nt[ht+2],nt[ht+3],Dt,Nt,Yt),ht+=6;break;case s.OPS.curveTo2:Zt=Dt,sn=Nt,Pt.bezierCurveTo(Dt,Nt,nt[ht],nt[ht+1],nt[ht+2],nt[ht+3]),Rt.updateCurvePathMinMax(Jt,Zt,sn,Dt,Nt,nt[ht],nt[ht+1],nt[ht+2],nt[ht+3],Yt),Dt=nt[ht+2],Nt=nt[ht+3],ht+=4;break;case s.OPS.curveTo3:Zt=Dt,sn=Nt,Dt=nt[ht+2],Nt=nt[ht+3],Pt.bezierCurveTo(nt[ht],nt[ht+1],Dt,Nt,Dt,Nt),Rt.updateCurvePathMinMax(Jt,Zt,sn,nt[ht],nt[ht+1],Dt,Nt,Dt,Nt,Yt),ht+=4;break;case s.OPS.closePath:Pt.closePath();break}nn&&Rt.updateScalingPathMinMax(Jt,Yt),Rt.setCurrentPoint(Dt,Nt)}closePath(){this.ctx.closePath()}stroke(rt=!0){const nt=this.ctx,vt=this.current.strokeColor;nt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(nt.save(),nt.strokeStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.STROKE),this.rescaleAndStroke(!1),nt.restore()):this.rescaleAndStroke(!0)),rt&&this.consumePath(this.current.getClippedPathBoundingBox()),nt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(rt=!0){const nt=this.ctx,vt=this.current.fillColor,Pt=this.current.patternFill;let Rt=!1;Pt&&(nt.save(),nt.fillStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.FILL),Rt=!0);const Dt=this.current.getClippedPathBoundingBox();this.contentVisible&&Dt!==null&&(this.pendingEOFill?(nt.fill("evenodd"),this.pendingEOFill=!1):nt.fill()),Rt&&nt.restore(),rt&&this.consumePath(Dt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ln}eoClip(){this.pendingClip=en}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const rt=this.pendingTextPaths,nt=this.ctx;if(rt===void 0){nt.beginPath();return}nt.save(),nt.beginPath();for(const vt of rt)nt.setTransform(...vt.transform),nt.translate(vt.x,vt.y),vt.addToPath(nt,vt.fontSize);nt.restore(),nt.clip(),nt.beginPath(),delete this.pendingTextPaths}setCharSpacing(rt){this.current.charSpacing=rt}setWordSpacing(rt){this.current.wordSpacing=rt}setHScale(rt){this.current.textHScale=rt/100}setLeading(rt){this.current.leading=-rt}setFont(rt,nt){const vt=this.commonObjs.get(rt),Pt=this.current;if(!vt)throw new Error(`Can't find font for ${rt}`);if(Pt.fontMatrix=vt.fontMatrix||s.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,s.warn)("Invalid font matrix for font "+rt),nt<0?(nt=-nt,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=vt,this.current.fontSize=nt,vt.isType3Font)return;const Rt=vt.loadedName||"sans-serif";let Dt="normal";vt.black?Dt="900":vt.bold&&(Dt="bold");const Nt=vt.italic?"italic":"normal",Zt=`"${Rt}", ${vt.fallbackName}`;let sn=nt;nt<ut?sn=ut:nt>ot&&(sn=ot),this.current.fontSizeScale=nt/sn,this.ctx.font=`${Nt} ${Dt} ${sn}px ${Zt}`}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setTextRise(rt){this.current.textRise=rt}moveText(rt,nt){this.current.x=this.current.lineX+=rt,this.current.y=this.current.lineY+=nt}setLeadingMoveText(rt,nt){this.setLeading(-nt),this.moveText(rt,nt)}setTextMatrix(rt,nt,vt,Pt,Rt,Dt){this.current.textMatrix=[rt,nt,vt,Pt,Rt,Dt],this.current.textMatrixScale=Math.hypot(rt,nt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(rt,nt,vt,Pt){const Rt=this.ctx,Dt=this.current,Nt=Dt.font,Zt=Dt.textRenderingMode,sn=Dt.fontSize/Dt.fontSizeScale,Jt=Zt&s.TextRenderingMode.FILL_STROKE_MASK,nn=!!(Zt&s.TextRenderingMode.ADD_TO_PATH_FLAG),Yt=Dt.patternFill&&!Nt.missingFile;let ct;(Nt.disableFontFace||nn||Yt)&&(ct=Nt.getPathGenerator(this.commonObjs,rt)),Nt.disableFontFace||Yt?(Rt.save(),Rt.translate(nt,vt),Rt.beginPath(),ct(Rt,sn),Pt&&Rt.setTransform(...Pt),(Jt===s.TextRenderingMode.FILL||Jt===s.TextRenderingMode.FILL_STROKE)&&Rt.fill(),(Jt===s.TextRenderingMode.STROKE||Jt===s.TextRenderingMode.FILL_STROKE)&&Rt.stroke(),Rt.restore()):((Jt===s.TextRenderingMode.FILL||Jt===s.TextRenderingMode.FILL_STROKE)&&Rt.fillText(rt,nt,vt),(Jt===s.TextRenderingMode.STROKE||Jt===s.TextRenderingMode.FILL_STROKE)&&Rt.strokeText(rt,nt,vt)),nn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(Rt),x:nt,y:vt,fontSize:sn,addToPath:ct})}get isFontSubpixelAAEnabled(){const{context:rt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);rt.scale(1.5,1),rt.fillText("I",0,10);const nt=rt.getImageData(0,0,10,10).data;let vt=!1;for(let Pt=3;Pt<nt.length;Pt+=4)if(nt[Pt]>0&&nt[Pt]<255){vt=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",vt)}showText(rt){const nt=this.current,vt=nt.font;if(vt.isType3Font)return this.showType3Text(rt);const Pt=nt.fontSize;if(Pt===0)return;const Rt=this.ctx,Dt=nt.fontSizeScale,Nt=nt.charSpacing,Zt=nt.wordSpacing,sn=nt.fontDirection,Jt=nt.textHScale*sn,nn=rt.length,Yt=vt.vertical,ct=Yt?1:-1,ht=vt.defaultVMetrics,wt=Pt*nt.fontMatrix[0],xt=nt.textRenderingMode===s.TextRenderingMode.FILL&&!vt.disableFontFace&&!nt.patternFill;Rt.save(),Rt.transform(...nt.textMatrix),Rt.translate(nt.x,nt.y+nt.textRise),sn>0?Rt.scale(Jt,-1):Rt.scale(Jt,1);let bt;if(nt.patternFill){Rt.save();const tn=nt.fillColor.getPattern(Rt,this,(0,c.getCurrentTransformInverse)(Rt),a.PathType.FILL);bt=(0,c.getCurrentTransform)(Rt),Rt.restore(),Rt.fillStyle=tn}let Bt=nt.lineWidth;const rn=nt.textMatrixScale;if(rn===0||Bt===0){const tn=nt.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(tn===s.TextRenderingMode.STROKE||tn===s.TextRenderingMode.FILL_STROKE)&&(Bt=this.getSinglePixelWidth())}else Bt/=rn;if(Dt!==1&&(Rt.scale(Dt,Dt),Bt/=Dt),Rt.lineWidth=Bt,vt.isInvalidPDFjsFont){const tn=[];let _n=0;for(const mn of rt)tn.push(mn.unicode),_n+=mn.width;Rt.fillText(tn.join(""),0,0),nt.x+=_n*wt*Jt,Rt.restore(),this.compose();return}let dn=0,gn;for(gn=0;gn<nn;++gn){const tn=rt[gn];if(typeof tn=="number"){dn+=ct*tn*Pt/1e3;continue}let _n=!1;const mn=(tn.isSpace?Zt:0)+Nt,An=tn.fontChar,Cn=tn.accent;let Bn,$n,zn=tn.width;if(Yt){const Ft=tn.vmetric||ht,jt=-(tn.vmetric?Ft[1]:zn*.5)*wt,fn=Ft[2]*wt;zn=Ft?-Ft[0]:zn,Bn=jt/Dt,$n=(dn+fn)/Dt}else Bn=dn/Dt,$n=0;if(vt.remeasure&&zn>0){const Ft=Rt.measureText(An).width*1e3/Pt*Dt;if(zn<Ft&&this.isFontSubpixelAAEnabled){const jt=zn/Ft;_n=!0,Rt.save(),Rt.scale(jt,1),Bn/=jt}else zn!==Ft&&(Bn+=(zn-Ft)/2e3*Pt/Dt)}if(this.contentVisible&&(tn.isInFont||vt.missingFile)){if(xt&&!Cn)Rt.fillText(An,Bn,$n);else if(this.paintChar(An,Bn,$n,bt),Cn){const Ft=Bn+Pt*Cn.offset.x/Dt,jt=$n-Pt*Cn.offset.y/Dt;this.paintChar(Cn.fontChar,Ft,jt,bt)}}let Tt;Yt?Tt=zn*wt-mn*sn:Tt=zn*wt+mn*sn,dn+=Tt,_n&&Rt.restore()}Yt?nt.y-=dn:nt.x+=dn*Jt,Rt.restore(),this.compose()}showType3Text(rt){const nt=this.ctx,vt=this.current,Pt=vt.font,Rt=vt.fontSize,Dt=vt.fontDirection,Nt=Pt.vertical?1:-1,Zt=vt.charSpacing,sn=vt.wordSpacing,Jt=vt.textHScale*Dt,nn=vt.fontMatrix||s.FONT_IDENTITY_MATRIX,Yt=rt.length,ct=vt.textRenderingMode===s.TextRenderingMode.INVISIBLE;let ht,wt,xt,bt;if(!(ct||Rt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,nt.save(),nt.transform(...vt.textMatrix),nt.translate(vt.x,vt.y),nt.scale(Jt,Dt),ht=0;ht<Yt;++ht){if(wt=rt[ht],typeof wt=="number"){bt=Nt*wt*Rt/1e3,this.ctx.translate(bt,0),vt.x+=bt*Jt;continue}const Bt=(wt.isSpace?sn:0)+Zt,rn=Pt.charProcOperatorList[wt.operatorListId];if(!rn){(0,s.warn)(`Type3 character "${wt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=wt,this.save(),nt.scale(Rt,Rt),nt.transform(...nn),this.executeOperatorList(rn),this.restore()),xt=s.Util.applyTransform([wt.width,0],nn)[0]*Rt+Bt,nt.translate(xt,0),vt.x+=xt*Jt}nt.restore(),this.processingType3=null}}setCharWidth(rt,nt){}setCharWidthAndBounds(rt,nt,vt,Pt,Rt,Dt){this.ctx.rect(vt,Pt,Rt-vt,Dt-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(rt){let nt;if(rt[0]==="TilingPattern"){const vt=rt[1],Pt=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),Rt={createCanvasGraphics:Dt=>new Qt(Dt,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};nt=new a.TilingPattern(rt,vt,this.ctx,Rt,Pt)}else nt=this._getPattern(rt[1],rt[2]);return nt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(rt,nt,vt){var Rt;const Pt=((Rt=this.selectColor)==null?void 0:Rt.call(this,rt,nt,vt))||s.Util.makeHexColor(rt,nt,vt);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(rt,nt,vt){var Rt;const Pt=((Rt=this.selectColor)==null?void 0:Rt.call(this,rt,nt,vt))||s.Util.makeHexColor(rt,nt,vt);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(rt,nt=null){let vt;return this.cachedPatterns.has(rt)?vt=this.cachedPatterns.get(rt):(vt=(0,a.getShadingPattern)(this.objs.get(rt)),this.cachedPatterns.set(rt,vt)),nt&&(vt.matrix=nt),vt}shadingFill(rt){if(!this.contentVisible)return;const nt=this.ctx;this.save();const vt=this._getPattern(rt);nt.fillStyle=vt.getPattern(nt,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.SHADING);const Pt=(0,c.getCurrentTransformInverse)(nt);if(Pt){const Rt=nt.canvas,Dt=Rt.width,Nt=Rt.height,Zt=s.Util.applyTransform([0,0],Pt),sn=s.Util.applyTransform([0,Nt],Pt),Jt=s.Util.applyTransform([Dt,0],Pt),nn=s.Util.applyTransform([Dt,Nt],Pt),Yt=Math.min(Zt[0],sn[0],Jt[0],nn[0]),ct=Math.min(Zt[1],sn[1],Jt[1],nn[1]),ht=Math.max(Zt[0],sn[0],Jt[0],nn[0]),wt=Math.max(Zt[1],sn[1],Jt[1],nn[1]);this.ctx.fillRect(Yt,ct,ht-Yt,wt-ct)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(rt,nt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(rt)&&rt.length===6&&this.transform(...rt),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),nt)){const vt=nt[2]-nt[0],Pt=nt[3]-nt[1];this.ctx.rect(nt[0],nt[1],vt,Pt),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),nt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(rt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const nt=this.ctx;rt.isolated||(0,s.info)("TODO: Support non-isolated groups."),rt.knockout&&(0,s.warn)("Knockout groups not supported.");const vt=(0,c.getCurrentTransform)(nt);if(rt.matrix&&nt.transform(...rt.matrix),!rt.bbox)throw new Error("Bounding box is required.");let Pt=s.Util.getAxialAlignedBoundingBox(rt.bbox,(0,c.getCurrentTransform)(nt));const Rt=[0,0,nt.canvas.width,nt.canvas.height];Pt=s.Util.intersect(Pt,Rt)||[0,0,0,0];const Dt=Math.floor(Pt[0]),Nt=Math.floor(Pt[1]);let Zt=Math.max(Math.ceil(Pt[2])-Dt,1),sn=Math.max(Math.ceil(Pt[3])-Nt,1),Jt=1,nn=1;Zt>_e&&(Jt=Zt/_e,Zt=_e),sn>_e&&(nn=sn/_e,sn=_e),this.current.startNewPathAndClipBox([0,0,Zt,sn]);let Yt="groupAt"+this.groupLevel;rt.smask&&(Yt+="_smask_"+this.smaskCounter++%2);const ct=this.cachedCanvases.getCanvas(Yt,Zt,sn),ht=ct.context;ht.scale(1/Jt,1/nn),ht.translate(-Dt,-Nt),ht.transform(...vt),rt.smask?this.smaskStack.push({canvas:ct.canvas,context:ht,offsetX:Dt,offsetY:Nt,scaleX:Jt,scaleY:nn,subtype:rt.smask.subtype,backdrop:rt.smask.backdrop,transferMap:rt.smask.transferMap||null,startTransformInverse:null}):(nt.setTransform(1,0,0,1,0,0),nt.translate(Dt,Nt),nt.scale(Jt,nn),nt.save()),et(nt,ht),this.ctx=ht,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(nt),this.groupLevel++}endGroup(rt){if(!this.contentVisible)return;this.groupLevel--;const nt=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,rt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const Rt=s.Util.getAxialAlignedBoundingBox([0,0,nt.canvas.width,nt.canvas.height],Pt);this.ctx.drawImage(nt.canvas,0,0),this.ctx.restore(),this.compose(Rt)}}beginAnnotation(rt,nt,vt,Pt,Rt){if(hn(this,Lt,Ko).call(this),mt(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(nt)&&nt.length===4){const Dt=nt[2]-nt[0],Nt=nt[3]-nt[1];if(Rt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=nt[0],vt[5]-=nt[1],nt=nt.slice(),nt[0]=nt[1]=0,nt[2]=Dt,nt[3]=Nt;const[Zt,sn]=s.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:Jt}=this,nn=Math.ceil(Dt*this.outputScaleX*Jt),Yt=Math.ceil(Nt*this.outputScaleY*Jt);this.annotationCanvas=this.canvasFactory.create(nn,Yt);const{canvas:ct,context:ht}=this.annotationCanvas;this.annotationCanvasMap.set(rt,ct),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ht,this.ctx.setTransform(Zt,0,0,-sn,0,Nt*sn),mt(this.ctx,this.foregroundColor)}else mt(this.ctx,this.foregroundColor),this.ctx.rect(nt[0],nt[1],Dt,Nt),this.ctx.clip(),this.endPath()}this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(rt){if(!this.contentVisible)return;const nt=rt.count;rt=this.getObject(rt.data,rt),rt.count=nt;const vt=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=b(rt)),Pt.compiled)){Pt.compiled(vt);return}const Rt=this._createMaskCanvas(rt),Dt=Rt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Dt,Rt.offsetX,Rt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat(rt,nt,vt=0,Pt=0,Rt,Dt){if(!this.contentVisible)return;rt=this.getObject(rt.data,rt);const Nt=this.ctx;Nt.save();const Zt=(0,c.getCurrentTransform)(Nt);Nt.transform(nt,vt,Pt,Rt,0,0);const sn=this._createMaskCanvas(rt);Nt.setTransform(1,0,0,1,sn.offsetX-Zt[4],sn.offsetY-Zt[5]);for(let Jt=0,nn=Dt.length;Jt<nn;Jt+=2){const Yt=s.Util.transform(Zt,[nt,vt,Pt,Rt,Dt[Jt],Dt[Jt+1]]),[ct,ht]=s.Util.applyTransform([0,0],Yt);Nt.drawImage(sn.canvas,ct,ht)}Nt.restore(),this.compose()}paintImageMaskXObjectGroup(rt){if(!this.contentVisible)return;const nt=this.ctx,vt=this.current.fillColor,Pt=this.current.patternFill;for(const Rt of rt){const{data:Dt,width:Nt,height:Zt,transform:sn}=Rt,Jt=this.cachedCanvases.getCanvas("maskCanvas",Nt,Zt),nn=Jt.context;nn.save();const Yt=this.getObject(Dt,Rt);g(nn,Yt),nn.globalCompositeOperation="source-in",nn.fillStyle=Pt?vt.getPattern(nn,this,(0,c.getCurrentTransformInverse)(nt),a.PathType.FILL):vt,nn.fillRect(0,0,Nt,Zt),nn.restore(),nt.save(),nt.transform(...sn),nt.scale(1,-1),dt(nt,Jt.canvas,0,0,Nt,Zt,0,-1,1,1),nt.restore()}this.compose()}paintImageXObject(rt){if(!this.contentVisible)return;const nt=this.getObject(rt);if(!nt){(0,s.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(nt)}paintImageXObjectRepeat(rt,nt,vt,Pt){if(!this.contentVisible)return;const Rt=this.getObject(rt);if(!Rt){(0,s.warn)("Dependent image isn't ready yet");return}const Dt=Rt.width,Nt=Rt.height,Zt=[];for(let sn=0,Jt=Pt.length;sn<Jt;sn+=2)Zt.push({transform:[nt,0,0,vt,Pt[sn],Pt[sn+1]],x:0,y:0,w:Dt,h:Nt});this.paintInlineImageXObjectGroup(Rt,Zt)}paintInlineImageXObject(rt){if(!this.contentVisible)return;const nt=rt.width,vt=rt.height,Pt=this.ctx;this.save(),Pt.scale(1/nt,-1/vt);let Rt;if(typeof HTMLElement=="function"&&rt instanceof HTMLElement||!rt.data)Rt=rt;else{const Nt=this.cachedCanvases.getCanvas("inlineImage",nt,vt),Zt=Nt.context;d(Zt,rt,this.current.transferMaps),Rt=Nt.canvas}const Dt=this._scaleImage(Rt,(0,c.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=kt((0,c.getCurrentTransform)(Pt),rt.interpolate),dt(Pt,Dt.img,0,0,Dt.paintWidth,Dt.paintHeight,0,-vt,nt,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup(rt,nt){if(!this.contentVisible)return;const vt=this.ctx,Pt=rt.width,Rt=rt.height,Dt=this.cachedCanvases.getCanvas("inlineImage",Pt,Rt),Nt=Dt.context;d(Nt,rt,this.current.transferMaps);for(const Zt of nt)vt.save(),vt.transform(...Zt.transform),vt.scale(1,-1),dt(vt,Dt.canvas,Zt.x,Zt.y,Zt.w,Zt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(rt){}markPointProps(rt,nt){}beginMarkedContent(rt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(rt,nt){rt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(nt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(rt){const nt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(rt);const vt=this.ctx;this.pendingClip&&(nt||(this.pendingClip===en?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const rt=(0,c.getCurrentTransform)(this.ctx);if(rt[1]===0&&rt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(rt[0]),Math.abs(rt[3]));else{const nt=Math.abs(rt[0]*rt[3]-rt[2]*rt[1]),vt=Math.hypot(rt[0],rt[2]),Pt=Math.hypot(rt[1],rt[3]);this._cachedGetSinglePixelWidth=Math.max(vt,Pt)/nt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:rt}=this.current,nt=(0,c.getCurrentTransform)(this.ctx);let vt,Pt;if(nt[1]===0&&nt[2]===0){const Rt=Math.abs(nt[0]),Dt=Math.abs(nt[3]);if(rt===0)vt=1/Rt,Pt=1/Dt;else{const Nt=Rt*rt,Zt=Dt*rt;vt=Nt<1?1/Nt:1,Pt=Zt<1?1/Zt:1}}else{const Rt=Math.abs(nt[0]*nt[3]-nt[2]*nt[1]),Dt=Math.hypot(nt[0],nt[1]),Nt=Math.hypot(nt[2],nt[3]);if(rt===0)vt=Nt/Rt,Pt=Dt/Rt;else{const Zt=rt*Rt;vt=Nt>Zt?Nt/Zt:1,Pt=Dt>Zt?Dt/Zt:1}}this._cachedScaleForStroking=[vt,Pt]}return this._cachedScaleForStroking}rescaleAndStroke(rt){const{ctx:nt}=this,{lineWidth:vt}=this.current,[Pt,Rt]=this.getScaleForStroking();if(nt.lineWidth=vt||1,Pt===1&&Rt===1){nt.stroke();return}let Dt,Nt,Zt;rt&&(Dt=(0,c.getCurrentTransform)(nt),Nt=nt.getLineDash().slice(),Zt=nt.lineDashOffset),nt.scale(Pt,Rt);const sn=Math.max(Pt,Rt);nt.setLineDash(nt.getLineDash().map(Jt=>Jt/sn)),nt.lineDashOffset/=sn,nt.stroke(),rt&&(nt.setTransform(...Dt),nt.setLineDash(Nt),nt.lineDashOffset=Zt)}isContentVisible(){for(let rt=this.markedContentStack.length-1;rt>=0;rt--)if(!this.markedContentStack[rt].visible)return!1;return!0}};Lt=new WeakSet,Ko=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let zt=Qt;i.CanvasGraphics=zt;for(const St in s.OPS)zt.prototype[St]!==void 0&&(zt.prototype[s.OPS[St]]=zt.prototype[St])},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=at;var s=o(1),c=o(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=a;function h(dt,b){if(!b)return;const _=b[2]-b[0],d=b[3]-b[1],g=new Path2D;g.rect(b[0],b[1],_,d),dt.clip(g)}class ut{constructor(){this.constructor===ut&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class ot extends ut{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let _;this._type==="axial"?_=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const d of this._colorStops)_.addColorStop(d[0],d[1]);return _}getPattern(b,_,d,g){let et;if(g===a.STROKE||g===a.FILL){const mt=_.current.getClippedPathBoundingBox(g,(0,c.getCurrentTransform)(b))||[0,0,0,0],Et=Math.ceil(mt[2]-mt[0])||1,$=Math.ceil(mt[3]-mt[1])||1,ft=_.cachedCanvases.getCanvas("pattern",Et,$,!0),At=ft.context;At.clearRect(0,0,At.canvas.width,At.canvas.height),At.beginPath(),At.rect(0,0,At.canvas.width,At.canvas.height),At.translate(-mt[0],-mt[1]),d=s.Util.transform(d,[1,0,0,1,mt[0],mt[1]]),At.transform(..._.baseTransform),this.matrix&&At.transform(...this.matrix),h(At,this._bbox),At.fillStyle=this._createGradient(At),At.fill(),et=b.createPattern(ft.canvas,"no-repeat");const gt=new DOMMatrix(d);et.setTransform(gt)}else h(b,this._bbox),et=this._createGradient(b);return et}}function _e(dt,b,_,d,g,et,mt,Et){const $=b.coords,ft=b.colors,At=dt.data,gt=dt.width*4;let kt;$[_+1]>$[d+1]&&(kt=_,_=d,d=kt,kt=et,et=mt,mt=kt),$[d+1]>$[g+1]&&(kt=d,d=g,g=kt,kt=mt,mt=Et,Et=kt),$[_+1]>$[d+1]&&(kt=_,_=d,d=kt,kt=et,et=mt,mt=kt);const Kt=($[_]+b.offsetX)*b.scaleX,$t=($[_+1]+b.offsetY)*b.scaleY,ln=($[d]+b.offsetX)*b.scaleX,en=($[d+1]+b.offsetY)*b.scaleY,zt=($[g]+b.offsetX)*b.scaleX,Lt=($[g+1]+b.offsetY)*b.scaleY;if($t>=Lt)return;const Xt=ft[et],Qt=ft[et+1],St=ft[et+2],rt=ft[mt],nt=ft[mt+1],vt=ft[mt+2],Pt=ft[Et],Rt=ft[Et+1],Dt=ft[Et+2],Nt=Math.round($t),Zt=Math.round(Lt);let sn,Jt,nn,Yt,ct,ht,wt,xt;for(let bt=Nt;bt<=Zt;bt++){if(bt<en){let tn;bt<$t?tn=0:tn=($t-bt)/($t-en),sn=Kt-(Kt-ln)*tn,Jt=Xt-(Xt-rt)*tn,nn=Qt-(Qt-nt)*tn,Yt=St-(St-vt)*tn}else{let tn;bt>Lt?tn=1:en===Lt?tn=0:tn=(en-bt)/(en-Lt),sn=ln-(ln-zt)*tn,Jt=rt-(rt-Pt)*tn,nn=nt-(nt-Rt)*tn,Yt=vt-(vt-Dt)*tn}let Bt;bt<$t?Bt=0:bt>Lt?Bt=1:Bt=($t-bt)/($t-Lt),ct=Kt-(Kt-zt)*Bt,ht=Xt-(Xt-Pt)*Bt,wt=Qt-(Qt-Rt)*Bt,xt=St-(St-Dt)*Bt;const rn=Math.round(Math.min(sn,ct)),dn=Math.round(Math.max(sn,ct));let gn=gt*bt+rn*4;for(let tn=rn;tn<=dn;tn++)Bt=(sn-tn)/(sn-ct),Bt<0?Bt=0:Bt>1&&(Bt=1),At[gn++]=Jt-(Jt-ht)*Bt|0,At[gn++]=nn-(nn-wt)*Bt|0,At[gn++]=Yt-(Yt-xt)*Bt|0,At[gn++]=255}}function it(dt,b,_){const d=b.coords,g=b.colors;let et,mt;switch(b.type){case"lattice":const Et=b.verticesPerRow,$=Math.floor(d.length/Et)-1,ft=Et-1;for(et=0;et<$;et++){let At=et*Et;for(let gt=0;gt<ft;gt++,At++)_e(dt,_,d[At],d[At+1],d[At+Et],g[At],g[At+1],g[At+Et]),_e(dt,_,d[At+Et+1],d[At+1],d[At+Et],g[At+Et+1],g[At+1],g[At+Et])}break;case"triangles":for(et=0,mt=d.length;et<mt;et+=3)_e(dt,_,d[et],d[et+1],d[et+2],g[et],g[et+1],g[et+2]);break;default:throw new Error("illegal figure")}}class _t extends ut{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,_,d){const Et=Math.floor(this._bounds[0]),$=Math.floor(this._bounds[1]),ft=Math.ceil(this._bounds[2])-Et,At=Math.ceil(this._bounds[3])-$,gt=Math.min(Math.ceil(Math.abs(ft*b[0]*1.1)),3e3),kt=Math.min(Math.ceil(Math.abs(At*b[1]*1.1)),3e3),Kt=ft/gt,$t=At/kt,ln={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-$,scaleX:1/Kt,scaleY:1/$t},en=gt+2*2,zt=kt+2*2,Lt=d.getCanvas("mesh",en,zt,!1),Xt=Lt.context,Qt=Xt.createImageData(gt,kt);if(_){const rt=Qt.data;for(let nt=0,vt=rt.length;nt<vt;nt+=4)rt[nt]=_[0],rt[nt+1]=_[1],rt[nt+2]=_[2],rt[nt+3]=255}for(const rt of this._figures)it(Qt,rt,ln);return Xt.putImageData(Qt,2,2),{canvas:Lt.canvas,offsetX:Et-2*Kt,offsetY:$-2*$t,scaleX:Kt,scaleY:$t}}getPattern(b,_,d,g){h(b,this._bbox);let et;if(g===a.SHADING)et=s.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(b));else if(et=s.Util.singularValueDecompose2dScale(_.baseTransform),this.matrix){const Et=s.Util.singularValueDecompose2dScale(this.matrix);et=[et[0]*Et[0],et[1]*Et[1]]}const mt=this._createMeshCanvas(et,g===a.SHADING?null:this._background,_.cachedCanvases);return g!==a.SHADING&&(b.setTransform(..._.baseTransform),this.matrix&&b.transform(...this.matrix)),b.translate(mt.offsetX,mt.offsetY),b.scale(mt.scaleX,mt.scaleY),b.createPattern(mt.canvas,"no-repeat")}}class lt extends ut{getPattern(){return"hotpink"}}function at(dt){switch(dt[0]){case"RadialAxial":return new ot(dt);case"Mesh":return new _t(dt);case"Dummy":return new lt}throw new Error(`Unknown IR type: ${dt[0]}`)}const tt={COLORED:1,UNCOLORED:2};class st{static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,_,d,g,et){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=_,this.ctx=d,this.canvasGraphicsFactory=g,this.baseTransform=et}createPatternCanvas(b){const _=this.operatorList,d=this.bbox,g=this.xstep,et=this.ystep,mt=this.paintType,Et=this.tilingType,$=this.color,ft=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+Et);const At=d[0],gt=d[1],kt=d[2],Kt=d[3],$t=s.Util.singularValueDecompose2dScale(this.matrix),ln=s.Util.singularValueDecompose2dScale(this.baseTransform),en=[$t[0]*ln[0],$t[1]*ln[1]],zt=this.getSizeAndScale(g,this.ctx.canvas.width,en[0]),Lt=this.getSizeAndScale(et,this.ctx.canvas.height,en[1]),Xt=b.cachedCanvases.getCanvas("pattern",zt.size,Lt.size,!0),Qt=Xt.context,St=ft.createCanvasGraphics(Qt);St.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(St,mt,$);let rt=At,nt=gt,vt=kt,Pt=Kt;return At<0&&(rt=0,vt+=Math.abs(At)),gt<0&&(nt=0,Pt+=Math.abs(gt)),Qt.translate(-(zt.scale*rt),-(Lt.scale*nt)),St.transform(zt.scale,0,0,Lt.scale,0,0),Qt.save(),this.clipBbox(St,rt,nt,vt,Pt),St.baseTransform=(0,c.getCurrentTransform)(St.ctx),St.executeOperatorList(_),St.endDrawing(),{canvas:Xt.canvas,scaleX:zt.scale,scaleY:Lt.scale,offsetX:rt,offsetY:nt}}getSizeAndScale(b,_,d){b=Math.abs(b);const g=Math.max(st.MAX_PATTERN_SIZE,_);let et=Math.ceil(b*d);return et>=g?et=g:d=et/b,{scale:d,size:et}}clipBbox(b,_,d,g,et){const mt=g-_,Et=et-d;b.ctx.rect(_,d,mt,Et),b.current.updateRectMinMax((0,c.getCurrentTransform)(b.ctx),[_,d,g,et]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,_,d){const g=b.ctx,et=b.current;switch(_){case tt.COLORED:const mt=this.ctx;g.fillStyle=mt.fillStyle,g.strokeStyle=mt.strokeStyle,et.fillColor=mt.fillStyle,et.strokeColor=mt.strokeStyle;break;case tt.UNCOLORED:const Et=s.Util.makeHexColor(d[0],d[1],d[2]);g.fillStyle=Et,g.strokeStyle=Et,et.fillColor=Et,et.strokeColor=Et;break;default:throw new s.FormatError(`Unsupported paint type: ${_}`)}}getPattern(b,_,d,g){let et=d;g!==a.SHADING&&(et=s.Util.transform(et,_.baseTransform),this.matrix&&(et=s.Util.transform(et,this.matrix)));const mt=this.createPatternCanvas(_);let Et=new DOMMatrix(et);Et=Et.translate(mt.offsetX,mt.offsetY),Et=Et.scale(1/mt.scaleX,1/mt.scaleY);const $=b.createPattern(mt.canvas,"repeat");return $.setTransform(Et),$}}i.TilingPattern=st},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=c;var s=o(1);function c({src:a,srcPos:h=0,dest:ut,destPos:ot=0,width:_e,height:it,inverseDecode:_t=!1}){const lt=s.FeatureTest.isLittleEndian?4278190080:255,[at,tt]=_t?[0,lt]:[lt,0],st=_e>>3,dt=_e&7,b=a.length;ut=new Uint32Array(ut.buffer);for(let _=0;_<it;_++){for(const g=h+st;h<g;h++){const et=h<b?a[h]:255;ut[ot++]=et&128?tt:at,ut[ot++]=et&64?tt:at,ut[ot++]=et&32?tt:at,ut[ot++]=et&16?tt:at,ut[ot++]=et&8?tt:at,ut[ot++]=et&4?tt:at,ut[ot++]=et&2?tt:at,ut[ot++]=et&1?tt:at}if(dt===0)continue;const d=h<b?a[h++]:255;for(let g=0;g<dt;g++)ut[ot++]=d&1<<7-g?tt:at}return{srcPos:h,destPos:ot}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const o=Object.create(null);i.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var s=o(1);const c={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(ot){switch(ot instanceof Error||typeof ot=="object"&&ot!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ot.name){case"AbortException":return new s.AbortException(ot.message);case"MissingPDFException":return new s.MissingPDFException(ot.message);case"PasswordException":return new s.PasswordException(ot.message,ot.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(ot.message,ot.status);case"UnknownErrorException":return new s.UnknownErrorException(ot.message,ot.details);default:return new s.UnknownErrorException(ot.message,ot.toString())}}class ut{constructor(_e,it,_t){this.sourceName=_e,this.targetName=it,this.comObj=_t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=lt=>{const at=lt.data;if(at.targetName!==this.sourceName)return;if(at.stream){this._processStreamMessage(at);return}if(at.callback){const st=at.callbackId,dt=this.callbackCapabilities[st];if(!dt)throw new Error(`Cannot resolve callback ${st}`);if(delete this.callbackCapabilities[st],at.callback===c.DATA)dt.resolve(at.data);else if(at.callback===c.ERROR)dt.reject(h(at.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[at.action];if(!tt)throw new Error(`Unknown action from worker: ${at.action}`);if(at.callbackId){const st=this.sourceName,dt=at.sourceName;new Promise(function(b){b(tt(at.data))}).then(function(b){_t.postMessage({sourceName:st,targetName:dt,callback:c.DATA,callbackId:at.callbackId,data:b})},function(b){_t.postMessage({sourceName:st,targetName:dt,callback:c.ERROR,callbackId:at.callbackId,reason:h(b)})});return}if(at.streamId){this._createStreamSink(at);return}tt(at.data)},_t.addEventListener("message",this._onComObjOnMessage)}on(_e,it){const _t=this.actionHandler;if(_t[_e])throw new Error(`There is already an actionName called "${_e}"`);_t[_e]=it}send(_e,it,_t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,data:it},_t)}sendWithPromise(_e,it,_t){const lt=this.callbackId++,at=(0,s.createPromiseCapability)();this.callbackCapabilities[lt]=at;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,callbackId:lt,data:it},_t)}catch(tt){at.reject(tt)}return at.promise}sendWithStream(_e,it,_t,lt){const at=this.streamId++,tt=this.sourceName,st=this.targetName,dt=this.comObj;return new ReadableStream({start:b=>{const _=(0,s.createPromiseCapability)();return this.streamControllers[at]={controller:b,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:tt,targetName:st,action:_e,streamId:at,data:it,desiredSize:b.desiredSize},lt),_.promise},pull:b=>{const _=(0,s.createPromiseCapability)();return this.streamControllers[at].pullCall=_,dt.postMessage({sourceName:tt,targetName:st,stream:a.PULL,streamId:at,desiredSize:b.desiredSize}),_.promise},cancel:b=>{(0,s.assert)(b instanceof Error,"cancel must have a valid reason");const _=(0,s.createPromiseCapability)();return this.streamControllers[at].cancelCall=_,this.streamControllers[at].isClosed=!0,dt.postMessage({sourceName:tt,targetName:st,stream:a.CANCEL,streamId:at,reason:h(b)}),_.promise}},_t)}_createStreamSink(_e){const it=_e.streamId,_t=this.sourceName,lt=_e.sourceName,at=this.comObj,tt=this,st=this.actionHandler[_e.action],dt={enqueue(b,_=1,d){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=_,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),at.postMessage({sourceName:_t,targetName:lt,stream:a.ENQUEUE,streamId:it,chunk:b},d)},close(){this.isCancelled||(this.isCancelled=!0,at.postMessage({sourceName:_t,targetName:lt,stream:a.CLOSE,streamId:it}),delete tt.streamSinks[it])},error(b){(0,s.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,at.postMessage({sourceName:_t,targetName:lt,stream:a.ERROR,streamId:it,reason:h(b)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_e.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[it]=dt,new Promise(function(b){b(st(_e.data,dt))}).then(function(){at.postMessage({sourceName:_t,targetName:lt,stream:a.START_COMPLETE,streamId:it,success:!0})},function(b){at.postMessage({sourceName:_t,targetName:lt,stream:a.START_COMPLETE,streamId:it,reason:h(b)})})}_processStreamMessage(_e){const it=_e.streamId,_t=this.sourceName,lt=_e.sourceName,at=this.comObj,tt=this.streamControllers[it],st=this.streamSinks[it];switch(_e.stream){case a.START_COMPLETE:_e.success?tt.startCall.resolve():tt.startCall.reject(h(_e.reason));break;case a.PULL_COMPLETE:_e.success?tt.pullCall.resolve():tt.pullCall.reject(h(_e.reason));break;case a.PULL:if(!st){at.postMessage({sourceName:_t,targetName:lt,stream:a.PULL_COMPLETE,streamId:it,success:!0});break}st.desiredSize<=0&&_e.desiredSize>0&&st.sinkCapability.resolve(),st.desiredSize=_e.desiredSize,new Promise(function(dt){dt(st.onPull&&st.onPull())}).then(function(){at.postMessage({sourceName:_t,targetName:lt,stream:a.PULL_COMPLETE,streamId:it,success:!0})},function(dt){at.postMessage({sourceName:_t,targetName:lt,stream:a.PULL_COMPLETE,streamId:it,reason:h(dt)})});break;case a.ENQUEUE:if((0,s.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(_e.chunk);break;case a.CLOSE:if((0,s.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),this._deleteStreamController(tt,it);break;case a.ERROR:(0,s.assert)(tt,"error should have stream controller"),tt.controller.error(h(_e.reason)),this._deleteStreamController(tt,it);break;case a.CANCEL_COMPLETE:_e.success?tt.cancelCall.resolve():tt.cancelCall.reject(h(_e.reason)),this._deleteStreamController(tt,it);break;case a.CANCEL:if(!st)break;new Promise(function(dt){dt(st.onCancel&&st.onCancel(h(_e.reason)))}).then(function(){at.postMessage({sourceName:_t,targetName:lt,stream:a.CANCEL_COMPLETE,streamId:it,success:!0})},function(dt){at.postMessage({sourceName:_t,targetName:lt,stream:a.CANCEL_COMPLETE,streamId:it,reason:h(dt)})}),st.sinkCapability.reject(h(_e.reason)),st.isCancelled=!0,delete this.streamSinks[it];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_e,it){await Promise.allSettled([_e.startCall&&_e.startCall.promise,_e.pullCall&&_e.pullCall.promise,_e.cancelCall&&_e.cancelCall.promise]),delete this.streamControllers[it]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=ut},(e,i,o)=>{var a,h;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var s=o(1);class c{constructor({parsedData:ot,rawData:_e}){on(this,a,void 0);on(this,h,void 0);kn(this,a,ot),kn(this,h,_e)}getRaw(){return yt(this,h)}get(ot){return yt(this,a).get(ot)??null}getAll(){return(0,s.objectFromMap)(yt(this,a))}has(ot){return yt(this,a).has(ot)}}a=new WeakMap,h=new WeakMap,i.Metadata=c},(e,i,o)=>{var ot,_e,it,_t,lt,at,Qo;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var s=o(1),c=o(8);const a=Symbol("INTERNAL");class h{constructor(dt,b){on(this,ot,!0);this.name=dt,this.intent=b}get visible(){return yt(this,ot)}_setVisible(dt,b){dt!==a&&(0,s.unreachable)("Internal method `_setVisible` called."),kn(this,ot,b)}}ot=new WeakMap;class ut{constructor(dt){on(this,at);on(this,_e,null);on(this,it,new Map);on(this,_t,null);on(this,lt,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,kn(this,lt,dt.order);for(const b of dt.groups)yt(this,it).set(b.id,new h(b.name,b.intent));if(dt.baseState==="OFF")for(const b of yt(this,it).values())b._setVisible(a,!1);for(const b of dt.on)yt(this,it).get(b)._setVisible(a,!0);for(const b of dt.off)yt(this,it).get(b)._setVisible(a,!1);kn(this,_t,this.getHash())}}isVisible(dt){if(yt(this,it).size===0)return!0;if(!dt)return(0,s.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return yt(this,it).has(dt.id)?yt(this,it).get(dt.id).visible:((0,s.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return hn(this,at,Qo).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const b of dt.ids){if(!yt(this,it).has(b))return(0,s.warn)(`Optional content group not found: ${b}`),!0;if(yt(this,it).get(b).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const b of dt.ids){if(!yt(this,it).has(b))return(0,s.warn)(`Optional content group not found: ${b}`),!0;if(!yt(this,it).get(b).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const b of dt.ids){if(!yt(this,it).has(b))return(0,s.warn)(`Optional content group not found: ${b}`),!0;if(!yt(this,it).get(b).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const b of dt.ids){if(!yt(this,it).has(b))return(0,s.warn)(`Optional content group not found: ${b}`),!0;if(yt(this,it).get(b).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,s.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,b=!0){if(!yt(this,it).has(dt)){(0,s.warn)(`Optional content group not found: ${dt}`);return}yt(this,it).get(dt)._setVisible(a,!!b),kn(this,_e,null)}get hasInitialVisibility(){return this.getHash()===yt(this,_t)}getOrder(){return yt(this,it).size?yt(this,lt)?yt(this,lt).slice():[...yt(this,it).keys()]:null}getGroups(){return yt(this,it).size>0?(0,s.objectFromMap)(yt(this,it)):null}getGroup(dt){return yt(this,it).get(dt)||null}getHash(){if(yt(this,_e)!==null)return yt(this,_e);const dt=new c.MurmurHash3_64;for(const[b,_]of yt(this,it))dt.update(`${b}:${_.visible}`);return kn(this,_e,dt.hexdigest())}}_e=new WeakMap,it=new WeakMap,_t=new WeakMap,lt=new WeakMap,at=new WeakSet,Qo=function(dt){const b=dt.length;if(b<2)return!0;const _=dt[0];for(let d=1;d<b;d++){const g=dt[d];let et;if(Array.isArray(g))et=hn(this,at,Qo).call(this,g);else if(yt(this,it).has(g))et=yt(this,it).get(g).visible;else return(0,s.warn)(`Optional content group not found: ${g}`),!0;switch(_){case"And":if(!et)return!1;break;case"Or":if(et)return!0;break;case"Not":return!et;default:return!0}}return _==="And"},i.OptionalContentConfig=ut},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var s=o(1),c=o(6);class a{constructor({length:_e,initialData:it,progressiveDone:_t=!1,contentDispositionFilename:lt=null,disableRange:at=!1,disableStream:tt=!1},st){if((0,s.assert)(st,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_t,this._contentDispositionFilename=lt,(it==null?void 0:it.length)>0){const dt=it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength?it.buffer:new Uint8Array(it).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=st,this._isStreamingSupported=!tt,this._isRangeSupported=!at,this._contentLength=_e,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,b)=>{this._onReceiveData({begin:dt,chunk:b})}),this._pdfDataRangeTransport.addProgressListener((dt,b)=>{this._onProgress({loaded:dt,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_e,chunk:it}){const _t=it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength?it.buffer:new Uint8Array(it).buffer;if(_e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_t):this._queuedChunks.push(_t);else{const lt=this._rangeReaders.some(function(at){return at._begin!==_e?!1:(at._enqueue(_t),!0)});(0,s.assert)(lt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}_onProgress(_e){var it,_t,lt,at;_e.total===void 0?(_t=(it=this._rangeReaders[0])==null?void 0:it.onProgress)==null||_t.call(it,{loaded:_e.loaded}):(at=(lt=this._fullRequestReader)==null?void 0:lt.onProgress)==null||at.call(lt,{loaded:_e.loaded,total:_e.total})}_onProgressiveDone(){var _e;(_e=this._fullRequestReader)==null||_e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_e){const it=this._rangeReaders.indexOf(_e);it>=0&&this._rangeReaders.splice(it,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _e=this._queuedChunks;return this._queuedChunks=null,new h(this,_e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_e,it){if(it<=this._progressiveDataLength)return null;const _t=new ut(this,_e,it);return this._pdfDataRangeTransport.requestDataRange(_e,it),this._rangeReaders.push(_t),_t}cancelAllRequests(_e){var it;(it=this._fullRequestReader)==null||it.cancel(_e);for(const _t of this._rangeReaders.slice(0))_t.cancel(_e);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=a;class h{constructor(_e,it,_t=!1,lt=null){this._stream=_e,this._done=_t||!1,this._filename=(0,c.isPdfFile)(lt)?lt:null,this._queuedChunks=it||[],this._loaded=0;for(const at of this._queuedChunks)this._loaded+=at.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_e._fullRequestReader=this,this.onProgress=null}_enqueue(_e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunks.push(_e),this._loaded+=_e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=(0,s.createPromiseCapability)();return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ut{constructor(_e,it,_t){this._stream=_e,this._begin=it,this._end=_t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_e){if(!this._done){if(this._requests.length===0)this._queuedChunk=_e;else{this._requests.shift().resolve({value:_e,done:!1});for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=(0,s.createPromiseCapability)();return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class o{static textContent(c){const a=[],h={items:a,styles:Object.create(null)};function ut(ot){var _t;if(!ot)return;let _e=null;const it=ot.name;if(it==="#text")_e=ot.value;else if(o.shouldBuildText(it))(_t=ot==null?void 0:ot.attributes)!=null&&_t.textContent?_e=ot.attributes.textContent:ot.value&&(_e=ot.value);else return;if(_e!==null&&a.push({str:_e}),!!ot.children)for(const lt of ot.children)ut(lt)}return ut(c),h}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=o},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var s=o(7);const c=function(ot){return new Promise((_e,it)=>{require$$5.readFile(ot,(lt,at)=>{if(lt||!at){it(new Error(lt));return}_e(new Uint8Array(at))})})};class a extends s.BaseCanvasFactory{_createCanvas(_e,it){return require$$5.createCanvas(_e,it)}}i.NodeCanvasFactory=a;class h extends s.BaseCMapReaderFactory{_fetchData(_e,it){return c(_e).then(_t=>({cMapData:_t,compressionType:it}))}}i.NodeCMapReaderFactory=h;class ut extends s.BaseStandardFontDataFactory{_fetchData(_e){return c(_e)}}i.NodeStandardFontDataFactory=ut},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var s=o(1),c=o(22);const a=require$$5,h=require$$5,ut=require$$5,ot=require$$5,_e=/^file:\/\/\/[a-zA-Z]:\//;function it(d){const g=ot.parse(d);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(d)?ot.parse(`file:///${d}`):(g.host||(g.protocol="file:"),g)}class _t{constructor(g){this.source=g,this.url=it(g.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new st(this),this._fullRequestReader}getRangeReader(g,et){if(et<=this._progressiveDataLength)return null;const mt=this.isFsUrl?new _(this,g,et):new dt(this,g,et);return this._rangeRequestReaders.push(mt),mt}cancelAllRequests(g){var et;(et=this._fullRequestReader)==null||et.cancel(g);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(g)}}i.PDFNodeStream=_t;class lt{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const et=g.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=(0,s.createPromiseCapability)(),this.read()):(this._loaded+=g.length,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",et=>{this._error(et)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class at{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)();const et=g.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=(0,s.createPromiseCapability)(),this.read()):(this._loaded+=g.length,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",et=>{this._error(et)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function tt(d,g){return{protocol:d.protocol,auth:d.auth,host:d.hostname,port:d.port,path:d.path,method:"GET",headers:g}}class st extends lt{constructor(g){super(g);const et=mt=>{if(mt.statusCode===404){const At=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At,this._headersCapability.reject(At);return}this._headersCapability.resolve(),this._setReadableStream(mt);const Et=At=>this._readableStream.headers[At.toLowerCase()],{allowRangeRequests:$,suggestedLength:ft}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:Et,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=$,this._contentLength=ft||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(Et)};this._request=null,this._url.protocol==="http:"?this._request=h.request(tt(this._url,g.httpHeaders),et):this._request=ut.request(tt(this._url,g.httpHeaders),et),this._request.on("error",mt=>{this._storedError=mt,this._headersCapability.reject(mt)}),this._request.end()}}class dt extends at{constructor(g,et,mt){super(g),this._httpHeaders={};for(const $ in g.httpHeaders){const ft=g.httpHeaders[$];ft!==void 0&&(this._httpHeaders[$]=ft)}this._httpHeaders.Range=`bytes=${et}-${mt-1}`;const Et=$=>{if($.statusCode===404){const ft=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ft;return}this._setReadableStream($)};this._request=null,this._url.protocol==="http:"?this._request=h.request(tt(this._url,this._httpHeaders),Et):this._request=ut.request(tt(this._url,this._httpHeaders),Et),this._request.on("error",$=>{this._storedError=$}),this._request.end()}}class b extends lt{constructor(g){super(g);let et=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(et=et.replace(/^\//,"")),a.lstat(et,(mt,Et)=>{if(mt){mt.code==="ENOENT"&&(mt=new s.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=mt,this._headersCapability.reject(mt);return}this._contentLength=Et.size,this._setReadableStream(a.createReadStream(et)),this._headersCapability.resolve()})}}class _ extends at{constructor(g,et,mt){super(g);let Et=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(Et=Et.replace(/^\//,"")),this._setReadableStream(a.createReadStream(Et,{start:et,end:mt-1}))}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=ot,i.extractFilenameFromHeader=ut,i.validateRangeRequestCapabilities=h,i.validateResponseStatus=_e;var s=o(1),c=o(23),a=o(6);function h({getResponseHeader:it,isHttp:_t,rangeChunkSize:lt,disableRange:at}){const tt={allowRangeRequests:!1,suggestedLength:void 0},st=parseInt(it("Content-Length"),10);return!Number.isInteger(st)||(tt.suggestedLength=st,st<=2*lt)||at||!_t||it("Accept-Ranges")!=="bytes"||(it("Content-Encoding")||"identity")!=="identity"||(tt.allowRangeRequests=!0),tt}function ut(it){const _t=it("Content-Disposition");if(_t){let lt=(0,c.getFilenameFromContentDispositionHeader)(_t);if(lt.includes("%"))try{lt=decodeURIComponent(lt)}catch{}if((0,a.isPdfFile)(lt))return lt}return null}function ot(it,_t){return it===404||it===0&&_t.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+_t+'".'):new s.UnexpectedResponseException(`Unexpected server response (${it}) while retrieving PDF "${_t}".`,it)}function _e(it){return it===200||it===206}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var s=o(1);function c(a){let h=!0,ut=ot("filename\\*","i").exec(a);if(ut){ut=ut[1];let st=lt(ut);return st=unescape(st),st=at(st),st=tt(st),it(st)}if(ut=_t(a),ut){const st=tt(ut);return it(st)}if(ut=ot("filename","i").exec(a),ut){ut=ut[1];let st=lt(ut);return st=tt(st),it(st)}function ot(st,dt){return new RegExp("(?:^|;)\\s*"+st+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function _e(st,dt){if(st){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const b=new TextDecoder(st,{fatal:!0}),_=(0,s.stringToBytes)(dt);dt=b.decode(_),h=!1}catch{}}return dt}function it(st){return h&&/[\x80-\xff]/.test(st)&&(st=_e("utf-8",st),h&&(st=_e("iso-8859-1",st))),st}function _t(st){const dt=[];let b;const _=ot("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=_.exec(st))!==null;){let[,g,et,mt]=b;if(g=parseInt(g,10),g in dt){if(g===0)break;continue}dt[g]=[et,mt]}const d=[];for(let g=0;g<dt.length&&g in dt;++g){let[et,mt]=dt[g];mt=lt(mt),et&&(mt=unescape(mt),g===0&&(mt=at(mt))),d.push(mt)}return d.join("")}function lt(st){if(st.startsWith('"')){const dt=st.slice(1).split('\\"');for(let b=0;b<dt.length;++b){const _=dt[b].indexOf('"');_!==-1&&(dt[b]=dt[b].slice(0,_),dt.length=b+1),dt[b]=dt[b].replace(/\\(.)/g,"$1")}st=dt.join('"')}return st}function at(st){const dt=st.indexOf("'");if(dt===-1)return st;const b=st.slice(0,dt),d=st.slice(dt+1).replace(/^[^']*'/,"");return _e(b,d)}function tt(st){return!st.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(st)?st:st.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,b,_,d){if(_==="q"||_==="Q")return d=d.replace(/_/g," "),d=d.replace(/=([0-9a-fA-F]{2})/g,function(g,et){return String.fromCharCode(parseInt(et,16))}),_e(b,d);try{d=atob(d)}catch{}return _e(b,d)})}return""}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var s=o(1),c=o(22);const a=200,h=206;function ut(lt){const at=lt.response;return typeof at!="string"?at:(0,s.stringToBytes)(at).buffer}class ot{constructor(at,tt={}){this.url=at,this.isHttp=/^https?:/i.test(at),this.httpHeaders=this.isHttp&&tt.httpHeaders||Object.create(null),this.withCredentials=tt.withCredentials||!1,this.getXhr=tt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(at,tt,st){const dt={begin:at,end:tt};for(const b in st)dt[b]=st[b];return this.request(dt)}requestFull(at){return this.request(at)}request(at){const tt=this.getXhr(),st=this.currXhrId++,dt=this.pendingRequests[st]={xhr:tt};tt.open("GET",this.url),tt.withCredentials=this.withCredentials;for(const b in this.httpHeaders){const _=this.httpHeaders[b];_!==void 0&&tt.setRequestHeader(b,_)}return this.isHttp&&"begin"in at&&"end"in at?(tt.setRequestHeader("Range",`bytes=${at.begin}-${at.end-1}`),dt.expectedStatus=h):dt.expectedStatus=a,tt.responseType="arraybuffer",at.onError&&(tt.onerror=function(b){at.onError(tt.status)}),tt.onreadystatechange=this.onStateChange.bind(this,st),tt.onprogress=this.onProgress.bind(this,st),dt.onHeadersReceived=at.onHeadersReceived,dt.onDone=at.onDone,dt.onError=at.onError,dt.onProgress=at.onProgress,tt.send(null),st}onProgress(at,tt){var dt;const st=this.pendingRequests[at];st&&((dt=st.onProgress)==null||dt.call(st,tt))}onStateChange(at,tt){var g,et,mt;const st=this.pendingRequests[at];if(!st)return;const dt=st.xhr;if(dt.readyState>=2&&st.onHeadersReceived&&(st.onHeadersReceived(),delete st.onHeadersReceived),dt.readyState!==4||!(at in this.pendingRequests))return;if(delete this.pendingRequests[at],dt.status===0&&this.isHttp){(g=st.onError)==null||g.call(st,dt.status);return}const b=dt.status||a;if(!(b===a&&st.expectedStatus===h)&&b!==st.expectedStatus){(et=st.onError)==null||et.call(st,dt.status);return}const d=ut(dt);if(b===h){const Et=dt.getResponseHeader("Content-Range"),$=/bytes (\d+)-(\d+)\/(\d+)/.exec(Et);st.onDone({begin:parseInt($[1],10),chunk:d})}else d?st.onDone({begin:0,chunk:d}):(mt=st.onError)==null||mt.call(st,dt.status)}getRequestXhr(at){return this.pendingRequests[at].xhr}isPendingRequest(at){return at in this.pendingRequests}abortRequest(at){const tt=this.pendingRequests[at].xhr;delete this.pendingRequests[at],tt.abort()}}class _e{constructor(at){this._source=at,this._manager=new ot(at.url,{httpHeaders:at.httpHeaders,withCredentials:at.withCredentials}),this._rangeChunkSize=at.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(at){const tt=this._rangeRequestReaders.indexOf(at);tt>=0&&this._rangeRequestReaders.splice(tt,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new it(this._manager,this._source),this._fullRequestReader}getRangeReader(at,tt){const st=new _t(this._manager,at,tt);return st.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(st),st}cancelAllRequests(at){var tt;(tt=this._fullRequestReader)==null||tt.cancel(at);for(const st of this._rangeRequestReaders.slice(0))st.cancel(at)}}i.PDFNetworkStream=_e;class it{constructor(at,tt){this._manager=at;const st={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._fullRequestId=at.requestFull(st),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=tt.disableRange||!1,this._contentLength=tt.length,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const at=this._fullRequestId,tt=this._manager.getRequestXhr(at),st=_=>tt.getResponseHeader(_),{allowRangeRequests:dt,suggestedLength:b}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=b||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(st),this._isRangeSupported&&this._manager.abortRequest(at),this._headersReceivedCapability.resolve()}_onDone(at){if(at&&(this._requests.length>0?this._requests.shift().resolve({value:at.chunk,done:!1}):this._cachedChunks.push(at.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(at){this._storedError=(0,c.createResponseStatusError)(at,this._url),this._headersReceivedCapability.reject(this._storedError);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(at){var tt;(tt=this.onProgress)==null||tt.call(this,{loaded:at.loaded,total:at.lengthComputable?at.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const at=(0,s.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0,this._headersReceivedCapability.reject(at);for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _t{constructor(at,tt,st){this._manager=at;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=at.url,this._requestId=at.requestRange(tt,st,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var at;(at=this.onClosed)==null||at.call(this,this)}_onDone(at){const tt=at.chunk;this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunk=tt,this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(at){this._storedError=(0,c.createResponseStatusError)(at,this._url);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(at){var tt;this.isStreamingSupported||(tt=this.onProgress)==null||tt.call(this,{loaded:at.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const tt=this._queuedChunk;return this._queuedChunk=null,{value:tt,done:!1}}if(this._done)return{value:void 0,done:!0};const at=(0,s.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var s=o(1),c=o(22);function a(_t,lt,at){return{method:"GET",headers:_t,signal:at.signal,mode:"cors",credentials:lt?"include":"same-origin",redirect:"follow"}}function h(_t){const lt=new Headers;for(const at in _t){const tt=_t[at];tt!==void 0&&lt.append(at,tt)}return lt}function ut(_t){return _t instanceof Uint8Array?_t.buffer:_t instanceof ArrayBuffer?_t:((0,s.warn)(`getArrayBuffer - unexpected data format: ${_t}`),new Uint8Array(_t).buffer)}class ot{constructor(lt){this.source=lt,this.isHttp=/^https?:/i.test(lt.url),this.httpHeaders=this.isHttp&&lt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this),this._fullRequestReader}getRangeReader(lt,at){if(at<=this._progressiveDataLength)return null;const tt=new it(this,lt,at);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(lt){var at;(at=this._fullRequestReader)==null||at.cancel(lt);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(lt)}}i.PDFFetchStream=ot;class _e{constructor(lt){this._stream=lt,this._reader=null,this._loaded=0,this._filename=null;const at=lt.source;this._withCredentials=at.withCredentials||!1,this._contentLength=at.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=at.disableRange||!1,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!at.disableStream,this._isRangeSupported=!at.disableRange,this._headers=h(this._stream.httpHeaders);const tt=at.url;fetch(tt,a(this._headers,this._withCredentials,this._abortController)).then(st=>{if(!(0,c.validateResponseStatus)(st.status))throw(0,c.createResponseStatusError)(st.status,tt);this._reader=st.body.getReader(),this._headersCapability.resolve();const dt=d=>st.headers.get(d),{allowRangeRequests:b,suggestedLength:_}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=_||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;await this._headersCapability.promise;const{value:lt,done:at}=await this._reader.read();return at?{value:lt,done:at}:(this._loaded+=lt.byteLength,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ut(lt),done:!1})}cancel(lt){var at;(at=this._reader)==null||at.cancel(lt),this._abortController.abort()}}class it{constructor(lt,at,tt){this._stream=lt,this._reader=null,this._loaded=0;const st=lt.source;this._withCredentials=st.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!st.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${at}-${tt-1}`);const dt=st.url;fetch(dt,a(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,c.validateResponseStatus)(b.status))throw(0,c.createResponseStatusError)(b.status,dt);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;await this._readCapability.promise;const{value:lt,done:at}=await this._reader.read();return at?{value:lt,done:at}:(this._loaded+=lt.byteLength,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:ut(lt),done:!1})}cancel(lt){var at;(at=this._reader)==null||at.cancel(lt),this._abortController.abort()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=st,i.updateTextLayer=dt;var s=o(1),c=o(6);const a=1e5,h=30,ut=.8,ot=new Map;function _e(b,_){let d;if(_&&s.FeatureTest.isOffscreenCanvasSupported)d=new OffscreenCanvas(b,b).getContext("2d",{alpha:!1});else{const g=document.createElement("canvas");g.width=g.height=b,d=g.getContext("2d",{alpha:!1})}return d}function it(b,_){const d=ot.get(b);if(d)return d;const g=_e(h,_);g.font=`${h}px ${b}`;const et=g.measureText("");let mt=et.fontBoundingBoxAscent,Et=Math.abs(et.fontBoundingBoxDescent);if(mt){const ft=mt/(mt+Et);return ot.set(b,ft),g.canvas.width=g.canvas.height=0,ft}g.strokeStyle="red",g.clearRect(0,0,h,h),g.strokeText("g",0,0);let $=g.getImageData(0,0,h,h).data;Et=0;for(let ft=$.length-1-3;ft>=0;ft-=4)if($[ft]>0){Et=Math.ceil(ft/4/h);break}g.clearRect(0,0,h,h),g.strokeText("A",0,h),$=g.getImageData(0,0,h,h).data,mt=0;for(let ft=0,At=$.length;ft<At;ft+=4)if($[ft]>0){mt=h-Math.floor(ft/4/h);break}if(g.canvas.width=g.canvas.height=0,mt){const ft=mt/(mt+Et);return ot.set(b,ft),ft}return ot.set(b,ut),ut}function _t(b,_,d){const g=document.createElement("span"),et={angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};b._textDivs.push(g);const mt=s.Util.transform(b._transform,_.transform);let Et=Math.atan2(mt[1],mt[0]);const $=d[_.fontName];$.vertical&&(Et+=Math.PI/2);const ft=Math.hypot(mt[2],mt[3]),At=ft*it($.fontFamily,b._isOffscreenCanvasSupported);let gt,kt;Et===0?(gt=mt[4],kt=mt[5]-At):(gt=mt[4]+At*Math.sin(Et),kt=mt[5]-At*Math.cos(Et));const Kt="calc(var(--scale-factor)*",$t=g.style;b._container===b._rootContainer?($t.left=`${(100*gt/b._pageWidth).toFixed(2)}%`,$t.top=`${(100*kt/b._pageHeight).toFixed(2)}%`):($t.left=`${Kt}${gt.toFixed(2)}px)`,$t.top=`${Kt}${kt.toFixed(2)}px)`),$t.fontSize=`${Kt}${ft.toFixed(2)}px)`,$t.fontFamily=$.fontFamily,et.fontSize=ft,g.setAttribute("role","presentation"),g.textContent=_.str,g.dir=_.dir,b._fontInspectorEnabled&&(g.dataset.fontName=_.fontName),Et!==0&&(et.angle=Et*(180/Math.PI));let ln=!1;if(_.str.length>1)ln=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const en=Math.abs(_.transform[0]),zt=Math.abs(_.transform[3]);en!==zt&&Math.max(en,zt)/Math.min(en,zt)>1.5&&(ln=!0)}ln&&(et.canvasWidth=$.vertical?_.height:_.width),b._textDivProperties.set(g,et),b._isReadableStream&&b._layoutText(g)}function lt(b){const{div:_,scale:d,properties:g,ctx:et,prevFontSize:mt,prevFontFamily:Et}=b,{style:$}=_;let ft="";if(g.canvasWidth!==0&&g.hasText){const{fontFamily:At}=$,{canvasWidth:gt,fontSize:kt}=g;(mt!==kt||Et!==At)&&(et.font=`${kt*d}px ${At}`,b.prevFontSize=kt,b.prevFontFamily=At);const{width:Kt}=et.measureText(_.textContent);Kt>0&&(ft=`scaleX(${gt*d/Kt})`)}g.angle!==0&&(ft=`rotate(${g.angle}deg) ${ft}`),ft.length>0&&($.transform=ft)}function at(b){if(b._canceled)return;const _=b._textDivs,d=b._capability;if(_.length>a){d.resolve();return}if(!b._isReadableStream)for(const et of _)b._layoutText(et);d.resolve()}class tt{constructor({textContentSource:_,container:d,viewport:g,textDivs:et,textDivProperties:mt,textContentItemsStr:Et,isOffscreenCanvasSupported:$}){var Kt;this._textContentSource=_,this._isReadableStream=_ instanceof ReadableStream,this._container=this._rootContainer=d,this._textDivs=et||[],this._textContentItemsStr=Et||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!((Kt=globalThis.FontInspector)!=null&&Kt.enabled),this._reader=null,this._textDivProperties=mt||new WeakMap,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:g.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_e(0,$)};const{pageWidth:ft,pageHeight:At,pageX:gt,pageY:kt}=g.rawDims;this._transform=[1,0,0,-1,-gt,kt+At],this._pageWidth=ft,this._pageHeight=At,(0,c.setLayerDimensions)(d,g),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new s.AbortException("TextLayer task cancelled."))}_processItems(_,d){for(const g of _){if(g.str===void 0){if(g.type==="beginMarkedContentProps"||g.type==="beginMarkedContent"){const et=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),g.id!==null&&this._container.setAttribute("id",`${g.id}`),et.append(this._container)}else g.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(g.str),_t(this,g,d)}}_layoutText(_){const d=this._layoutTextParams.properties=this._textDivProperties.get(_);if(this._layoutTextParams.div=_,lt(this._layoutTextParams),d.hasText&&this._container.append(_),d.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this._container.append(g)}}_render(){const _=(0,s.createPromiseCapability)();let d=Object.create(null);if(this._isReadableStream){const g=()=>{this._reader.read().then(({value:et,done:mt})=>{if(mt){_.resolve();return}Object.assign(d,et.styles),this._processItems(et.items,d),g()},_.reject)};this._reader=this._textContentSource.getReader(),g()}else if(this._textContentSource){const{items:g,styles:et}=this._textContentSource;this._processItems(g,et),_.resolve()}else throw new Error('No "textContentSource" parameter specified.');_.promise.then(()=>{d=null,at(this)},this._capability.reject)}}i.TextLayerRenderTask=tt;function st(b){!b.textContentSource&&(b.textContent||b.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),b.textContentSource=b.textContent||b.textContentStream);const _=new tt(b);return _._render(),_}function dt({container:b,viewport:_,textDivs:d,textDivProperties:g,isOffscreenCanvasSupported:et,mustRotate:mt=!0,mustRescale:Et=!0}){if(mt&&(0,c.setLayerDimensions)(b,{rotation:_.rotation}),Et){const $=_e(0,et),At={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const gt of d)At.properties=g.get(gt),At.div=gt,lt(At)}}},(e,i,o)=>{var _e,it,_t,lt,at,tt,st,dt,b,Zo,d,Ds,et,Jo,Et,es;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var s=o(1),c=o(5),a=o(28),h=o(29),ut=o(6);const ft=class ft{constructor(gt){on(this,b);on(this,d);on(this,et);on(this,Et);on(this,_e,void 0);on(this,it,!1);on(this,_t,this.pointerup.bind(this));on(this,lt,this.pointerdown.bind(this));on(this,at,new Map);on(this,tt,!1);on(this,st,!1);on(this,dt,void 0);ft._initialized||(ft._initialized=!0,a.FreeTextEditor.initialize(gt.l10n),h.InkEditor.initialize(gt.l10n)),gt.uiManager.registerEditorTypes([a.FreeTextEditor,h.InkEditor]),kn(this,dt,gt.uiManager),this.pageIndex=gt.pageIndex,this.div=gt.div,kn(this,_e,gt.accessibilityManager),yt(this,dt).addLayer(this)}get isEmpty(){return yt(this,at).size===0}updateToolbar(gt){yt(this,dt).updateToolbar(gt)}updateMode(gt=yt(this,dt).getMode()){hn(this,Et,es).call(this),gt===s.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),yt(this,dt).unselectAll(),gt!==s.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",gt===s.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",gt===s.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(gt){if(!gt&&yt(this,dt).getMode()!==s.AnnotationEditorType.INK)return;if(!gt){for(const Kt of yt(this,at).values())if(Kt.isEmpty()){Kt.setInBackground();return}}hn(this,et,Jo).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(gt){yt(this,dt).setEditingState(gt)}addCommands(gt){yt(this,dt).addCommands(gt)}enable(){this.div.style.pointerEvents="auto";for(const gt of yt(this,at).values())gt.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const gt of yt(this,at).values())gt.disableEditing();hn(this,Et,es).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(gt){yt(this,dt).getActive()!==gt&&yt(this,dt).setActiveEditor(gt)}enableClick(){this.div.addEventListener("pointerdown",yt(this,lt)),this.div.addEventListener("pointerup",yt(this,_t))}disableClick(){this.div.removeEventListener("pointerdown",yt(this,lt)),this.div.removeEventListener("pointerup",yt(this,_t))}attach(gt){yt(this,at).set(gt.id,gt)}detach(gt){var kt;yt(this,at).delete(gt.id),(kt=yt(this,_e))==null||kt.removePointerInTextLayer(gt.contentDiv)}remove(gt){yt(this,dt).removeEditor(gt),this.detach(gt),gt.div.style.display="none",setTimeout(()=>{gt.div.style.display="",gt.div.remove(),gt.isAttachedToDOM=!1,document.activeElement===document.body&&yt(this,dt).focusMainContainer()},0),yt(this,st)||this.addInkEditorIfNeeded(!1)}add(gt){if(hn(this,b,Zo).call(this,gt),yt(this,dt).addEditor(gt),this.attach(gt),!gt.isAttachedToDOM){const kt=gt.render();this.div.append(kt),gt.isAttachedToDOM=!0}this.moveEditorInDOM(gt),gt.onceAdded(),yt(this,dt).addToAnnotationStorage(gt)}moveEditorInDOM(gt){var kt;(kt=yt(this,_e))==null||kt.moveElementInDOM(this.div,gt.div,gt.contentDiv,!0)}addOrRebuild(gt){gt.needsToBeRebuilt()?gt.rebuild():this.add(gt)}addANewEditor(gt){const kt=()=>{this.addOrRebuild(gt)},Kt=()=>{gt.remove()};this.addCommands({cmd:kt,undo:Kt,mustExec:!0})}addUndoableEditor(gt){const kt=()=>{this.addOrRebuild(gt)},Kt=()=>{gt.remove()};this.addCommands({cmd:kt,undo:Kt,mustExec:!1})}getNextId(){return yt(this,dt).getId()}deserialize(gt){switch(gt.annotationType){case s.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(gt,this,yt(this,dt));case s.AnnotationEditorType.INK:return h.InkEditor.deserialize(gt,this,yt(this,dt))}return null}setSelected(gt){yt(this,dt).setSelected(gt)}toggleSelected(gt){yt(this,dt).toggleSelected(gt)}isSelected(gt){return yt(this,dt).isSelected(gt)}unselect(gt){yt(this,dt).unselect(gt)}pointerup(gt){const{isMac:kt}=s.FeatureTest.platform;if(!(gt.button!==0||gt.ctrlKey&&kt)&&gt.target===this.div&&yt(this,tt)){if(kn(this,tt,!1),!yt(this,it)){kn(this,it,!0);return}hn(this,et,Jo).call(this,gt)}}pointerdown(gt){const{isMac:kt}=s.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&kt||gt.target!==this.div)return;kn(this,tt,!0);const Kt=yt(this,dt).getActive();kn(this,it,!Kt||Kt.isEmpty())}drop(gt){const kt=gt.dataTransfer.getData("text/plain"),Kt=yt(this,dt).getEditor(kt);if(!Kt)return;gt.preventDefault(),gt.dataTransfer.dropEffect="move",hn(this,b,Zo).call(this,Kt);const $t=this.div.getBoundingClientRect(),ln=gt.clientX-$t.x,en=gt.clientY-$t.y;Kt.translate(ln-Kt.startX,en-Kt.startY),this.moveEditorInDOM(Kt),Kt.div.focus()}dragover(gt){gt.preventDefault()}destroy(){var gt,kt;((gt=yt(this,dt).getActive())==null?void 0:gt.parent)===this&&yt(this,dt).setActiveEditor(null);for(const Kt of yt(this,at).values())(kt=yt(this,_e))==null||kt.removePointerInTextLayer(Kt.contentDiv),Kt.setParent(null),Kt.isAttachedToDOM=!1,Kt.div.remove();this.div=null,yt(this,at).clear(),yt(this,dt).removeLayer(this)}render({viewport:gt}){this.viewport=gt,(0,ut.setLayerDimensions)(this.div,gt),(0,c.bindEvents)(this,this.div,["dragover","drop"]);for(const kt of yt(this,dt).getEditors(this.pageIndex))this.add(kt);this.updateMode()}update({viewport:gt}){yt(this,dt).commitOrRemove(),this.viewport=gt,(0,ut.setLayerDimensions)(this.div,{rotation:gt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:gt,pageHeight:kt}=this.viewport.rawDims;return[gt,kt]}};_e=new WeakMap,it=new WeakMap,_t=new WeakMap,lt=new WeakMap,at=new WeakMap,tt=new WeakMap,st=new WeakMap,dt=new WeakMap,b=new WeakSet,Zo=function(gt){var kt;gt.parent!==this&&(this.attach(gt),(kt=gt.parent)==null||kt.detach(gt),gt.setParent(this),gt.div&&gt.isAttachedToDOM&&(gt.div.remove(),this.div.append(gt.div)))},d=new WeakSet,Ds=function(gt){switch(yt(this,dt).getMode()){case s.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(gt);case s.AnnotationEditorType.INK:return new h.InkEditor(gt)}return null},et=new WeakSet,Jo=function(gt){const kt=this.getNextId(),Kt=hn(this,d,Ds).call(this,{parent:this,id:kt,x:gt.offsetX,y:gt.offsetY,uiManager:yt(this,dt)});return Kt&&this.add(Kt),Kt},Et=new WeakSet,es=function(){kn(this,st,!0);for(const gt of yt(this,at).values())gt.isEmpty()&&gt.remove();kn(this,st,!1)},br(ft,"_initialized",!1);let ot=ft;i.AnnotationEditorLayer=ot},(e,i,o)=>{var ut,ot,_e,it,_t,lt,at,tt,st,dt,Is,_,Ns,g,js,mt,ts;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var s=o(1),c=o(5),a=o(4);const $=class $ extends a.AnnotationEditor{constructor(gt){super({...gt,name:"freeTextEditor"});on(this,dt);on(this,_);on(this,g);on(this,mt);on(this,ut,this.editorDivBlur.bind(this));on(this,ot,this.editorDivFocus.bind(this));on(this,_e,this.editorDivInput.bind(this));on(this,it,this.editorDivKeydown.bind(this));on(this,_t,void 0);on(this,lt,"");on(this,at,`${this.id}-editor`);on(this,tt,!1);on(this,st,void 0);kn(this,_t,gt.color||$._defaultColor||a.AnnotationEditor._defaultLineColor),kn(this,st,gt.fontSize||$._defaultFontSize)}static initialize(gt){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Kt=>[Kt,gt.get(Kt)]));const kt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(kt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gt,kt){switch(gt){case s.AnnotationEditorParamsType.FREETEXT_SIZE:$._defaultFontSize=kt;break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:$._defaultColor=kt;break}}updateParams(gt,kt){switch(gt){case s.AnnotationEditorParamsType.FREETEXT_SIZE:hn(this,dt,Is).call(this,kt);break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:hn(this,_,Ns).call(this,kt);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,$._defaultFontSize],[s.AnnotationEditorParamsType.FREETEXT_COLOR,$._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,yt(this,st)],[s.AnnotationEditorParamsType.FREETEXT_COLOR,yt(this,_t)]]}getInitialTranslation(){const gt=this.parentScale;return[-$._internalPadding*gt,-($._internalPadding+yt(this,st))*gt]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(s.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",yt(this,it)),this.editorDiv.addEventListener("focus",yt(this,ot)),this.editorDiv.addEventListener("blur",yt(this,ut)),this.editorDiv.addEventListener("input",yt(this,_e)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",yt(this,at)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",yt(this,it)),this.editorDiv.removeEventListener("focus",yt(this,ot)),this.editorDiv.removeEventListener("blur",yt(this,ut)),this.editorDiv.removeEventListener("input",yt(this,_e)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gt){super.focusin(gt),gt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),yt(this,tt)||(kn(this,tt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),kn(this,lt,hn(this,g,js).call(this).trimEnd()),hn(this,mt,ts).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(gt){this.enableEditMode(),this.editorDiv.focus()}keydown(gt){gt.target===this.div&&gt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(gt){$._keyboardManager.exec(this,gt)}editorDivFocus(gt){this.isEditing=!0}editorDivBlur(gt){this.isEditing=!1}editorDivInput(gt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gt,kt;this.width&&(gt=this.x,kt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",yt(this,at)),this.enableEditing(),$._l10nPromise.get("editor_free_text2_aria_label").then($t=>{var ln;return(ln=this.editorDiv)==null?void 0:ln.setAttribute("aria-label",$t)}),$._l10nPromise.get("free_text2_default_content").then($t=>{var ln;return(ln=this.editorDiv)==null?void 0:ln.setAttribute("default-content",$t)}),this.editorDiv.contentEditable=!0;const{style:Kt}=this.editorDiv;if(Kt.fontSize=`calc(${yt(this,st)}px * var(--scale-factor))`,Kt.color=yt(this,_t),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[$t,ln]=this.parentDimensions;this.setAt(gt*$t,kt*ln,this.width*$t,this.height*ln);for(const en of yt(this,lt).split(`
`)){const zt=document.createElement("div");zt.append(en?document.createTextNode(en):document.createElement("br")),this.editorDiv.append(zt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gt,kt,Kt){const $t=super.deserialize(gt,kt,Kt);return kn($t,st,gt.fontSize),kn($t,_t,s.Util.makeHexColor(...gt.color)),kn($t,lt,gt.value),$t}serialize(){if(this.isEmpty())return null;const gt=$._internalPadding*this.parentScale,kt=this.getRect(gt,gt),Kt=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:yt(this,_t));return{annotationType:s.AnnotationEditorType.FREETEXT,color:Kt,fontSize:yt(this,st),value:yt(this,lt),pageIndex:this.pageIndex,rect:kt,rotation:this.rotation}}};ut=new WeakMap,ot=new WeakMap,_e=new WeakMap,it=new WeakMap,_t=new WeakMap,lt=new WeakMap,at=new WeakMap,tt=new WeakMap,st=new WeakMap,dt=new WeakSet,Is=function(gt){const kt=$t=>{this.editorDiv.style.fontSize=`calc(${$t}px * var(--scale-factor))`,this.translate(0,-($t-yt(this,st))*this.parentScale),kn(this,st,$t),hn(this,mt,ts).call(this)},Kt=yt(this,st);this.addCommands({cmd:()=>{kt(gt)},undo:()=>{kt(Kt)},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_=new WeakSet,Ns=function(gt){const kt=yt(this,_t);this.addCommands({cmd:()=>{kn(this,_t,this.editorDiv.style.color=gt)},undo:()=>{kn(this,_t,this.editorDiv.style.color=kt)},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},g=new WeakSet,js=function(){const gt=this.editorDiv.getElementsByTagName("div");if(gt.length===0)return this.editorDiv.innerText;const kt=[];for(const Kt of gt)kt.push(Kt.innerText.replace(/\r\n?|\n/,""));return kt.join(`
`)},mt=new WeakSet,ts=function(){const[gt,kt]=this.parentDimensions;let Kt;if(this.isAttachedToDOM)Kt=this.div.getBoundingClientRect();else{const{currentLayer:$t,div:ln}=this,en=ln.style.display;ln.style.display="hidden",$t.div.append(this.div),Kt=ln.getBoundingClientRect(),ln.remove(),ln.style.display=en}this.width=Kt.width/gt,this.height=Kt.height/kt},br($,"_freeTextDefaultContent",""),br($,"_l10nPromise"),br($,"_internalPadding",0),br($,"_defaultColor",null),br($,"_defaultFontSize",10),br($,"_keyboardManager",new c.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$.prototype.commitOrRemove]])),br($,"_type","freetext");let h=$;i.FreeTextEditor=h},(e,i,o)=>{var it,_t,lt,at,tt,st,dt,b,_,d,g,et,mt,Et,$,Us,At,zs,kt,Bs,$t,Vs,en,ns,Lt,Hs,Qt,Ws,rt,$s,vt,qr,Rt,rs,Nt,Po,sn,To,nn,ho,ct,is,wt,xo,bt,os,rn,Gs,gn,qs,_n,Xs,An,ss,Bn,Ro,zn,fo,Ft,as;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var s=o(1),c=o(4),a=o(30),h=o(5);const ut=16,ot=100,fn=class fn extends c.AnnotationEditor{constructor(qt){super({...qt,name:"inkEditor"});on(this,$);on(this,At);on(this,kt);on(this,$t);on(this,en);on(this,Lt);on(this,Qt);on(this,rt);on(this,vt);on(this,Rt);on(this,Nt);on(this,sn);on(this,nn);on(this,ct);on(this,wt);on(this,rn);on(this,gn);on(this,_n);on(this,An);on(this,Bn);on(this,zn);on(this,Ft);on(this,it,0);on(this,_t,0);on(this,lt,0);on(this,at,this.canvasPointermove.bind(this));on(this,tt,this.canvasPointerleave.bind(this));on(this,st,this.canvasPointerup.bind(this));on(this,dt,this.canvasPointerdown.bind(this));on(this,b,!1);on(this,_,!1);on(this,d,null);on(this,g,null);on(this,et,0);on(this,mt,0);on(this,Et,null);this.color=qt.color||null,this.thickness=qt.thickness||null,this.opacity=qt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(qt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(pn=>[pn,qt.get(pn)]))}static updateDefaultParams(qt,pn){switch(qt){case s.AnnotationEditorParamsType.INK_THICKNESS:fn._defaultThickness=pn;break;case s.AnnotationEditorParamsType.INK_COLOR:fn._defaultColor=pn;break;case s.AnnotationEditorParamsType.INK_OPACITY:fn._defaultOpacity=pn/100;break}}updateParams(qt,pn){switch(qt){case s.AnnotationEditorParamsType.INK_THICKNESS:hn(this,$,Us).call(this,pn);break;case s.AnnotationEditorParamsType.INK_COLOR:hn(this,At,zs).call(this,pn);break;case s.AnnotationEditorParamsType.INK_OPACITY:hn(this,kt,Bs).call(this,pn);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.INK_THICKNESS,fn._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,fn._defaultColor||c.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[s.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||fn._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,this.color||fn._defaultColor||c.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??fn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(hn(this,Nt,Po).call(this),hn(this,sn,To).call(this)),this.isAttachedToDOM||(this.parent.add(this),hn(this,nn,ho).call(this)),hn(this,zn,fo).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,yt(this,g).disconnect(),kn(this,g,null),super.remove())}setParent(qt){!this.parent&&qt?this._uiManager.removeShouldRescale(this):this.parent&&qt===null&&this._uiManager.addShouldRescale(this),super.setParent(qt)}onScaleChanging(){const[qt,pn]=this.parentDimensions,En=this.width*qt,bn=this.height*pn;this.setDimensions(En,bn)}enableEditMode(){yt(this,b)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",yt(this,dt)),this.canvas.addEventListener("pointerup",yt(this,st)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",yt(this,dt)),this.canvas.removeEventListener("pointerup",yt(this,st)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){yt(this,b)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),kn(this,b,!0),this.div.classList.add("disabled"),hn(this,zn,fo).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(qt){super.focusin(qt),this.enableEditMode()}canvasPointerdown(qt){qt.button!==0||!this.isInEditMode()||yt(this,b)||(this.setInForeground(),qt.type!=="mouse"&&this.div.focus(),qt.stopPropagation(),this.canvas.addEventListener("pointerleave",yt(this,tt)),this.canvas.addEventListener("pointermove",yt(this,at)),hn(this,Lt,Hs).call(this,qt.offsetX,qt.offsetY))}canvasPointermove(qt){qt.stopPropagation(),hn(this,Qt,Ws).call(this,qt.offsetX,qt.offsetY)}canvasPointerup(qt){qt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(qt.stopPropagation(),hn(this,Rt,rs).call(this,qt),this.setInBackground())}canvasPointerleave(qt){hn(this,Rt,rs).call(this,qt),this.setInBackground()}render(){if(this.div)return this.div;let qt,pn;this.width&&(qt=this.x,pn=this.y),super.render(),fn._l10nPromise.get("editor_ink2_aria_label").then(Zn=>{var er;return(er=this.div)==null?void 0:er.setAttribute("aria-label",Zn)});const[En,bn,Yn,lr]=hn(this,$t,Vs).call(this);if(this.setAt(En,bn,0,0),this.setDims(Yn,lr),hn(this,Nt,Po).call(this),this.width){const[Zn,er]=this.parentDimensions;this.setAt(qt*Zn,pn*er,this.width*Zn,this.height*er),kn(this,_,!0),hn(this,nn,ho).call(this),this.setDims(this.width*Zn,this.height*er),hn(this,vt,qr).call(this),hn(this,Ft,as).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return hn(this,sn,To).call(this),this.div}setDimensions(qt,pn){const En=Math.round(qt),bn=Math.round(pn);if(yt(this,et)===En&&yt(this,mt)===bn)return;kn(this,et,En),kn(this,mt,bn),this.canvas.style.visibility="hidden",yt(this,it)&&Math.abs(yt(this,it)-qt/pn)>.01&&(pn=Math.ceil(qt/yt(this,it)),this.setDims(qt,pn));const[Yn,lr]=this.parentDimensions;this.width=qt/Yn,this.height=pn/lr,yt(this,b)&&hn(this,ct,is).call(this,qt,pn),hn(this,nn,ho).call(this),hn(this,vt,qr).call(this),this.canvas.style.visibility="visible"}static deserialize(qt,pn,En){var Er,Ar;const bn=super.deserialize(qt,pn,En);bn.thickness=qt.thickness,bn.color=s.Util.makeHexColor(...qt.color),bn.opacity=qt.opacity;const[Yn,lr]=bn.pageDimensions,Zn=bn.width*Yn,er=bn.height*lr,Kn=bn.parentScale,ir=qt.thickness/2;kn(bn,it,Zn/er),kn(bn,b,!0),kn(bn,et,Math.round(Zn)),kn(bn,mt,Math.round(er));for(const{bezier:wr}of qt.paths){const mr=[];bn.paths.push(mr);let Dr=Kn*(wr[0]-ir),jr=Kn*(er-wr[1]-ir);for(let zr=2,ro=wr.length;zr<ro;zr+=6){const io=Kn*(wr[zr]-ir),oo=Kn*(er-wr[zr+1]-ir),so=Kn*(wr[zr+2]-ir),ao=Kn*(er-wr[zr+3]-ir),yo=Kn*(wr[zr+4]-ir),_o=Kn*(er-wr[zr+5]-ir);mr.push([[Dr,jr],[io,oo],[so,ao],[yo,_o]]),Dr=yo,jr=_o}const Xr=hn(this,bt,os).call(this,mr);bn.bezierPath2D.push(Xr)}const xr=hn(Er=bn,An,ss).call(Er);return kn(bn,lt,Math.max(ut,xr[2]-xr[0])),kn(bn,_t,Math.max(ut,xr[3]-xr[1])),hn(Ar=bn,ct,is).call(Ar,Zn,er),bn}serialize(){if(this.isEmpty())return null;const qt=this.getRect(0,0),pn=this.rotation%180===0?qt[3]-qt[1]:qt[2]-qt[0],En=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:s.AnnotationEditorType.INK,color:En,thickness:this.thickness,opacity:this.opacity,paths:hn(this,rn,Gs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,pn),pageIndex:this.pageIndex,rect:qt,rotation:this.rotation}}};it=new WeakMap,_t=new WeakMap,lt=new WeakMap,at=new WeakMap,tt=new WeakMap,st=new WeakMap,dt=new WeakMap,b=new WeakMap,_=new WeakMap,d=new WeakMap,g=new WeakMap,et=new WeakMap,mt=new WeakMap,Et=new WeakMap,$=new WeakSet,Us=function(qt){const pn=this.thickness;this.addCommands({cmd:()=>{this.thickness=qt,hn(this,zn,fo).call(this)},undo:()=>{this.thickness=pn,hn(this,zn,fo).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},At=new WeakSet,zs=function(qt){const pn=this.color;this.addCommands({cmd:()=>{this.color=qt,hn(this,vt,qr).call(this)},undo:()=>{this.color=pn,hn(this,vt,qr).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},kt=new WeakSet,Bs=function(qt){qt/=100;const pn=this.opacity;this.addCommands({cmd:()=>{this.opacity=qt,hn(this,vt,qr).call(this)},undo:()=>{this.opacity=pn,hn(this,vt,qr).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$t=new WeakSet,Vs=function(){const{parentRotation:qt,parentDimensions:[pn,En]}=this;switch(qt){case 90:return[0,En,En,pn];case 180:return[pn,En,pn,En];case 270:return[pn,0,En,pn];default:return[0,0,pn,En]}},en=new WeakSet,ns=function(){const{ctx:qt,color:pn,opacity:En,thickness:bn,parentScale:Yn,scaleFactor:lr}=this;qt.lineWidth=bn*Yn/lr,qt.lineCap="round",qt.lineJoin="round",qt.miterLimit=10,qt.strokeStyle=`${pn}${(0,h.opacityToHex)(En)}`},Lt=new WeakSet,Hs=function(qt,pn){this.isEditing=!0,yt(this,_)||(kn(this,_,!0),hn(this,nn,ho).call(this),this.thickness||(this.thickness=fn._defaultThickness),this.color||(this.color=fn._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=fn._defaultOpacity)),this.currentPath.push([qt,pn]),kn(this,d,null),hn(this,en,ns).call(this),this.ctx.beginPath(),this.ctx.moveTo(qt,pn),kn(this,Et,()=>{yt(this,Et)&&(yt(this,d)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):hn(this,vt,qr).call(this),this.ctx.lineTo(...yt(this,d)),kn(this,d,null),this.ctx.stroke()),window.requestAnimationFrame(yt(this,Et)))}),window.requestAnimationFrame(yt(this,Et))},Qt=new WeakSet,Ws=function(qt,pn){const[En,bn]=this.currentPath.at(-1);qt===En&&pn===bn||(this.currentPath.push([qt,pn]),kn(this,d,[qt,pn]))},rt=new WeakSet,$s=function(qt,pn){var Kn;this.ctx.closePath(),kn(this,Et,null),qt=Math.min(Math.max(qt,0),this.canvas.width),pn=Math.min(Math.max(pn,0),this.canvas.height);const[En,bn]=this.currentPath.at(-1);(qt!==En||pn!==bn)&&this.currentPath.push([qt,pn]);let Yn;if(this.currentPath.length!==1)Yn=(0,a.fitCurve)(this.currentPath,30,null);else{const ir=[qt,pn];Yn=[[ir,ir.slice(),ir.slice(),ir]]}const lr=hn(Kn=fn,bt,os).call(Kn,Yn);this.currentPath.length=0;const Zn=()=>{this.paths.push(Yn),this.bezierPath2D.push(lr),this.rebuild()},er=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(hn(this,Nt,Po).call(this),hn(this,sn,To).call(this)),hn(this,zn,fo).call(this))};this.addCommands({cmd:Zn,undo:er,mustExec:!0})},vt=new WeakSet,qr=function(){if(this.isEmpty()){hn(this,wt,xo).call(this);return}hn(this,en,ns).call(this);const{canvas:qt,ctx:pn}=this;pn.setTransform(1,0,0,1,0,0),pn.clearRect(0,0,qt.width,qt.height),hn(this,wt,xo).call(this);for(const En of this.bezierPath2D)pn.stroke(En)},Rt=new WeakSet,rs=function(qt){hn(this,rt,$s).call(this,qt.offsetX,qt.offsetY),this.canvas.removeEventListener("pointerleave",yt(this,tt)),this.canvas.removeEventListener("pointermove",yt(this,at)),this.addToAnnotationStorage()},Nt=new WeakSet,Po=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",fn._l10nPromise.get("editor_ink_canvas_aria_label").then(qt=>{var pn;return(pn=this.canvas)==null?void 0:pn.setAttribute("aria-label",qt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},sn=new WeakSet,To=function(){let qt=null;kn(this,g,new ResizeObserver(pn=>{const En=pn[0].contentRect;En.width&&En.height&&(qt!==null&&clearTimeout(qt),qt=setTimeout(()=>{this.fixDims(),qt=null},ot),this.setDimensions(En.width,En.height))})),yt(this,g).observe(this.div)},nn=new WeakSet,ho=function(){if(!yt(this,_))return;const[qt,pn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*qt),this.canvas.height=Math.ceil(this.height*pn),hn(this,wt,xo).call(this)},ct=new WeakSet,is=function(qt,pn){const En=hn(this,Bn,Ro).call(this),bn=(qt-En)/yt(this,lt),Yn=(pn-En)/yt(this,_t);this.scaleFactor=Math.min(bn,Yn)},wt=new WeakSet,xo=function(){const qt=hn(this,Bn,Ro).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+qt,this.translationY*this.scaleFactor+qt)},bt=new WeakSet,os=function(qt){const pn=new Path2D;for(let En=0,bn=qt.length;En<bn;En++){const[Yn,lr,Zn,er]=qt[En];En===0&&pn.moveTo(...Yn),pn.bezierCurveTo(lr[0],lr[1],Zn[0],Zn[1],er[0],er[1])}return pn},rn=new WeakSet,Gs=function(qt,pn,En,bn){const lr=[],Zn=this.thickness/2;let er,Kn;for(const ir of this.paths){er=[],Kn=[];for(let xr=0,Er=ir.length;xr<Er;xr++){const[Ar,wr,mr,Dr]=ir[xr],jr=qt*(Ar[0]+pn)+Zn,Xr=bn-qt*(Ar[1]+En)-Zn,zr=qt*(wr[0]+pn)+Zn,ro=bn-qt*(wr[1]+En)-Zn,io=qt*(mr[0]+pn)+Zn,oo=bn-qt*(mr[1]+En)-Zn,so=qt*(Dr[0]+pn)+Zn,ao=bn-qt*(Dr[1]+En)-Zn;xr===0&&(er.push(jr,Xr),Kn.push(jr,Xr)),er.push(zr,ro,io,oo,so,ao),hn(this,gn,qs).call(this,jr,Xr,zr,ro,io,oo,so,ao,4,Kn)}lr.push({bezier:er,points:Kn})}return lr},gn=new WeakSet,qs=function(qt,pn,En,bn,Yn,lr,Zn,er,Kn,ir){if(hn(this,_n,Xs).call(this,qt,pn,En,bn,Yn,lr,Zn,er)){ir.push(Zn,er);return}for(let xr=1;xr<Kn-1;xr++){const Er=xr/Kn,Ar=1-Er;let wr=Er*qt+Ar*En,mr=Er*pn+Ar*bn,Dr=Er*En+Ar*Yn,jr=Er*bn+Ar*lr;const Xr=Er*Yn+Ar*Zn,zr=Er*lr+Ar*er;wr=Er*wr+Ar*Dr,mr=Er*mr+Ar*jr,Dr=Er*Dr+Ar*Xr,jr=Er*jr+Ar*zr,wr=Er*wr+Ar*Dr,mr=Er*mr+Ar*jr,ir.push(wr,mr)}ir.push(Zn,er)},_n=new WeakSet,Xs=function(qt,pn,En,bn,Yn,lr,Zn,er){const ir=(3*En-2*qt-Zn)**2,xr=(3*bn-2*pn-er)**2,Er=(3*Yn-qt-2*Zn)**2,Ar=(3*lr-pn-2*er)**2;return Math.max(ir,Er)+Math.max(xr,Ar)<=10},An=new WeakSet,ss=function(){let qt=1/0,pn=-1/0,En=1/0,bn=-1/0;for(const Yn of this.paths)for(const[lr,Zn,er,Kn]of Yn){const ir=s.Util.bezierBoundingBox(...lr,...Zn,...er,...Kn);qt=Math.min(qt,ir[0]),En=Math.min(En,ir[1]),pn=Math.max(pn,ir[2]),bn=Math.max(bn,ir[3])}return[qt,En,pn,bn]},Bn=new WeakSet,Ro=function(){return yt(this,b)?Math.ceil(this.thickness*this.parentScale):0},zn=new WeakSet,fo=function(qt=!1){if(this.isEmpty())return;if(!yt(this,b)){hn(this,vt,qr).call(this);return}const pn=hn(this,An,ss).call(this),En=hn(this,Bn,Ro).call(this);kn(this,lt,Math.max(ut,pn[2]-pn[0])),kn(this,_t,Math.max(ut,pn[3]-pn[1]));const bn=Math.ceil(En+yt(this,lt)*this.scaleFactor),Yn=Math.ceil(En+yt(this,_t)*this.scaleFactor),[lr,Zn]=this.parentDimensions;this.width=bn/lr,this.height=Yn/Zn,kn(this,it,bn/Yn),hn(this,Ft,as).call(this);const er=this.translationX,Kn=this.translationY;this.translationX=-pn[0],this.translationY=-pn[1],hn(this,nn,ho).call(this),hn(this,vt,qr).call(this),kn(this,et,bn),kn(this,mt,Yn),this.setDims(bn,Yn);const ir=qt?En/this.scaleFactor/2:0;this.translate(er-this.translationX-ir,Kn-this.translationY-ir)},Ft=new WeakSet,as=function(){const{style:qt}=this.div;yt(this,it)>=1?(qt.minHeight=`${ut}px`,qt.minWidth=`${Math.round(yt(this,it)*ut)}px`):(qt.minWidth=`${ut}px`,qt.minHeight=`${Math.round(ut/yt(this,it))}px`)},on(fn,bt),br(fn,"_defaultColor",null),br(fn,"_defaultOpacity",1),br(fn,"_defaultThickness",1),br(fn,"_l10nPromise"),br(fn,"_type","ink");let _e=fn;i.InkEditor=_e},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const s=o(31);i.fitCurve=s},e=>{function i(tt,st,dt){if(!Array.isArray(tt))throw new TypeError("First argument should be an array");if(tt.forEach(g=>{if(!Array.isArray(g)||g.some(et=>typeof et!="number")||g.length!==tt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),tt=tt.filter((g,et)=>et===0||!g.every((mt,Et)=>mt===tt[et-1][Et])),tt.length<2)return[];const b=tt.length,_=_t(tt[1],tt[0]),d=_t(tt[b-2],tt[b-1]);return o(tt,_,d,st,dt)}function o(tt,st,dt,b,_){var g,et,mt,Et,$,ft,At,gt,kt,Kt,$t,ln,en;if(tt.length===2)return ln=lt.vectorLen(lt.subtract(tt[0],tt[1]))/3,g=[tt[0],lt.addArrays(tt[0],lt.mulItems(st,ln)),lt.addArrays(tt[1],lt.mulItems(dt,ln)),tt[1]],[g];if(et=ut(tt),[g,Et,ft]=s(tt,et,et,st,dt,_),Et===0||Et<b)return[g];if(Et<b*b)for(mt=et,$=Et,At=ft,en=0;en<20;en++){if(mt=a(g,tt,mt),[g,Et,ft]=s(tt,et,mt,st,dt,_),Et<b)return[g];if(ft===At){let zt=Et/$;if(zt>.9999&&zt<1.0001)break}$=Et,At=ft}return $t=[],gt=lt.subtract(tt[ft-1],tt[ft+1]),gt.every(zt=>zt===0)&&(gt=lt.subtract(tt[ft-1],tt[ft]),[gt[0],gt[1]]=[-gt[1],gt[0]]),kt=lt.normalize(gt),Kt=lt.mulItems(kt,-1),$t=$t.concat(o(tt.slice(0,ft+1),st,kt,b,_)),$t=$t.concat(o(tt.slice(ft),Kt,dt,b,_)),$t}function s(tt,st,dt,b,_,d){var g,et,mt;return g=c(tt,dt,b,_),[et,mt]=ot(tt,g,st),d&&d({bez:g,points:tt,params:st,maxErr:et,maxPoint:mt}),[g,et,mt]}function c(tt,st,dt,b){var _,d,g,et,mt,Et,$,ft,At,gt,kt,Kt,$t,ln,en,zt,Lt,Xt=tt[0],Qt=tt[tt.length-1];for(_=[Xt,null,null,Qt],d=lt.zeros_Xx2x2(st.length),$t=0,ln=st.length;$t<ln;$t++)zt=st[$t],Lt=1-zt,g=d[$t],g[0]=lt.mulItems(dt,3*zt*(Lt*Lt)),g[1]=lt.mulItems(b,3*Lt*(zt*zt));for(et=[[0,0],[0,0]],mt=[0,0],$t=0,ln=tt.length;$t<ln;$t++)zt=st[$t],g=d[$t],et[0][0]+=lt.dot(g[0],g[0]),et[0][1]+=lt.dot(g[0],g[1]),et[1][0]+=lt.dot(g[0],g[1]),et[1][1]+=lt.dot(g[1],g[1]),en=lt.subtract(tt[$t],at.q([Xt,Xt,Qt,Qt],zt)),mt[0]+=lt.dot(g[0],en),mt[1]+=lt.dot(g[1],en);return Et=et[0][0]*et[1][1]-et[1][0]*et[0][1],$=et[0][0]*mt[1]-et[1][0]*mt[0],ft=mt[0]*et[1][1]-mt[1]*et[0][1],At=Et===0?0:ft/Et,gt=Et===0?0:$/Et,Kt=lt.vectorLen(lt.subtract(Xt,Qt)),kt=1e-6*Kt,At<kt||gt<kt?(_[1]=lt.addArrays(Xt,lt.mulItems(dt,Kt/3)),_[2]=lt.addArrays(Qt,lt.mulItems(b,Kt/3))):(_[1]=lt.addArrays(Xt,lt.mulItems(dt,At)),_[2]=lt.addArrays(Qt,lt.mulItems(b,gt))),_}function a(tt,st,dt){return dt.map((b,_)=>h(tt,st[_],b))}function h(tt,st,dt){var b=lt.subtract(at.q(tt,dt),st),_=at.qprime(tt,dt),d=lt.mulMatrix(b,_),g=lt.sum(lt.squareItems(_))+2*lt.mulMatrix(b,at.qprimeprime(tt,dt));return g===0?dt:dt-d/g}function ut(tt){var st=[],dt,b,_;return tt.forEach((d,g)=>{dt=g?b+lt.vectorLen(lt.subtract(d,_)):0,st.push(dt),b=dt,_=d}),st=st.map(d=>d/b),st}function ot(tt,st,dt){var b,_,d,g,et,mt,Et,$;_=0,d=Math.floor(tt.length/2);const ft=_e(st,10);for(et=0,mt=tt.length;et<mt;et++)Et=tt[et],$=it(st,dt[et],ft,10),g=lt.subtract(at.q(st,$),Et),b=g[0]*g[0]+g[1]*g[1],b>_&&(_=b,d=et);return[_,d]}var _e=function(tt,st){for(var dt,b=[0],_=tt[0],d=0,g=1;g<=st;g++)dt=at.q(tt,g/st),d+=lt.vectorLen(lt.subtract(dt,_)),b.push(d),_=dt;return b=b.map(et=>et/d),b};function it(tt,st,dt,b){if(st<0)return 0;if(st>1)return 1;for(var _,d,g,et,mt,Et=1;Et<=b;Et++)if(st<=dt[Et]){et=(Et-1)/b,g=Et/b,d=dt[Et-1],_=dt[Et],mt=(st-d)/(_-d)*(g-et)+et;break}return mt}function _t(tt,st){return lt.normalize(lt.subtract(tt,st))}class lt{static zeros_Xx2x2(st){for(var dt=[];st--;)dt.push([0,0]);return dt}static mulItems(st,dt){return st.map(b=>b*dt)}static mulMatrix(st,dt){return st.reduce((b,_,d)=>b+_*dt[d],0)}static subtract(st,dt){return st.map((b,_)=>b-dt[_])}static addArrays(st,dt){return st.map((b,_)=>b+dt[_])}static addItems(st,dt){return st.map(b=>b+dt)}static sum(st){return st.reduce((dt,b)=>dt+b)}static dot(st,dt){return lt.mulMatrix(st,dt)}static vectorLen(st){return Math.hypot(...st)}static divItems(st,dt){return st.map(b=>b/dt)}static squareItems(st){return st.map(dt=>dt*dt)}static normalize(st){return this.divItems(st,this.vectorLen(st))}}class at{static q(st,dt){var b=1-dt,_=lt.mulItems(st[0],b*b*b),d=lt.mulItems(st[1],3*b*b*dt),g=lt.mulItems(st[2],3*b*dt*dt),et=lt.mulItems(st[3],dt*dt*dt);return lt.addArrays(lt.addArrays(_,d),lt.addArrays(g,et))}static qprime(st,dt){var b=1-dt,_=lt.mulItems(lt.subtract(st[1],st[0]),3*b*b),d=lt.mulItems(lt.subtract(st[2],st[1]),6*b*dt),g=lt.mulItems(lt.subtract(st[3],st[2]),3*dt*dt);return lt.addArrays(lt.addArrays(_,d),g)}static qprimeprime(st,dt){return lt.addArrays(lt.mulItems(lt.addArrays(lt.subtract(st[2],lt.mulItems(st[1],2)),st[0]),6*(1-dt)),lt.mulItems(lt.addArrays(lt.subtract(st[3],lt.mulItems(st[2],2)),st[1]),6*dt))}}e.exports=i,e.exports.fitCubic=o,e.exports.createTangent=_t},(e,i,o)=>{var nt,no,Pt,Ys,Nt,ls,sn,cs;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var s=o(1),c=o(6),a=o(3),h=o(33),ut=o(34);const ot=1e3,_e=9,it=new WeakSet;function _t(Yt){return{width:Yt[2]-Yt[0],height:Yt[3]-Yt[1]}}class lt{static create(ct){switch(ct.data.annotationType){case s.AnnotationType.LINK:return new tt(ct);case s.AnnotationType.TEXT:return new st(ct);case s.AnnotationType.WIDGET:switch(ct.data.fieldType){case"Tx":return new b(ct);case"Btn":return ct.data.radioButton?new d(ct):ct.data.checkBox?new _(ct):new g(ct);case"Ch":return new et(ct)}return new dt(ct);case s.AnnotationType.POPUP:return new mt(ct);case s.AnnotationType.FREETEXT:return new $(ct);case s.AnnotationType.LINE:return new ft(ct);case s.AnnotationType.SQUARE:return new At(ct);case s.AnnotationType.CIRCLE:return new gt(ct);case s.AnnotationType.POLYLINE:return new kt(ct);case s.AnnotationType.CARET:return new $t(ct);case s.AnnotationType.INK:return new ln(ct);case s.AnnotationType.POLYGON:return new Kt(ct);case s.AnnotationType.HIGHLIGHT:return new en(ct);case s.AnnotationType.UNDERLINE:return new zt(ct);case s.AnnotationType.SQUIGGLY:return new Lt(ct);case s.AnnotationType.STRIKEOUT:return new Xt(ct);case s.AnnotationType.STAMP:return new Qt(ct);case s.AnnotationType.FILEATTACHMENT:return new St(ct);default:return new at(ct)}}}class at{constructor(ct,{isRenderable:ht=!1,ignoreBorder:wt=!1,createQuadrilaterals:xt=!1}={}){this.isRenderable=ht,this.data=ct.data,this.layer=ct.layer,this.page=ct.page,this.viewport=ct.viewport,this.linkService=ct.linkService,this.downloadManager=ct.downloadManager,this.imageResourcesPath=ct.imageResourcesPath,this.renderForms=ct.renderForms,this.svgFactory=ct.svgFactory,this.annotationStorage=ct.annotationStorage,this.enableScripting=ct.enableScripting,this.hasJSActions=ct.hasJSActions,this._fieldObjects=ct.fieldObjects,ht&&(this.container=this._createContainer(wt)),xt&&(this.quadrilaterals=this._createQuadrilaterals(wt))}_createContainer(ct=!1){const{data:ht,page:wt,viewport:xt}=this,bt=document.createElement("section");bt.setAttribute("data-annotation-id",ht.id);const{pageWidth:Bt,pageHeight:rn,pageX:dn,pageY:gn}=xt.rawDims,{width:tn,height:_n}=_t(ht.rect),mn=s.Util.normalizeRect([ht.rect[0],wt.view[3]-ht.rect[1]+wt.view[1],ht.rect[2],wt.view[3]-ht.rect[3]+wt.view[1]]);if(!ct&&ht.borderStyle.width>0){bt.style.borderWidth=`${ht.borderStyle.width}px`;const Cn=ht.borderStyle.horizontalCornerRadius,Bn=ht.borderStyle.verticalCornerRadius;if(Cn>0||Bn>0){const zn=`calc(${Cn}px * var(--scale-factor)) / calc(${Bn}px * var(--scale-factor))`;bt.style.borderRadius=zn}else if(this instanceof d){const zn=`calc(${tn}px * var(--scale-factor)) / calc(${_n}px * var(--scale-factor))`;bt.style.borderRadius=zn}switch(ht.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:bt.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:bt.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:bt.style.borderBottomStyle="solid";break}const $n=ht.borderColor||null;$n?bt.style.borderColor=s.Util.makeHexColor($n[0]|0,$n[1]|0,$n[2]|0):bt.style.borderWidth=0}bt.style.left=`${100*(mn[0]-dn)/Bt}%`,bt.style.top=`${100*(mn[1]-gn)/rn}%`;const{rotation:An}=ht;return ht.hasOwnCanvas||An===0?(bt.style.width=`${100*tn/Bt}%`,bt.style.height=`${100*_n/rn}%`):this.setRotation(An,bt),bt}setRotation(ct,ht=this.container){const{pageWidth:wt,pageHeight:xt}=this.viewport.rawDims,{width:bt,height:Bt}=_t(this.data.rect);let rn,dn;ct%180===0?(rn=100*bt/wt,dn=100*Bt/xt):(rn=100*Bt/wt,dn=100*bt/xt),ht.style.width=`${rn}%`,ht.style.height=`${dn}%`,ht.setAttribute("data-main-rotation",(360-ct)%360)}get _commonActions(){const ct=(ht,wt,xt)=>{const bt=xt.detail[ht];xt.target.style[wt]=h.ColorConverters[`${bt[0]}_HTML`](bt.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:ht=>{const wt=ht.detail.display%2===1;this.container.style.visibility=wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:wt,print:ht.detail.display===0||ht.detail.display===3})},print:ht=>{this.annotationStorage.setValue(this.data.id,{print:ht.detail.print})},hidden:ht=>{this.container.style.visibility=ht.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ht.detail.hidden})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.detail.readonly?ht.target.setAttribute("readonly",""):ht.target.removeAttribute("readonly")},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{ct("bgColor","backgroundColor",ht)},fillColor:ht=>{ct("fillColor","backgroundColor",ht)},fgColor:ht=>{ct("fgColor","color",ht)},textColor:ht=>{ct("textColor","color",ht)},borderColor:ht=>{ct("borderColor","borderColor",ht)},strokeColor:ht=>{ct("strokeColor","borderColor",ht)},rotation:ht=>{const wt=ht.detail.rotation;this.setRotation(wt),this.annotationStorage.setValue(this.data.id,{rotation:wt})}})}_dispatchEventFromSandbox(ct,ht){const wt=this._commonActions;for(const xt of Object.keys(ht.detail)){const bt=ct[xt]||wt[xt];bt==null||bt(ht)}}_setDefaultPropertiesFromJS(ct){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const wt=this._commonActions;for(const[xt,bt]of Object.entries(ht)){const Bt=wt[xt];if(Bt){const rn={detail:{[xt]:bt},target:ct};Bt(rn),delete ht[xt]}}}_createQuadrilaterals(ct=!1){if(!this.data.quadPoints)return null;const ht=[],wt=this.data.rect;for(const xt of this.data.quadPoints)this.data.rect=[xt[2].x,xt[2].y,xt[1].x,xt[1].y],ht.push(this._createContainer(ct));return this.data.rect=wt,ht}_createPopup(ct,ht){let wt=this.container;this.quadrilaterals&&(ct=ct||this.quadrilaterals,wt=this.quadrilaterals[0]),ct||(ct=document.createElement("div"),ct.className="popupTriggerArea",wt.append(ct));const bt=new Et({container:wt,trigger:ct,color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,hideWrapper:!0}).render();bt.style.left="100%",wt.append(bt)}_renderQuadrilaterals(ct){for(const ht of this.quadrilaterals)ht.className=ct;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ct,ht=null){const wt=[];if(this._fieldObjects){const xt=this._fieldObjects[ct];if(xt)for(const{page:bt,id:Bt,exportValues:rn}of xt){if(bt===-1||Bt===ht)continue;const dn=typeof rn=="string"?rn:null,gn=document.querySelector(`[data-element-id="${Bt}"]`);if(gn&&!it.has(gn)){(0,s.warn)(`_getElementsByName - element not allowed: ${Bt}`);continue}wt.push({id:Bt,exportValue:dn,domElement:gn})}return wt}for(const xt of document.getElementsByName(ct)){const{exportValue:bt}=xt,Bt=xt.getAttribute("data-element-id");Bt!==ht&&it.has(xt)&&wt.push({id:Bt,exportValue:bt,domElement:xt})}return wt}}class tt extends at{constructor(ht,wt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(wt!=null&&wt.ignoreBorder),createQuadrilaterals:!0});on(this,nt);on(this,Pt);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:wt}=this,xt=document.createElement("a");xt.setAttribute("data-element-id",ht.id);let bt=!1;return ht.url?(wt.addLinkAttributes(xt,ht.url,ht.newWindow),bt=!0):ht.action?(this._bindNamedAction(xt,ht.action),bt=!0):ht.attachment?(this._bindAttachment(xt,ht.attachment),bt=!0):ht.setOCGState?(hn(this,Pt,Ys).call(this,xt,ht.setOCGState),bt=!0):ht.dest?(this._bindLink(xt,ht.dest),bt=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xt,ht),bt=!0),ht.resetForm?(this._bindResetFormAction(xt,ht.resetForm),bt=!0):this.isTooltipOnly&&!bt&&(this._bindLink(xt,""),bt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Bt,rn)=>{const dn=rn===0?xt:xt.cloneNode();return Bt.append(dn),Bt}):(this.container.className="linkAnnotation",bt&&this.container.append(xt),this.container)}_bindLink(ht,wt){ht.href=this.linkService.getDestinationHash(wt),ht.onclick=()=>(wt&&this.linkService.goToDestination(wt),!1),(wt||wt==="")&&hn(this,nt,no).call(this)}_bindNamedAction(ht,wt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(wt),!1),hn(this,nt,no).call(this)}_bindAttachment(ht,wt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>{var xt;return(xt=this.downloadManager)==null||xt.openOrDownloadData(this.container,wt.content,wt.filename),!1},hn(this,nt,no).call(this)}_bindJSAction(ht,wt){ht.href=this.linkService.getAnchorUrl("");const xt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const bt of Object.keys(wt.actions)){const Bt=xt.get(bt);Bt&&(ht[Bt]=()=>{var rn;return(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt.id,name:bt}}),!1})}ht.onclick||(ht.onclick=()=>!1),hn(this,nt,no).call(this)}_bindResetFormAction(ht,wt){const xt=ht.onclick;if(xt||(ht.href=this.linkService.getAnchorUrl("")),hn(this,nt,no).call(this),!this._fieldObjects){(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xt||(ht.onclick=()=>!1);return}ht.onclick=()=>{var _n;xt==null||xt();const{fields:bt,refs:Bt,include:rn}=wt,dn=[];if(bt.length!==0||Bt.length!==0){const mn=new Set(Bt);for(const An of bt){const Cn=this._fieldObjects[An]||[];for(const{id:Bn}of Cn)mn.add(Bn)}for(const An of Object.values(this._fieldObjects))for(const Cn of An)mn.has(Cn.id)===rn&&dn.push(Cn)}else for(const mn of Object.values(this._fieldObjects))dn.push(...mn);const gn=this.annotationStorage,tn=[];for(const mn of dn){const{id:An}=mn;switch(tn.push(An),mn.type){case"text":{const Bn=mn.defaultValue||"";gn.setValue(An,{value:Bn});break}case"checkbox":case"radiobutton":{const Bn=mn.defaultValue===mn.exportValues;gn.setValue(An,{value:Bn});break}case"combobox":case"listbox":{const Bn=mn.defaultValue||"";gn.setValue(An,{value:Bn});break}default:continue}const Cn=document.querySelector(`[data-element-id="${An}"]`);if(Cn){if(!it.has(Cn)){(0,s.warn)(`_bindResetFormAction - element not allowed: ${An}`);continue}}else continue;Cn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:tn,name:"ResetForm"}})),!1}}}nt=new WeakSet,no=function(){this.container.setAttribute("data-internal-link","")},Pt=new WeakSet,Ys=function(ht,wt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(wt),!1),hn(this,nt,no).call(this)};class st extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht})}render(){this.container.className="textAnnotation";const ct=document.createElement("img");return ct.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ct.alt="[{{type}} Annotation]",ct.dataset.l10nId="text_annotation_type",ct.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ct,this.data),this.container.append(ct),this.container}}class dt extends at{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ct){const{isWin:ht,isMac:wt}=s.FeatureTest.platform;return ht&&ct.ctrlKey||wt&&ct.metaKey}_setEventListener(ct,ht,wt,xt){ht.includes("mouse")?ct.addEventListener(ht,bt=>{var Bt;(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wt,value:xt(bt),shift:bt.shiftKey,modifier:this._getKeyModifier(bt)}})}):ct.addEventListener(ht,bt=>{var Bt;(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wt,value:xt(bt)}})})}_setEventListeners(ct,ht,wt){var xt;for(const[bt,Bt]of ht)(Bt==="Action"||(xt=this.data.actions)!=null&&xt[Bt])&&this._setEventListener(ct,bt,Bt,wt)}_setBackgroundColor(ct){const ht=this.data.backgroundColor||null;ct.style.backgroundColor=ht===null?"transparent":s.Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle(ct){const ht=["left","center","right"],{fontColor:wt}=this.data.defaultAppearanceData,xt=this.data.defaultAppearanceData.fontSize||_e,bt=ct.style;let Bt;const rn=2,dn=gn=>Math.round(10*gn)/10;if(this.data.multiLine){const gn=Math.abs(this.data.rect[3]-this.data.rect[1]-rn),tn=Math.round(gn/(s.LINE_FACTOR*xt))||1,_n=gn/tn;Bt=Math.min(xt,dn(_n/s.LINE_FACTOR))}else{const gn=Math.abs(this.data.rect[3]-this.data.rect[1]-rn);Bt=Math.min(xt,dn(gn/s.LINE_FACTOR))}bt.fontSize=`calc(${Bt}px * var(--scale-factor))`,bt.color=s.Util.makeHexColor(wt[0],wt[1],wt[2]),this.data.textAlignment!==null&&(bt.textAlign=ht[this.data.textAlignment])}_setRequired(ct,ht){ht?ct.setAttribute("required",!0):ct.removeAttribute("required"),ct.setAttribute("aria-required",ht)}}class b extends dt{constructor(ct){const ht=ct.renderForms||!ct.data.hasAppearance&&!!ct.data.fieldValue;super(ct,{isRenderable:ht})}setPropertyOnSiblings(ct,ht,wt,xt){const bt=this.annotationStorage;for(const Bt of this._getElementsByName(ct.name,ct.id))Bt.domElement&&(Bt.domElement[ht]=wt),bt.setValue(Bt.id,{[xt]:wt})}render(){var xt;const ct=this.annotationStorage,ht=this.data.id;this.container.className="textWidgetAnnotation";let wt=null;if(this.renderForms){const bt=ct.getValue(ht,{value:this.data.fieldValue});let Bt=bt.formattedValue||bt.value||"";const rn=ct.getValue(ht,{charLimit:this.data.maxLen}).charLimit;rn&&Bt.length>rn&&(Bt=Bt.slice(0,rn));const dn={userValue:Bt,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(wt=document.createElement("textarea"),wt.textContent=Bt,this.data.doNotScroll&&(wt.style.overflowY="hidden")):(wt=document.createElement("input"),wt.type="text",wt.setAttribute("value",Bt),this.data.doNotScroll&&(wt.style.overflowX="hidden")),it.add(wt),wt.setAttribute("data-element-id",ht),wt.disabled=this.data.readOnly,wt.name=this.data.fieldName,wt.tabIndex=ot,this._setRequired(wt,this.data.required),rn&&(wt.maxLength=rn),wt.addEventListener("input",tn=>{ct.setValue(ht,{value:tn.target.value}),this.setPropertyOnSiblings(wt,"value",tn.target.value,"value")}),wt.addEventListener("resetform",tn=>{const _n=this.data.defaultFieldValue??"";wt.value=dn.userValue=_n,dn.formattedValue=null});let gn=tn=>{const{formattedValue:_n}=dn;_n!=null&&(tn.target.value=_n),tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){wt.addEventListener("focus",_n=>{const{target:mn}=_n;dn.userValue&&(mn.value=dn.userValue),dn.lastCommittedValue=mn.value,dn.commitKey=1}),wt.addEventListener("updatefromsandbox",_n=>{const mn={value(An){dn.userValue=An.detail.value??"",ct.setValue(ht,{value:dn.userValue.toString()}),An.target.value=dn.userValue},formattedValue(An){const{formattedValue:Cn}=An.detail;dn.formattedValue=Cn,Cn!=null&&An.target!==document.activeElement&&(An.target.value=Cn),ct.setValue(ht,{formattedValue:Cn})},selRange(An){An.target.setSelectionRange(...An.detail.selRange)},charLimit:An=>{var zn;const{charLimit:Cn}=An.detail,{target:Bn}=An;if(Cn===0){Bn.removeAttribute("maxLength");return}Bn.setAttribute("maxLength",Cn);let $n=dn.userValue;!$n||$n.length<=Cn||($n=$n.slice(0,Cn),Bn.value=dn.userValue=$n,ct.setValue(ht,{value:$n}),(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:$n,willCommit:!0,commitKey:1,selStart:Bn.selectionStart,selEnd:Bn.selectionEnd}}))}};this._dispatchEventFromSandbox(mn,_n)}),wt.addEventListener("keydown",_n=>{var Cn;dn.commitKey=1;let mn=-1;if(_n.key==="Escape"?mn=0:_n.key==="Enter"&&!this.data.multiLine?mn=2:_n.key==="Tab"&&(dn.commitKey=3),mn===-1)return;const{value:An}=_n.target;dn.lastCommittedValue!==An&&(dn.lastCommittedValue=An,dn.userValue=An,(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:An,willCommit:!0,commitKey:mn,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}}))});const tn=gn;gn=null,wt.addEventListener("blur",_n=>{var An;if(!_n.relatedTarget)return;const{value:mn}=_n.target;dn.userValue=mn,dn.lastCommittedValue!==mn&&((An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:mn,willCommit:!0,commitKey:dn.commitKey,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}})),tn(_n)}),(xt=this.data.actions)!=null&&xt.Keystroke&&wt.addEventListener("beforeinput",_n=>{var Ft;dn.lastCommittedValue=null;const{data:mn,target:An}=_n,{value:Cn,selectionStart:Bn,selectionEnd:$n}=An;let zn=Bn,Tt=$n;switch(_n.inputType){case"deleteWordBackward":{const jt=Cn.substring(0,Bn).match(/\w*[^\w]*$/);jt&&(zn-=jt[0].length);break}case"deleteWordForward":{const jt=Cn.substring(Bn).match(/^[^\w]*\w*/);jt&&(Tt+=jt[0].length);break}case"deleteContentBackward":Bn===$n&&(zn-=1);break;case"deleteContentForward":Bn===$n&&(Tt+=1);break}_n.preventDefault(),(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Cn,change:mn||"",willCommit:!1,selStart:zn,selEnd:Tt}})}),this._setEventListeners(wt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.value)}if(gn&&wt.addEventListener("blur",gn),this.data.comb){const _n=(this.data.rect[2]-this.data.rect[0])/rn;wt.classList.add("comb"),wt.style.letterSpacing=`calc(${_n}px * var(--scale-factor) - 1ch)`}}else wt=document.createElement("div"),wt.textContent=this.data.fieldValue,wt.style.verticalAlign="middle",wt.style.display="table-cell";return this._setTextStyle(wt),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class _ extends dt{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){const ct=this.annotationStorage,ht=this.data,wt=ht.id;let xt=ct.getValue(wt,{value:ht.exportValue===ht.fieldValue}).value;typeof xt=="string"&&(xt=xt!=="Off",ct.setValue(wt,{value:xt})),this.container.className="buttonWidgetAnnotation checkBox";const bt=document.createElement("input");return it.add(bt),bt.setAttribute("data-element-id",wt),bt.disabled=ht.readOnly,this._setRequired(bt,this.data.required),bt.type="checkbox",bt.name=ht.fieldName,xt&&bt.setAttribute("checked",!0),bt.setAttribute("exportValue",ht.exportValue),bt.tabIndex=ot,bt.addEventListener("change",Bt=>{const{name:rn,checked:dn}=Bt.target;for(const gn of this._getElementsByName(rn,wt)){const tn=dn&&gn.exportValue===ht.exportValue;gn.domElement&&(gn.domElement.checked=tn),ct.setValue(gn.id,{value:tn})}ct.setValue(wt,{value:dn})}),bt.addEventListener("resetform",Bt=>{const rn=ht.defaultFieldValue||"Off";Bt.target.checked=rn===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(bt.addEventListener("updatefromsandbox",Bt=>{const rn={value(dn){dn.target.checked=dn.detail.value!=="Off",ct.setValue(wt,{value:dn.target.checked})}};this._dispatchEventFromSandbox(rn,Bt)}),this._setEventListeners(bt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bt=>Bt.target.checked)),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class d extends dt{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ct=this.annotationStorage,ht=this.data,wt=ht.id;let xt=ct.getValue(wt,{value:ht.fieldValue===ht.buttonValue}).value;typeof xt=="string"&&(xt=xt!==ht.buttonValue,ct.setValue(wt,{value:xt}));const bt=document.createElement("input");if(it.add(bt),bt.setAttribute("data-element-id",wt),bt.disabled=ht.readOnly,this._setRequired(bt,this.data.required),bt.type="radio",bt.name=ht.fieldName,xt&&bt.setAttribute("checked",!0),bt.tabIndex=ot,bt.addEventListener("change",Bt=>{const{name:rn,checked:dn}=Bt.target;for(const gn of this._getElementsByName(rn,wt))ct.setValue(gn.id,{value:!1});ct.setValue(wt,{value:dn})}),bt.addEventListener("resetform",Bt=>{const rn=ht.defaultFieldValue;Bt.target.checked=rn!=null&&rn===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const Bt=ht.buttonValue;bt.addEventListener("updatefromsandbox",rn=>{const dn={value:gn=>{const tn=Bt===gn.detail.value;for(const _n of this._getElementsByName(gn.target.name)){const mn=tn&&_n.id===wt;_n.domElement&&(_n.domElement.checked=mn),ct.setValue(_n.id,{value:mn})}}};this._dispatchEventFromSandbox(dn,rn)}),this._setEventListeners(bt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rn=>rn.target.checked)}return this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class g extends tt{constructor(ct){super(ct,{ignoreBorder:ct.data.hasAppearance})}render(){const ct=super.render();ct.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ct.title=this.data.alternativeText);const ht=ct.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",wt=>{this._dispatchEventFromSandbox({},wt)})),ct}}class et extends dt{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ct=this.annotationStorage,ht=this.data.id,wt=ct.getValue(ht,{value:this.data.fieldValue}),xt=document.createElement("select");it.add(xt),xt.setAttribute("data-element-id",ht),xt.disabled=this.data.readOnly,this._setRequired(xt,this.data.required),xt.name=this.data.fieldName,xt.tabIndex=ot;let bt=this.data.combo&&this.data.options.length>0;this.data.combo||(xt.size=this.data.options.length,this.data.multiSelect&&(xt.multiple=!0)),xt.addEventListener("resetform",tn=>{const _n=this.data.defaultFieldValue;for(const mn of xt.options)mn.selected=mn.value===_n});for(const tn of this.data.options){const _n=document.createElement("option");_n.textContent=tn.displayValue,_n.value=tn.exportValue,wt.value.includes(tn.exportValue)&&(_n.setAttribute("selected",!0),bt=!1),xt.append(_n)}let Bt=null;if(bt){const tn=document.createElement("option");tn.value=" ",tn.setAttribute("hidden",!0),tn.setAttribute("selected",!0),xt.prepend(tn),Bt=()=>{tn.remove(),xt.removeEventListener("input",Bt),Bt=null},xt.addEventListener("input",Bt)}const rn=tn=>{const _n=tn?"value":"textContent",{options:mn,multiple:An}=xt;return An?Array.prototype.filter.call(mn,Cn=>Cn.selected).map(Cn=>Cn[_n]):mn.selectedIndex===-1?null:mn[mn.selectedIndex][_n]};let dn=rn(!1);const gn=tn=>{const _n=tn.target.options;return Array.prototype.map.call(_n,mn=>({displayValue:mn.textContent,exportValue:mn.value}))};return this.enableScripting&&this.hasJSActions?(xt.addEventListener("updatefromsandbox",tn=>{const _n={value(mn){Bt==null||Bt();const An=mn.detail.value,Cn=new Set(Array.isArray(An)?An:[An]);for(const Bn of xt.options)Bn.selected=Cn.has(Bn.value);ct.setValue(ht,{value:rn(!0)}),dn=rn(!1)},multipleSelection(mn){xt.multiple=!0},remove(mn){const An=xt.options,Cn=mn.detail.remove;An[Cn].selected=!1,xt.remove(Cn),An.length>0&&Array.prototype.findIndex.call(An,$n=>$n.selected)===-1&&(An[0].selected=!0),ct.setValue(ht,{value:rn(!0),items:gn(mn)}),dn=rn(!1)},clear(mn){for(;xt.length!==0;)xt.remove(0);ct.setValue(ht,{value:null,items:[]}),dn=rn(!1)},insert(mn){const{index:An,displayValue:Cn,exportValue:Bn}=mn.detail.insert,$n=xt.children[An],zn=document.createElement("option");zn.textContent=Cn,zn.value=Bn,$n?$n.before(zn):xt.append(zn),ct.setValue(ht,{value:rn(!0),items:gn(mn)}),dn=rn(!1)},items(mn){const{items:An}=mn.detail;for(;xt.length!==0;)xt.remove(0);for(const Cn of An){const{displayValue:Bn,exportValue:$n}=Cn,zn=document.createElement("option");zn.textContent=Bn,zn.value=$n,xt.append(zn)}xt.options.length>0&&(xt.options[0].selected=!0),ct.setValue(ht,{value:rn(!0),items:gn(mn)}),dn=rn(!1)},indices(mn){const An=new Set(mn.detail.indices);for(const Cn of mn.target.options)Cn.selected=An.has(Cn.index);ct.setValue(ht,{value:rn(!0)}),dn=rn(!1)},editable(mn){mn.target.disabled=!mn.detail.editable}};this._dispatchEventFromSandbox(_n,tn)}),xt.addEventListener("input",tn=>{var mn;const _n=rn(!0);ct.setValue(ht,{value:_n}),tn.preventDefault(),(mn=this.linkService.eventBus)==null||mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:dn,changeEx:_n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],tn=>tn.target.value)):xt.addEventListener("input",function(tn){ct.setValue(ht,{value:rn(!0)})}),this.data.combo&&this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}const Dt=class Dt extends at{constructor(ct){var xt,bt,Bt;const{data:ht}=ct,wt=!Dt.IGNORE_TYPES.has(ht.parentType)&&!!((xt=ht.titleObj)!=null&&xt.str||(bt=ht.contentsObj)!=null&&bt.str||(Bt=ht.richText)!=null&&Bt.str);super(ct,{isRenderable:wt})}render(){this.container.className="popupAnnotation";const ct=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(ct.length===0)return this.container;const ht=new Et({container:this.container,trigger:Array.from(ct),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),wt=this.page,xt=s.Util.normalizeRect([this.data.parentRect[0],wt.view[3]-this.data.parentRect[1]+wt.view[1],this.data.parentRect[2],wt.view[3]-this.data.parentRect[3]+wt.view[1]]),bt=xt[0]+this.data.parentRect[2]-this.data.parentRect[0],Bt=xt[1],{pageWidth:rn,pageHeight:dn,pageX:gn,pageY:tn}=this.viewport.rawDims;return this.container.style.left=`${100*(bt-gn)/rn}%`,this.container.style.top=`${100*(Bt-tn)/dn}%`,this.container.append(ht.render()),this.container}};br(Dt,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let mt=Dt;class Et{constructor(ct){this.container=ct.container,this.trigger=ct.trigger,this.color=ct.color,this.titleObj=ct.titleObj,this.modificationDate=ct.modificationDate,this.contentsObj=ct.contentsObj,this.richText=ct.richText,this.hideWrapper=ct.hideWrapper||!1,this.pinned=!1}render(){var rn,dn;const ht=document.createElement("div");ht.className="popupWrapper",this.hideElement=this.hideWrapper?ht:this.container,this.hideElement.hidden=!0;const wt=document.createElement("div");wt.className="popup";const xt=this.color;if(xt){const gn=.7*(255-xt[0])+xt[0],tn=.7*(255-xt[1])+xt[1],_n=.7*(255-xt[2])+xt[2];wt.style.backgroundColor=s.Util.makeHexColor(gn|0,tn|0,_n|0)}const bt=document.createElement("h1");bt.dir=this.titleObj.dir,bt.textContent=this.titleObj.str,wt.append(bt);const Bt=c.PDFDateString.toDateObject(this.modificationDate);if(Bt){const gn=document.createElement("span");gn.className="popupDate",gn.textContent="{{date}}, {{time}}",gn.dataset.l10nId="annotation_date_string",gn.dataset.l10nArgs=JSON.stringify({date:Bt.toLocaleDateString(),time:Bt.toLocaleTimeString()}),wt.append(gn)}if((rn=this.richText)!=null&&rn.str&&(!((dn=this.contentsObj)!=null&&dn.str)||this.contentsObj.str===this.richText.str))ut.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:wt}),wt.lastChild.className="richText popupContent";else{const gn=this._formatContents(this.contentsObj);wt.append(gn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const gn of this.trigger)gn.addEventListener("click",this._toggle.bind(this)),gn.addEventListener("mouseover",this._show.bind(this,!1)),gn.addEventListener("mouseout",this._hide.bind(this,!1));return wt.addEventListener("click",this._hide.bind(this,!0)),ht.append(wt),ht}_formatContents({str:ct,dir:ht}){const wt=document.createElement("p");wt.className="popupContent",wt.dir=ht;const xt=ct.split(/(?:\r\n?|\n)/);for(let bt=0,Bt=xt.length;bt<Bt;++bt){const rn=xt[bt];wt.append(document.createTextNode(rn)),bt<Bt-1&&wt.append(document.createElement("br"))}return wt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ct=!1){ct&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ct=!0){ct&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class $ extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0}),this.textContent=ct.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ct=document.createElement("div");ct.className="annotationTextContent",ct.setAttribute("role","comment");for(const ht of this.textContent){const wt=document.createElement("span");wt.textContent=ht,ct.append(wt)}this.container.append(ct)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ft extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ct=this.data,{width:ht,height:wt}=_t(ct.rect),xt=this.svgFactory.create(ht,wt,!0),bt=this.svgFactory.createElement("svg:line");return bt.setAttribute("x1",ct.rect[2]-ct.lineCoordinates[0]),bt.setAttribute("y1",ct.rect[3]-ct.lineCoordinates[1]),bt.setAttribute("x2",ct.rect[2]-ct.lineCoordinates[2]),bt.setAttribute("y2",ct.rect[3]-ct.lineCoordinates[3]),bt.setAttribute("stroke-width",ct.borderStyle.width||1),bt.setAttribute("stroke","transparent"),bt.setAttribute("fill","transparent"),xt.append(bt),this.container.append(xt),this._createPopup(bt,ct),this.container}}class At extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ct=this.data,{width:ht,height:wt}=_t(ct.rect),xt=this.svgFactory.create(ht,wt,!0),bt=ct.borderStyle.width,Bt=this.svgFactory.createElement("svg:rect");return Bt.setAttribute("x",bt/2),Bt.setAttribute("y",bt/2),Bt.setAttribute("width",ht-bt),Bt.setAttribute("height",wt-bt),Bt.setAttribute("stroke-width",bt||1),Bt.setAttribute("stroke","transparent"),Bt.setAttribute("fill","transparent"),xt.append(Bt),this.container.append(xt),this._createPopup(Bt,ct),this.container}}class gt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ct=this.data,{width:ht,height:wt}=_t(ct.rect),xt=this.svgFactory.create(ht,wt,!0),bt=ct.borderStyle.width,Bt=this.svgFactory.createElement("svg:ellipse");return Bt.setAttribute("cx",ht/2),Bt.setAttribute("cy",wt/2),Bt.setAttribute("rx",ht/2-bt/2),Bt.setAttribute("ry",wt/2-bt/2),Bt.setAttribute("stroke-width",bt||1),Bt.setAttribute("stroke","transparent"),Bt.setAttribute("fill","transparent"),xt.append(Bt),this.container.append(xt),this._createPopup(Bt,ct),this.container}}class kt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ct=this.data,{width:ht,height:wt}=_t(ct.rect),xt=this.svgFactory.create(ht,wt,!0);let bt=[];for(const rn of ct.vertices){const dn=rn.x-ct.rect[0],gn=ct.rect[3]-rn.y;bt.push(dn+","+gn)}bt=bt.join(" ");const Bt=this.svgFactory.createElement(this.svgElementName);return Bt.setAttribute("points",bt),Bt.setAttribute("stroke-width",ct.borderStyle.width||1),Bt.setAttribute("stroke","transparent"),Bt.setAttribute("fill","transparent"),xt.append(Bt),this.container.append(xt),this._createPopup(Bt,ct),this.container}}class Kt extends kt{constructor(ct){super(ct),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $t extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ln extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ct=this.data,{width:ht,height:wt}=_t(ct.rect),xt=this.svgFactory.create(ht,wt,!0);for(const bt of ct.inkLists){let Bt=[];for(const dn of bt){const gn=dn.x-ct.rect[0],tn=ct.rect[3]-dn.y;Bt.push(`${gn},${tn}`)}Bt=Bt.join(" ");const rn=this.svgFactory.createElement(this.svgElementName);rn.setAttribute("points",Bt),rn.setAttribute("stroke-width",ct.borderStyle.width||1),rn.setAttribute("stroke","transparent"),rn.setAttribute("fill","transparent"),this._createPopup(rn,ct),xt.append(rn)}return this.container.append(xt),this.container}}class en extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class zt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Lt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Xt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Qt extends at{constructor(ct){var wt,xt,bt;const ht=!!(ct.data.hasPopup||(wt=ct.data.titleObj)!=null&&wt.str||(xt=ct.data.contentsObj)!=null&&xt.str||(bt=ct.data.richText)!=null&&bt.str);super(ct,{isRenderable:ht,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class St extends at{constructor(ct){var xt;super(ct,{isRenderable:!0});const{filename:ht,content:wt}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(ht,!0),this.content=wt,(xt=this.linkService.eventBus)==null||xt.dispatch("fileattachmentannotation",{source:this,filename:ht,content:wt})}render(){var ht,wt;this.container.className="fileAttachmentAnnotation";let ct;return this.data.hasAppearance?ct=document.createElement("div"):(ct=document.createElement("img"),ct.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),ct.className="popupTriggerArea",ct.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((ht=this.data.titleObj)!=null&&ht.str||(wt=this.data.contentsObj)!=null&&wt.str||this.data.richText)&&this._createPopup(ct,this.data),this.container.append(ct),this.container}_download(){var ct;(ct=this.downloadManager)==null||ct.openOrDownloadData(this.container,this.content,this.filename)}}const nn=class nn{static render(ct){var dn,gn;const{annotations:ht,div:wt,viewport:xt,accessibilityManager:bt}=ct;(0,c.setLayerDimensions)(wt,xt);const Bt={data:null,layer:wt,page:ct.page,viewport:xt,linkService:ct.linkService,downloadManager:ct.downloadManager,imageResourcesPath:ct.imageResourcesPath||"",renderForms:ct.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:ct.annotationStorage||new a.AnnotationStorage,enableScripting:ct.enableScripting===!0,hasJSActions:ct.hasJSActions,fieldObjects:ct.fieldObjects};let rn=0;for(const tn of ht){if(tn.annotationType!==s.AnnotationType.POPUP){const{width:An,height:Cn}=_t(tn.rect);if(An<=0||Cn<=0)continue}Bt.data=tn;const _n=lt.create(Bt);if(!_n.isRenderable)continue;const mn=_n.render();if(tn.hidden&&(mn.style.visibility="hidden"),Array.isArray(mn))for(const An of mn)An.style.zIndex=rn++,hn(dn=nn,Nt,ls).call(dn,An,tn.id,wt,bt);else mn.style.zIndex=rn++,_n instanceof mt?wt.prepend(mn):hn(gn=nn,Nt,ls).call(gn,mn,tn.id,wt,bt)}hn(this,sn,cs).call(this,wt,ct.annotationCanvasMap)}static update(ct){const{annotationCanvasMap:ht,div:wt,viewport:xt}=ct;(0,c.setLayerDimensions)(wt,{rotation:xt.rotation}),hn(this,sn,cs).call(this,wt,ht),wt.hidden=!1}};Nt=new WeakSet,ls=function(ct,ht,wt,xt){const bt=ct.firstChild||ct;bt.id=`${c.AnnotationPrefix}${ht}`,wt.append(ct),xt==null||xt.moveElementInDOM(wt,ct,bt,!1)},sn=new WeakSet,cs=function(ct,ht){if(ht){for(const[wt,xt]of ht){const bt=ct.querySelector(`[data-annotation-id="${wt}"]`);if(!bt)continue;const{firstChild:Bt}=bt;Bt?Bt.nodeName==="CANVAS"?Bt.replaceWith(xt):Bt.before(xt):bt.append(xt)}ht.clear()}},on(nn,Nt),on(nn,sn);let rt=nn;i.AnnotationLayer=rt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function o(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}class s{static CMYK_G([a,h,ut,ot]){return["G",1-Math.min(1,.3*a+.59*ut+.11*h+ot)]}static G_CMYK([a]){return["CMYK",0,0,0,1-a]}static G_RGB([a]){return["RGB",a,a,a]}static G_HTML([a]){const h=o(a);return`#${h}${h}${h}`}static RGB_G([a,h,ut]){return["G",.3*a+.59*h+.11*ut]}static RGB_HTML([a,h,ut]){const ot=o(a),_e=o(h),it=o(ut);return`#${ot}${_e}${it}`}static T_HTML(){return"#00000000"}static CMYK_RGB([a,h,ut,ot]){return["RGB",1-Math.min(1,a+ot),1-Math.min(1,ut+ot),1-Math.min(1,h+ot)]}static CMYK_HTML(a){const h=this.CMYK_RGB(a).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([a,h,ut]){const ot=1-a,_e=1-h,it=1-ut,_t=Math.min(ot,_e,it);return["CMYK",ot,_e,it,_t]}}i.ColorConverters=s},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var s=o(19);class c{static setupStorage(h,ut,ot,_e,it){const _t=_e.getValue(ut,{value:null});switch(ot.name){case"textarea":if(_t.value!==null&&(h.textContent=_t.value),it==="print")break;h.addEventListener("input",lt=>{_e.setValue(ut,{value:lt.target.value})});break;case"input":if(ot.attributes.type==="radio"||ot.attributes.type==="checkbox"){if(_t.value===ot.attributes.xfaOn?h.setAttribute("checked",!0):_t.value===ot.attributes.xfaOff&&h.removeAttribute("checked"),it==="print")break;h.addEventListener("change",lt=>{_e.setValue(ut,{value:lt.target.checked?lt.target.getAttribute("xfaOn"):lt.target.getAttribute("xfaOff")})})}else{if(_t.value!==null&&h.setAttribute("value",_t.value),it==="print")break;h.addEventListener("input",lt=>{_e.setValue(ut,{value:lt.target.value})})}break;case"select":if(_t.value!==null)for(const lt of ot.children)lt.attributes.value===_t.value&&(lt.attributes.selected=!0);h.addEventListener("input",lt=>{const at=lt.target.options,tt=at.selectedIndex===-1?"":at[at.selectedIndex].value;_e.setValue(ut,{value:tt})});break}}static setAttributes({html:h,element:ut,storage:ot=null,intent:_e,linkService:it}){const{attributes:_t}=ut,lt=h instanceof HTMLAnchorElement;_t.type==="radio"&&(_t.name=`${_t.name}-${_e}`);for(const[at,tt]of Object.entries(_t))if(tt!=null)switch(at){case"class":tt.length&&h.setAttribute(at,tt.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",tt);break;case"style":Object.assign(h.style,tt);break;case"textContent":h.textContent=tt;break;default:(!lt||at!=="href"&&at!=="newWindow")&&h.setAttribute(at,tt)}lt&&it.addLinkAttributes(h,_t.href,_t.newWindow),ot&&_t.dataId&&this.setupStorage(h,_t.dataId,ut,ot)}static render(h){var st;const ut=h.annotationStorage,ot=h.linkService,_e=h.xfaHtml,it=h.intent||"display",_t=document.createElement(_e.name);_e.attributes&&this.setAttributes({html:_t,element:_e,intent:it,linkService:ot});const lt=[[_e,-1,_t]],at=h.div;if(at.append(_t),h.viewport){const dt=`matrix(${h.viewport.transform.join(",")})`;at.style.transform=dt}it!=="richText"&&at.setAttribute("class","xfaLayer xfaFont");const tt=[];for(;lt.length>0;){const[dt,b,_]=lt.at(-1);if(b+1===dt.children.length){lt.pop();continue}const d=dt.children[++lt.at(-1)[1]];if(d===null)continue;const{name:g}=d;if(g==="#text"){const mt=document.createTextNode(d.value);tt.push(mt),_.append(mt);continue}let et;if((st=d==null?void 0:d.attributes)!=null&&st.xmlns?et=document.createElementNS(d.attributes.xmlns,g):et=document.createElement(g),_.append(et),d.attributes&&this.setAttributes({html:et,element:d,storage:ut,intent:it,linkService:ot}),d.children&&d.children.length>0)lt.push([d,-1,et]);else if(d.value){const mt=document.createTextNode(d.value);s.XfaText.shouldBuildText(g)&&tt.push(mt),et.append(mt)}}for(const dt of at.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:tt}}static update(h){const ut=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=ut,h.div.hidden=!1}}i.XfaLayer=c},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var s=o(6),c=o(1),a=o(10);let h=class{constructor(){(0,c.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=h;{let _=function($){let ft=[];const At=[];for(const gt of $){if(gt.fn==="save"){ft.push({fnId:92,fn:"group",items:[]}),At.push(ft),ft=ft.at(-1).items;continue}gt.fn==="restore"?ft=At.pop():ft.push(gt)}return ft},d=function($){if(Number.isInteger($))return $.toString();const ft=$.toFixed(10);let At=ft.length-1;if(ft[At]!=="0")return ft;do At--;while(ft[At]==="0");return ft.substring(0,ft[At]==="."?At:At+1)},g=function($){if($[4]===0&&$[5]===0){if($[1]===0&&$[2]===0)return $[0]===1&&$[3]===1?"":`scale(${d($[0])} ${d($[3])})`;if($[0]===$[3]&&$[1]===-$[2]){const ft=Math.acos($[0])*180/Math.PI;return`rotate(${d(ft)})`}}else if($[0]===1&&$[1]===0&&$[2]===0&&$[3]===1)return`translate(${d($[4])} ${d($[5])})`;return`matrix(${d($[0])} ${d($[1])} ${d($[2])} ${d($[3])} ${d($[4])} ${d($[5])})`};var ut=_,ot=d,_e=g;const it={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},_t="http://www.w3.org/XML/1998/namespace",lt="http://www.w3.org/1999/xlink",at=["butt","round","square"],tt=["miter","round","bevel"],st=function($,ft="",At=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!At)return URL.createObjectURL(new Blob([$],{type:ft}));const gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let kt=`data:${ft};base64,`;for(let Kt=0,$t=$.length;Kt<$t;Kt+=3){const ln=$[Kt]&255,en=$[Kt+1]&255,zt=$[Kt+2]&255,Lt=ln>>2,Xt=(ln&3)<<4|en>>4,Qt=Kt+1<$t?(en&15)<<2|zt>>6:64,St=Kt+2<$t?zt&63:64;kt+=gt[Lt]+gt[Xt]+gt[Qt]+gt[St]}return kt},dt=function(){const $=new Uint8Array([137,80,78,71,13,10,26,10]),ft=12,At=new Int32Array(256);for(let zt=0;zt<256;zt++){let Lt=zt;for(let Xt=0;Xt<8;Xt++)Lt&1?Lt=3988292384^Lt>>1&2147483647:Lt=Lt>>1&2147483647;At[zt]=Lt}function gt(zt,Lt,Xt){let Qt=-1;for(let St=Lt;St<Xt;St++){const rt=(Qt^zt[St])&255,nt=At[rt];Qt=Qt>>>8^nt}return Qt^-1}function kt(zt,Lt,Xt,Qt){let St=Qt;const rt=Lt.length;Xt[St]=rt>>24&255,Xt[St+1]=rt>>16&255,Xt[St+2]=rt>>8&255,Xt[St+3]=rt&255,St+=4,Xt[St]=zt.charCodeAt(0)&255,Xt[St+1]=zt.charCodeAt(1)&255,Xt[St+2]=zt.charCodeAt(2)&255,Xt[St+3]=zt.charCodeAt(3)&255,St+=4,Xt.set(Lt,St),St+=Lt.length;const nt=gt(Xt,Qt+4,St);Xt[St]=nt>>24&255,Xt[St+1]=nt>>16&255,Xt[St+2]=nt>>8&255,Xt[St+3]=nt&255}function Kt(zt,Lt,Xt){let Qt=1,St=0;for(let rt=Lt;rt<Xt;++rt)Qt=(Qt+(zt[rt]&255))%65521,St=(St+Qt)%65521;return St<<16|Qt}function $t(zt){if(!a.isNodeJS)return ln(zt);try{let Lt;parseInt(process.versions.node)>=8?Lt=zt:Lt=Buffer.from(zt);const Xt=require$$5.deflateSync(Lt,{level:9});return Xt instanceof Uint8Array?Xt:new Uint8Array(Xt)}catch(Lt){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Lt)}return ln(zt)}function ln(zt){let Lt=zt.length;const Xt=65535,Qt=Math.ceil(Lt/Xt),St=new Uint8Array(2+Lt+Qt*5+4);let rt=0;St[rt++]=120,St[rt++]=156;let nt=0;for(;Lt>Xt;)St[rt++]=0,St[rt++]=255,St[rt++]=255,St[rt++]=0,St[rt++]=0,St.set(zt.subarray(nt,nt+Xt),rt),rt+=Xt,nt+=Xt,Lt-=Xt;St[rt++]=1,St[rt++]=Lt&255,St[rt++]=Lt>>8&255,St[rt++]=~Lt&65535&255,St[rt++]=(~Lt&65535)>>8&255,St.set(zt.subarray(nt),rt),rt+=zt.length-nt;const vt=Kt(zt,0,zt.length);return St[rt++]=vt>>24&255,St[rt++]=vt>>16&255,St[rt++]=vt>>8&255,St[rt++]=vt&255,St}function en(zt,Lt,Xt,Qt){const St=zt.width,rt=zt.height;let nt,vt,Pt;const Rt=zt.data;switch(Lt){case c.ImageKind.GRAYSCALE_1BPP:vt=0,nt=1,Pt=St+7>>3;break;case c.ImageKind.RGB_24BPP:vt=2,nt=8,Pt=St*3;break;case c.ImageKind.RGBA_32BPP:vt=6,nt=8,Pt=St*4;break;default:throw new Error("invalid format")}const Dt=new Uint8Array((1+Pt)*rt);let Nt=0,Zt=0;for(let ht=0;ht<rt;++ht)Dt[Nt++]=0,Dt.set(Rt.subarray(Zt,Zt+Pt),Nt),Zt+=Pt,Nt+=Pt;if(Lt===c.ImageKind.GRAYSCALE_1BPP&&Qt){Nt=0;for(let ht=0;ht<rt;ht++){Nt++;for(let wt=0;wt<Pt;wt++)Dt[Nt++]^=255}}const sn=new Uint8Array([St>>24&255,St>>16&255,St>>8&255,St&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,nt,vt,0,0,0]),Jt=$t(Dt),nn=$.length+ft*3+sn.length+Jt.length,Yt=new Uint8Array(nn);let ct=0;return Yt.set($,ct),ct+=$.length,kt("IHDR",sn,Yt,ct),ct+=ft+sn.length,kt("IDATA",Jt,Yt,ct),ct+=ft+Jt.length,kt("IEND",new Uint8Array(0),Yt,ct),st(Yt,"image/png",Xt)}return function(Lt,Xt,Qt){const St=Lt.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Lt.kind;return en(Lt,St,Xt,Qt)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=it.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=it.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ft,At){this.x=ft,this.y=At}}let et=0,mt=0,Et=0;i.SVGGraphics=h=class{constructor($,ft,At=!1){(0,s.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new s.DOMSVGFactory,this.current=new b,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=$,this.objs=ft,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!At,this._operatorIdMapping=[];for(const gt in c.OPS)this._operatorIdMapping[c.OPS[gt]]=gt}getObject($,ft=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ft}save(){this.transformStack.push(this.transformMatrix);const $=this.current;this.extraStack.push($),this.current=$.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group($){this.save(),this.executeOpTree($),this.restore()}loadDependencies($){const ft=$.fnArray,At=$.argsArray;for(let gt=0,kt=ft.length;gt<kt;gt++)if(ft[gt]===c.OPS.dependency)for(const Kt of At[gt]){const $t=Kt.startsWith("g_")?this.commonObjs:this.objs,ln=new Promise(en=>{$t.get(Kt,en)});this.current.dependencies.push(ln)}return Promise.all(this.current.dependencies)}transform($,ft,At,gt,kt,Kt){const $t=[$,ft,At,gt,kt,Kt];this.transformMatrix=c.Util.transform(this.transformMatrix,$t),this.tgrp=null}getSVG($,ft){this.viewport=ft;const At=this._initialize(ft);return this.loadDependencies($).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList($)),At))}convertOpList($){const ft=this._operatorIdMapping,At=$.argsArray,gt=$.fnArray,kt=[];for(let Kt=0,$t=gt.length;Kt<$t;Kt++){const ln=gt[Kt];kt.push({fnId:ln,fn:ft[ln],args:At[Kt]})}return _(kt)}executeOpTree($){for(const ft of $){const At=ft.fn,gt=ft.fnId,kt=ft.args;switch(gt|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(kt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(kt[0],kt[1]);break;case c.OPS.setFont:this.setFont(kt);break;case c.OPS.showText:this.showText(kt[0]);break;case c.OPS.showSpacedText:this.showText(kt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(kt[0],kt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(kt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(kt[0]);break;case c.OPS.setHScale:this.setHScale(kt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5]);break;case c.OPS.setTextRise:this.setTextRise(kt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(kt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(kt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(kt[0]);break;case c.OPS.setLineCap:this.setLineCap(kt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(kt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(kt[0],kt[1],kt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(kt[0],kt[1],kt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(kt);break;case c.OPS.setFillColorN:this.setFillColorN(kt);break;case c.OPS.shadingFill:this.shadingFill(kt[0]);break;case c.OPS.setDash:this.setDash(kt[0],kt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(kt[0]);break;case c.OPS.setFlatness:this.setFlatness(kt[0]);break;case c.OPS.setGState:this.setGState(kt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(kt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(kt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(kt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(kt[0],kt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5]);break;case c.OPS.constructPath:this.constructPath(kt[0],kt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(ft.items);break;default:(0,c.warn)(`Unimplemented operator ${At}`);break}}}setWordSpacing($){this.current.wordSpacing=$}setCharSpacing($){this.current.charSpacing=$}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix($,ft,At,gt,kt,Kt){const $t=this.current;$t.textMatrix=$t.lineMatrix=[$,ft,At,gt,kt,Kt],$t.textMatrixScale=Math.hypot($,ft),$t.x=$t.lineX=0,$t.y=$t.lineY=0,$t.xcoords=[],$t.ycoords=[],$t.tspan=this.svgFactory.createElement("svg:tspan"),$t.tspan.setAttributeNS(null,"font-family",$t.fontFamily),$t.tspan.setAttributeNS(null,"font-size",`${d($t.fontSize)}px`),$t.tspan.setAttributeNS(null,"y",d(-$t.y)),$t.txtElement=this.svgFactory.createElement("svg:text"),$t.txtElement.append($t.tspan)}beginText(){const $=this.current;$.x=$.lineX=0,$.y=$.lineY=0,$.textMatrix=c.IDENTITY_MATRIX,$.lineMatrix=c.IDENTITY_MATRIX,$.textMatrixScale=1,$.tspan=this.svgFactory.createElement("svg:tspan"),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtgrp=this.svgFactory.createElement("svg:g"),$.xcoords=[],$.ycoords=[]}moveText($,ft){const At=this.current;At.x=At.lineX+=$,At.y=At.lineY+=ft,At.xcoords=[],At.ycoords=[],At.tspan=this.svgFactory.createElement("svg:tspan"),At.tspan.setAttributeNS(null,"font-family",At.fontFamily),At.tspan.setAttributeNS(null,"font-size",`${d(At.fontSize)}px`),At.tspan.setAttributeNS(null,"y",d(-At.y))}showText($){const ft=this.current,At=ft.font,gt=ft.fontSize;if(gt===0)return;const kt=ft.fontSizeScale,Kt=ft.charSpacing,$t=ft.wordSpacing,ln=ft.fontDirection,en=ft.textHScale*ln,zt=At.vertical,Lt=zt?1:-1,Xt=At.defaultVMetrics,Qt=gt*ft.fontMatrix[0];let St=0;for(const vt of $){if(vt===null){St+=ln*$t;continue}else if(typeof vt=="number"){St+=Lt*vt*gt/1e3;continue}const Pt=(vt.isSpace?$t:0)+Kt,Rt=vt.fontChar;let Dt,Nt,Zt=vt.width;if(zt){let Jt;const nn=vt.vmetric||Xt;Jt=vt.vmetric?nn[1]:Zt*.5,Jt=-Jt*Qt;const Yt=nn[2]*Qt;Zt=nn?-nn[0]:Zt,Dt=Jt/kt,Nt=(St+Yt)/kt}else Dt=St/kt,Nt=0;(vt.isInFont||At.missingFile)&&(ft.xcoords.push(ft.x+Dt),zt&&ft.ycoords.push(-ft.y+Nt),ft.tspan.textContent+=Rt);let sn;zt?sn=Zt*Qt-Pt*ln:sn=Zt*Qt+Pt*ln,St+=sn}ft.tspan.setAttributeNS(null,"x",ft.xcoords.map(d).join(" ")),zt?ft.tspan.setAttributeNS(null,"y",ft.ycoords.map(d).join(" ")):ft.tspan.setAttributeNS(null,"y",d(-ft.y)),zt?ft.y-=St:ft.x+=St*en,ft.tspan.setAttributeNS(null,"font-family",ft.fontFamily),ft.tspan.setAttributeNS(null,"font-size",`${d(ft.fontSize)}px`),ft.fontStyle!==it.fontStyle&&ft.tspan.setAttributeNS(null,"font-style",ft.fontStyle),ft.fontWeight!==it.fontWeight&&ft.tspan.setAttributeNS(null,"font-weight",ft.fontWeight);const rt=ft.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(rt===c.TextRenderingMode.FILL||rt===c.TextRenderingMode.FILL_STROKE?(ft.fillColor!==it.fillColor&&ft.tspan.setAttributeNS(null,"fill",ft.fillColor),ft.fillAlpha<1&&ft.tspan.setAttributeNS(null,"fill-opacity",ft.fillAlpha)):ft.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?ft.tspan.setAttributeNS(null,"fill","transparent"):ft.tspan.setAttributeNS(null,"fill","none"),rt===c.TextRenderingMode.STROKE||rt===c.TextRenderingMode.FILL_STROKE){const vt=1/(ft.textMatrixScale||1);this._setStrokeAttributes(ft.tspan,vt)}let nt=ft.textMatrix;ft.textRise!==0&&(nt=nt.slice(),nt[5]+=ft.textRise),ft.txtElement.setAttributeNS(null,"transform",`${g(nt)} scale(${d(en)}, -1)`),ft.txtElement.setAttributeNS(_t,"xml:space","preserve"),ft.txtElement.append(ft.tspan),ft.txtgrp.append(ft.txtElement),this._ensureTransformGroup().append(ft.txtElement)}setLeadingMoveText($,ft){this.setLeading(-ft),this.moveText($,ft)}addFontStyle($){if(!$.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ft=st($.data,$.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${$.loadedName}"; src: url(${ft}); }
`}setFont($){const ft=this.current,At=this.commonObjs.get($[0]);let gt=$[1];ft.font=At,this.embedFonts&&!At.missingFile&&!this.embeddedFonts[At.loadedName]&&(this.addFontStyle(At),this.embeddedFonts[At.loadedName]=At),ft.fontMatrix=At.fontMatrix||c.FONT_IDENTITY_MATRIX;let kt="normal";At.black?kt="900":At.bold&&(kt="bold");const Kt=At.italic?"italic":"normal";gt<0?(gt=-gt,ft.fontDirection=-1):ft.fontDirection=1,ft.fontSize=gt,ft.fontFamily=At.loadedName,ft.fontWeight=kt,ft.fontStyle=Kt,ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.tspan.setAttributeNS(null,"y",d(-ft.y)),ft.xcoords=[],ft.ycoords=[]}endText(){var ft;const $=this.current;$.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((ft=$.txtElement)!=null&&ft.hasChildNodes())&&($.element=$.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth($){$>0&&(this.current.lineWidth=$)}setLineCap($){this.current.lineCap=at[$]}setLineJoin($){this.current.lineJoin=tt[$]}setMiterLimit($){this.current.miterLimit=$}setStrokeAlpha($){this.current.strokeAlpha=$}setStrokeRGBColor($,ft,At){this.current.strokeColor=c.Util.makeHexColor($,ft,At)}setFillAlpha($){this.current.fillAlpha=$}setFillRGBColor($,ft,At){this.current.fillColor=c.Util.makeHexColor($,ft,At),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN($){this.current.strokeColor=this._makeColorN_Pattern($)}setFillColorN($){this.current.fillColor=this._makeColorN_Pattern($)}shadingFill($){const ft=this.viewport.width,At=this.viewport.height,gt=c.Util.inverseTransform(this.transformMatrix),kt=c.Util.applyTransform([0,0],gt),Kt=c.Util.applyTransform([0,At],gt),$t=c.Util.applyTransform([ft,0],gt),ln=c.Util.applyTransform([ft,At],gt),en=Math.min(kt[0],Kt[0],$t[0],ln[0]),zt=Math.min(kt[1],Kt[1],$t[1],ln[1]),Lt=Math.max(kt[0],Kt[0],$t[0],ln[0]),Xt=Math.max(kt[1],Kt[1],$t[1],ln[1]),Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x",en),Qt.setAttributeNS(null,"y",zt),Qt.setAttributeNS(null,"width",Lt-en),Qt.setAttributeNS(null,"height",Xt-zt),Qt.setAttributeNS(null,"fill",this._makeShadingPattern($)),this.current.fillAlpha<1&&Qt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Qt)}_makeColorN_Pattern($){return $[0]==="TilingPattern"?this._makeTilingPattern($):this._makeShadingPattern($)}_makeTilingPattern($){const ft=$[1],At=$[2],gt=$[3]||c.IDENTITY_MATRIX,[kt,Kt,$t,ln]=$[4],en=$[5],zt=$[6],Lt=$[7],Xt=`shading${Et++}`,[Qt,St,rt,nt]=c.Util.normalizeRect([...c.Util.applyTransform([kt,Kt],gt),...c.Util.applyTransform([$t,ln],gt)]),[vt,Pt]=c.Util.singularValueDecompose2dScale(gt),Rt=en*vt,Dt=zt*Pt,Nt=this.svgFactory.createElement("svg:pattern");Nt.setAttributeNS(null,"id",Xt),Nt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Nt.setAttributeNS(null,"width",Rt),Nt.setAttributeNS(null,"height",Dt),Nt.setAttributeNS(null,"x",`${Qt}`),Nt.setAttributeNS(null,"y",`${St}`);const Zt=this.svg,sn=this.transformMatrix,Jt=this.current.fillColor,nn=this.current.strokeColor,Yt=this.svgFactory.create(rt-Qt,nt-St);if(this.svg=Yt,this.transformMatrix=gt,Lt===2){const ct=c.Util.makeHexColor(...ft);this.current.fillColor=ct,this.current.strokeColor=ct}return this.executeOpTree(this.convertOpList(At)),this.svg=Zt,this.transformMatrix=sn,this.current.fillColor=Jt,this.current.strokeColor=nn,Nt.append(Yt.childNodes[0]),this.defs.append(Nt),`url(#${Xt})`}_makeShadingPattern($){switch(typeof $=="string"&&($=this.objs.get($)),$[0]){case"RadialAxial":const ft=`shading${Et++}`,At=$[3];let gt;switch($[1]){case"axial":const kt=$[4],Kt=$[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",ft),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",kt[0]),gt.setAttributeNS(null,"y1",kt[1]),gt.setAttributeNS(null,"x2",Kt[0]),gt.setAttributeNS(null,"y2",Kt[1]);break;case"radial":const $t=$[4],ln=$[5],en=$[6],zt=$[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",ft),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",ln[0]),gt.setAttributeNS(null,"cy",ln[1]),gt.setAttributeNS(null,"r",zt),gt.setAttributeNS(null,"fx",$t[0]),gt.setAttributeNS(null,"fy",$t[1]),gt.setAttributeNS(null,"fr",en);break;default:throw new Error(`Unknown RadialAxial type: ${$[1]}`)}for(const kt of At){const Kt=this.svgFactory.createElement("svg:stop");Kt.setAttributeNS(null,"offset",kt[0]),Kt.setAttributeNS(null,"stop-color",kt[1]),gt.append(Kt)}return this.defs.append(gt),`url(#${ft})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${$[0]}`)}}setDash($,ft){this.current.dashArray=$,this.current.dashPhase=ft}constructPath($,ft){const At=this.current;let gt=At.x,kt=At.y,Kt=[],$t=0;for(const ln of $)switch(ln|0){case c.OPS.rectangle:gt=ft[$t++],kt=ft[$t++];const en=ft[$t++],zt=ft[$t++],Lt=gt+en,Xt=kt+zt;Kt.push("M",d(gt),d(kt),"L",d(Lt),d(kt),"L",d(Lt),d(Xt),"L",d(gt),d(Xt),"Z");break;case c.OPS.moveTo:gt=ft[$t++],kt=ft[$t++],Kt.push("M",d(gt),d(kt));break;case c.OPS.lineTo:gt=ft[$t++],kt=ft[$t++],Kt.push("L",d(gt),d(kt));break;case c.OPS.curveTo:gt=ft[$t+4],kt=ft[$t+5],Kt.push("C",d(ft[$t]),d(ft[$t+1]),d(ft[$t+2]),d(ft[$t+3]),d(gt),d(kt)),$t+=6;break;case c.OPS.curveTo2:Kt.push("C",d(gt),d(kt),d(ft[$t]),d(ft[$t+1]),d(ft[$t+2]),d(ft[$t+3])),gt=ft[$t+2],kt=ft[$t+3],$t+=4;break;case c.OPS.curveTo3:gt=ft[$t+2],kt=ft[$t+3],Kt.push("C",d(ft[$t]),d(ft[$t+1]),d(gt),d(kt),d(gt),d(kt)),$t+=4;break;case c.OPS.closePath:Kt.push("Z");break}Kt=Kt.join(" "),At.path&&$.length>0&&$[0]!==c.OPS.rectangle&&$[0]!==c.OPS.moveTo?Kt=At.path.getAttributeNS(null,"d")+Kt:(At.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(At.path)),At.path.setAttributeNS(null,"d",Kt),At.path.setAttributeNS(null,"fill","none"),At.element=At.path,At.setCurrentPoint(gt,kt)}endPath(){const $=this.current;if($.path=null,!this.pendingClip)return;if(!$.element){this.pendingClip=null;return}const ft=`clippath${et++}`,At=this.svgFactory.createElement("svg:clipPath");At.setAttributeNS(null,"id",ft),At.setAttributeNS(null,"transform",g(this.transformMatrix));const gt=$.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,At.append(gt),this.defs.append(At),$.activeClipUrl){$.clipGroup=null;for(const kt of this.extraStack)kt.clipGroup=null;At.setAttributeNS(null,"clip-path",$.activeClipUrl)}$.activeClipUrl=`url(#${ft})`,this.tgrp=null}clip($){this.pendingClip=$}closePath(){const $=this.current;if($.path){const ft=`${$.path.getAttributeNS(null,"d")}Z`;$.path.setAttributeNS(null,"d",ft)}}setLeading($){this.current.leading=-$}setTextRise($){this.current.textRise=$}setTextRenderingMode($){this.current.textRenderingMode=$}setHScale($){this.current.textHScale=$/100}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ft,At]of $)switch(ft){case"LW":this.setLineWidth(At);break;case"LC":this.setLineCap(At);break;case"LJ":this.setLineJoin(At);break;case"ML":this.setMiterLimit(At);break;case"D":this.setDash(At[0],At[1]);break;case"RI":this.setRenderingIntent(At);break;case"FL":this.setFlatness(At);break;case"Font":this.setFont(At);break;case"CA":this.setStrokeAlpha(At);break;case"ca":this.setFillAlpha(At);break;default:(0,c.warn)(`Unimplemented graphic state operator ${ft}`);break}}fill(){const $=this.current;$.element&&($.element.setAttributeNS(null,"fill",$.fillColor),$.element.setAttributeNS(null,"fill-opacity",$.fillAlpha),this.endPath())}stroke(){const $=this.current;$.element&&(this._setStrokeAttributes($.element),$.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes($,ft=1){const At=this.current;let gt=At.dashArray;ft!==1&&gt.length>0&&(gt=gt.map(function(kt){return ft*kt})),$.setAttributeNS(null,"stroke",At.strokeColor),$.setAttributeNS(null,"stroke-opacity",At.strokeAlpha),$.setAttributeNS(null,"stroke-miterlimit",d(At.miterLimit)),$.setAttributeNS(null,"stroke-linecap",At.lineCap),$.setAttributeNS(null,"stroke-linejoin",At.lineJoin),$.setAttributeNS(null,"stroke-width",d(ft*At.lineWidth)+"px"),$.setAttributeNS(null,"stroke-dasharray",gt.map(d).join(" ")),$.setAttributeNS(null,"stroke-dashoffset",d(ft*At.dashPhase)+"px")}eoFill(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width","1px"),$.setAttributeNS(null,"height","1px"),$.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append($)}paintImageXObject($){const ft=this.getObject($);if(!ft){(0,c.warn)(`Dependent image with object ID ${$} is not ready yet`);return}this.paintInlineImageXObject(ft)}paintInlineImageXObject($,ft){const At=$.width,gt=$.height,kt=dt($,this.forceDataSchema,!!ft),Kt=this.svgFactory.createElement("svg:rect");Kt.setAttributeNS(null,"x","0"),Kt.setAttributeNS(null,"y","0"),Kt.setAttributeNS(null,"width",d(At)),Kt.setAttributeNS(null,"height",d(gt)),this.current.element=Kt,this.clip("nonzero");const $t=this.svgFactory.createElement("svg:image");$t.setAttributeNS(lt,"xlink:href",kt),$t.setAttributeNS(null,"x","0"),$t.setAttributeNS(null,"y",d(-gt)),$t.setAttributeNS(null,"width",d(At)+"px"),$t.setAttributeNS(null,"height",d(gt)+"px"),$t.setAttributeNS(null,"transform",`scale(${d(1/At)} ${d(-1/gt)})`),ft?ft.append($t):this._ensureTransformGroup().append($t)}paintImageMaskXObject($){const ft=this.getObject($.data,$);if(ft.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const At=this.current,gt=ft.width,kt=ft.height,Kt=At.fillColor;At.maskId=`mask${mt++}`;const $t=this.svgFactory.createElement("svg:mask");$t.setAttributeNS(null,"id",At.maskId);const ln=this.svgFactory.createElement("svg:rect");ln.setAttributeNS(null,"x","0"),ln.setAttributeNS(null,"y","0"),ln.setAttributeNS(null,"width",d(gt)),ln.setAttributeNS(null,"height",d(kt)),ln.setAttributeNS(null,"fill",Kt),ln.setAttributeNS(null,"mask",`url(#${At.maskId})`),this.defs.append($t),this._ensureTransformGroup().append(ln),this.paintInlineImageXObject(ft,$t)}paintFormXObjectBegin($,ft){if(Array.isArray($)&&$.length===6&&this.transform($[0],$[1],$[2],$[3],$[4],$[5]),ft){const At=ft[2]-ft[0],gt=ft[3]-ft[1],kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x",ft[0]),kt.setAttributeNS(null,"y",ft[1]),kt.setAttributeNS(null,"width",d(At)),kt.setAttributeNS(null,"height",d(gt)),this.current.element=kt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize($){const ft=this.svgFactory.create($.width,$.height),At=this.svgFactory.createElement("svg:defs");ft.append(At),this.defs=At;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",g($.transform)),ft.append(gt),this.svg=gt,ft}_ensureClipGroup(){if(!this.current.clipGroup){const $=this.svgFactory.createElement("svg:g");$.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append($),this.current.clipGroup=$}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return ut.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ot.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return _e.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return it.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return s.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return s.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.version}});var i=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),s=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),ut=__w_pdfjs_require__(32),ot=__w_pdfjs_require__(14),_e=__w_pdfjs_require__(35),it=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(e){var i=reactExports,o=pdfExports;function s(j){var pt=Object.create(null);return j&&Object.keys(j).forEach(function(Ct){if(Ct!=="default"){var Mt=Object.getOwnPropertyDescriptor(j,Ct);Object.defineProperty(pt,Ct,Mt.get?Mt:{enumerable:!0,get:function(){return j[Ct]}})}}),pt.default=j,Object.freeze(pt)}var c,a=s(i),h=s(o);e.AnnotationType=void 0,(c=e.AnnotationType||(e.AnnotationType={}))[c.Text=1]="Text",c[c.Link=2]="Link",c[c.FreeText=3]="FreeText",c[c.Line=4]="Line",c[c.Square=5]="Square",c[c.Circle=6]="Circle",c[c.Polygon=7]="Polygon",c[c.Polyline=8]="Polyline",c[c.Highlight=9]="Highlight",c[c.Underline=10]="Underline",c[c.Squiggly=11]="Squiggly",c[c.StrikeOut=12]="StrikeOut",c[c.Stamp=13]="Stamp",c[c.Caret=14]="Caret",c[c.Ink=15]="Ink",c[c.Popup=16]="Popup",c[c.FileAttachment=17]="FileAttachment";var ut=function(j,pt){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ct,Mt){Ct.__proto__=Mt}||function(Ct,Mt){for(var It in Mt)Object.prototype.hasOwnProperty.call(Mt,It)&&(Ct[It]=Mt[It])},ut(j,pt)};function ot(j,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");function Ct(){this.constructor=j}ut(j,pt),j.prototype=pt===null?Object.create(pt):(Ct.prototype=pt.prototype,new Ct)}var _e,it=function(){return it=Object.assign||function(j){for(var pt,Ct=1,Mt=arguments.length;Ct<Mt;Ct++)for(var It in pt=arguments[Ct])Object.prototype.hasOwnProperty.call(pt,It)&&(j[It]=pt[It]);return j},it.apply(this,arguments)};e.TextDirection=void 0,(_e=e.TextDirection||(e.TextDirection={})).RightToLeft="RTL",_e.LeftToRight="LTR";var _t,lt=a.createContext({currentTheme:"light",direction:e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),at=function(j){var pt=[];return Object.keys(j).forEach(function(Ct){Ct&&j[Ct]&&pt.push(Ct)}),pt.join(" ")},tt=typeof window<"u"?a.useLayoutEffect:a.useEffect,st=function(j){var pt=a.useRef(null),Ct=j.once,Mt=j.threshold,It=j.onVisibilityChanged;return tt(function(){var Ut=pt.current;if(Ut){var Gt=new IntersectionObserver(function(Vt){Vt.forEach(function(Ot){var Wt=Ot.isIntersecting,Ht=Ot.intersectionRatio;It({isVisible:Wt,ratio:Ht}),Wt&&Ct&&(Gt.unobserve(Ut),Gt.disconnect())})},{threshold:Mt||0});return Gt.observe(Ut),function(){Gt.unobserve(Ut),Gt.disconnect()}}},[]),pt},dt=function(j){var pt=j.children,Ct=j.ignoreDirection,Mt=Ct!==void 0&&Ct,It=j.size,Ut=It===void 0?24:It,Gt=a.useContext(lt).direction,Vt=!Mt&&Gt===e.TextDirection.RightToLeft,Ot="".concat(Ut||24,"px");return a.createElement("svg",{"aria-hidden":"true",className:at({"rpv-core__icon":!0,"rpv-core__icon--rtl":Vt}),focusable:"false",height:Ot,viewBox:"0 0 24 24",width:Ot},pt)},b=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_=function(j){var pt=j.children,Ct=j.testId,Mt=j.onClick,It=a.useContext(lt).direction===e.TextDirection.RightToLeft,Ut=Ct?{"data-testid":Ct}:{};return a.createElement("button",it({className:at({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":It}),type:"button",onClick:Mt},Ut),pt)},d=function(j){var pt=j.size,Ct=pt===void 0?"4rem":pt,Mt=j.testId,It=a.useState(!1),Ut=It[0],Gt=It[1],Vt=Mt?{"data-testid":Mt}:{},Ot=st({onVisibilityChanged:function(Wt){Gt(Wt.isVisible)}});return a.createElement("div",it({},Vt,{className:at({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ut}),ref:Ot,style:{height:Ct,width:Ct}}))},g=function(j){var pt=j.ariaLabel,Ct=pt===void 0?"":pt,Mt=j.autoFocus,It=Mt!==void 0&&Mt,Ut=j.placeholder,Gt=Ut===void 0?"":Ut,Vt=j.testId,Ot=j.type,Wt=Ot===void 0?"text":Ot,Ht=j.value,un=Ht===void 0?"":Ht,cn=j.onChange,an=j.onKeyDown,wn=an===void 0?function(){}:an,Sn=a.useContext(lt).direction,yn=a.useRef(),Qn=Sn===e.TextDirection.RightToLeft,On={ref:yn,"data-testid":"","aria-label":Ct,className:at({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Qn}),placeholder:Gt,value:un,onChange:function(Ln){return cn(Ln.target.value)},onKeyDown:wn};return Vt&&(On["data-testid"]=Vt),tt(function(){if(It){var Ln=yn.current;if(Ln){var Un=window.scrollX,Tn=window.scrollY;Ln.focus(),window.scrollTo(Un,Tn)}}},[]),Wt==="text"?a.createElement("input",it({type:"text"},On)):a.createElement("input",it({type:"password"},On))};(function(j){j[j.ExitFullScreen=0]="ExitFullScreen",j[j.FullScreenChange=1]="FullScreenChange",j[j.FullScreenElement=2]="FullScreenElement",j[j.FullScreenEnabled=3]="FullScreenEnabled",j[j.RequestFullScreen=4]="RequestFullScreen"})(_t||(_t={}));var et,mt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Et={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},$={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ft=typeof window<"u",At=ft&&(_t.FullScreenEnabled in document&&mt||Et.FullScreenEnabled in document&&Et||$.FullScreenEnabled in document&&$)||mt,gt=function(){return ft&&At.FullScreenEnabled in document&&document[At.FullScreenEnabled]===!0},kt=function(j){return ft?j[At.ExitFullScreen]():Promise.resolve({})},Kt=function(){return ft?document[At.FullScreenElement]:null},$t=function(j,pt){var Ct=a.useRef(),Mt=function(){Ct.current&&clearTimeout(Ct.current)};return a.useEffect(function(){return function(){return Mt()}},[]),a.useCallback(function(){for(var It=[],Ut=0;Ut<arguments.length;Ut++)It[Ut]=arguments[Ut];Mt(),Ct.current=setTimeout(function(){j.apply(void 0,It)},pt)},[j,pt])},ln=function(){var j=a.useRef(!1);return a.useEffect(function(){return j.current=!0,function(){j.current=!1}},[]),j},en=function(j){var pt=a.useRef(j);return a.useEffect(function(){pt.current=j},[j]),pt.current};(function(j){j.NotRenderedYet="NotRenderedYet",j.Rendering="Rendering",j.Rendered="Rendered"})(et||(et={}));var zt,Lt=-9999,Xt=function(j){var pt=j.doc,Ct=pt.numPages,Mt=pt.loadingTask.docId,It=a.useMemo(function(){return Array(Ct).fill(null).map(function(Vt,Ot){return{pageIndex:Ot,renderStatus:et.NotRenderedYet,visibility:Lt}})},[Mt]),Ut=a.useRef({currentRenderingPage:-1,startRange:0,endRange:Ct-1,visibilities:It}),Gt=function(Vt,Ot){Ut.current.visibilities[Vt].visibility=Ot};return{getHighestPriorityPage:function(){var Vt=Ut.current.visibilities.slice(Ut.current.startRange,Ut.current.endRange+1).filter(function(cn){return cn.visibility>Lt});if(!Vt.length)return-1;for(var Ot=Vt[0].pageIndex,Wt=Vt[Vt.length-1].pageIndex,Ht=Vt.length,un=0;un<Ht;un++){if(Vt[un].renderStatus===et.Rendering)return-1;if(Vt[un].renderStatus===et.NotRenderedYet)return Vt[un].pageIndex}return Wt+1<Ct&&Ut.current.visibilities[Wt+1].renderStatus!==et.Rendered?Wt+1:Ot-1>=0&&Ut.current.visibilities[Ot-1].renderStatus!==et.Rendered?Ot-1:-1},isInRange:function(Vt){return Vt>=Ut.current.startRange&&Vt<=Ut.current.endRange},markNotRendered:function(){for(var Vt=0;Vt<Ct;Vt++)Ut.current.visibilities[Vt].renderStatus=et.NotRenderedYet},markRendered:function(Vt){Ut.current.visibilities[Vt].renderStatus=et.Rendered},markRendering:function(Vt){Ut.current.currentRenderingPage!==-1&&Ut.current.currentRenderingPage!==Vt&&Ut.current.visibilities[Ut.current.currentRenderingPage].renderStatus===et.Rendering&&(Ut.current.visibilities[Ut.current.currentRenderingPage].renderStatus=et.NotRenderedYet),Ut.current.visibilities[Vt].renderStatus=et.Rendering,Ut.current.currentRenderingPage=Vt},setOutOfRange:function(Vt){Gt(Vt,Lt)},setRange:function(Vt,Ot){Ut.current.startRange=Vt,Ut.current.endRange=Ot;for(var Wt=0;Wt<Ct;Wt++)(Wt<Vt||Wt>Ot)&&(Ut.current.visibilities[Wt].visibility=Lt,Ut.current.visibilities[Wt].renderStatus=et.NotRenderedYet)},setVisibility:Gt}},Qt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},St=a.createContext({l10n:Qt,setL10n:function(){}}),rt=0,nt=function(){return rt++},vt=function(j,pt,Ct){var Mt=function(It){var Ut=pt.current;if(Ut){var Gt=It.target;if(Gt instanceof Element&&Gt.shadowRoot){var Vt=It.composedPath();Vt.length>0&&!Ut.contains(Vt[0])&&Ct()}else Ut.contains(Gt)||Ct()}};a.useEffect(function(){if(j){var It={capture:!0};return document.addEventListener("click",Mt,It),function(){document.removeEventListener("click",Mt,It)}}},[])},Pt=function(j){var pt=function(Ct){Ct.key==="Escape"&&j()};a.useEffect(function(){return document.addEventListener("keyup",pt),function(){document.removeEventListener("keyup",pt)}},[])},Rt=function(j){var pt=j.ariaControlsSuffix,Ct=j.children,Mt=j.closeOnClickOutside,It=j.closeOnEscape,Ut=j.onToggle,Gt=a.useRef(),Vt=a.useContext(lt).direction===e.TextDirection.RightToLeft;return a.useEffect(function(){var Ot=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ot}},[]),Pt(function(){Gt.current&&It&&Ut()}),vt(Mt,Gt,Ut),tt(function(){var Ot=Gt.current;if(Ot){var Wt=.75*document.body.clientHeight;Ot.getBoundingClientRect().height>=Wt&&(Ot.style.overflow="auto",Ot.style.maxHeight="".concat(Wt,"px"))}},[]),a.createElement("div",{"aria-modal":"true",className:at({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Vt}),id:"rpv-core__modal-body-".concat(pt),ref:Gt,role:"dialog",tabIndex:-1},Ct)},Dt=function(j){var pt=j.children;return a.createElement("div",{className:"rpv-core__modal-overlay"},pt)};e.ToggleStatus=void 0,(zt=e.ToggleStatus||(e.ToggleStatus={})).Close="Close",zt.Open="Open",zt.Toggle="Toggle";var Nt,Zt=function(j){var pt=a.useState(j),Ct=pt[0],Mt=pt[1];return{opened:Ct,toggle:function(It){switch(It){case e.ToggleStatus.Close:Mt(!1);break;case e.ToggleStatus.Open:Mt(!0);break;case e.ToggleStatus.Toggle:default:Mt(function(Ut){return!Ut})}}}},sn=function(j){var pt=j.content,Ct=j.isOpened,Mt=Ct!==void 0&&Ct,It=j.target,Ut=Zt(Mt),Gt=Ut.opened,Vt=Ut.toggle;return a.createElement(a.Fragment,null,It&&It(Vt,Gt),Gt&&pt(Vt))};e.Position=void 0,(Nt=e.Position||(e.Position={})).TopLeft="TOP_LEFT",Nt.TopCenter="TOP_CENTER",Nt.TopRight="TOP_RIGHT",Nt.RightTop="RIGHT_TOP",Nt.RightCenter="RIGHT_CENTER",Nt.RightBottom="RIGHT_BOTTOM",Nt.BottomLeft="BOTTOM_LEFT",Nt.BottomCenter="BOTTOM_CENTER",Nt.BottomRight="BOTTOM_RIGHT",Nt.LeftTop="LEFT_TOP",Nt.LeftCenter="LEFT_CENTER",Nt.LeftBottom="LEFT_BOTTOM";var Jt,nn,Yt,ct,ht,wt,xt,bt,Bt=function(j,pt,Ct,Mt,It){tt(function(){var Ut=pt.current,Gt=j.current,Vt=Ct.current;if(Gt&&Ut&&Vt){var Ot=Vt.getBoundingClientRect(),Wt=function(cn,an,wn,Sn){var yn=an.getBoundingClientRect(),Qn=cn.getBoundingClientRect(),On=Qn.height,Ln=Qn.width,Un=0,Tn=0;switch(wn){case e.Position.TopLeft:Un=yn.top-On,Tn=yn.left;break;case e.Position.TopCenter:Un=yn.top-On,Tn=yn.left+yn.width/2-Ln/2;break;case e.Position.TopRight:Un=yn.top-On,Tn=yn.left+yn.width-Ln;break;case e.Position.RightTop:Un=yn.top,Tn=yn.left+yn.width;break;case e.Position.RightCenter:Un=yn.top+yn.height/2-On/2,Tn=yn.left+yn.width;break;case e.Position.RightBottom:Un=yn.top+yn.height-On,Tn=yn.left+yn.width;break;case e.Position.BottomLeft:Un=yn.top+yn.height,Tn=yn.left;break;case e.Position.BottomCenter:Un=yn.top+yn.height,Tn=yn.left+yn.width/2-Ln/2;break;case e.Position.BottomRight:Un=yn.top+yn.height,Tn=yn.left+yn.width-Ln;break;case e.Position.LeftTop:Un=yn.top,Tn=yn.left-Ln;break;case e.Position.LeftCenter:Un=yn.top+yn.height/2-On/2,Tn=yn.left-Ln;break;case e.Position.LeftBottom:Un=yn.top+yn.height-On,Tn=yn.left-Ln}return{left:Tn+(Sn.left||0),top:Un+(Sn.top||0)}}(Gt,Ut,Mt,It),Ht=Wt.top,un=Wt.left;Gt.style.top="".concat(Ht-Ot.top,"px"),Gt.style.left="".concat(un-Ot.left,"px")}},[])},rn=function(j){var pt,Ct=j.customClassName,Mt=j.position;return a.createElement("div",{className:at((pt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Mt===e.Position.TopLeft,"rpv-core__arrow--tc":Mt===e.Position.TopCenter,"rpv-core__arrow--tr":Mt===e.Position.TopRight,"rpv-core__arrow--rt":Mt===e.Position.RightTop,"rpv-core__arrow--rc":Mt===e.Position.RightCenter,"rpv-core__arrow--rb":Mt===e.Position.RightBottom,"rpv-core__arrow--bl":Mt===e.Position.BottomLeft,"rpv-core__arrow--bc":Mt===e.Position.BottomCenter,"rpv-core__arrow--br":Mt===e.Position.BottomRight,"rpv-core__arrow--lt":Mt===e.Position.LeftTop,"rpv-core__arrow--lc":Mt===e.Position.LeftCenter,"rpv-core__arrow--lb":Mt===e.Position.LeftBottom},pt["".concat(Ct)]=Ct!=="",pt))})},dn=function(j){var pt=j.ariaControlsSuffix,Ct=j.children,Mt=j.closeOnClickOutside,It=j.offset,Ut=j.position,Gt=j.targetRef,Vt=j.onClose,Ot=a.useRef(),Wt=a.useRef(),Ht=a.useRef(),un=a.useContext(lt).direction===e.TextDirection.RightToLeft;vt(Mt,Ot,Vt),Bt(Ot,Gt,Ht,Ut,It),tt(function(){var an=Wt.current;if(an){var wn=.75*document.body.clientHeight;an.getBoundingClientRect().height>=wn&&(an.style.overflow="auto",an.style.maxHeight="".concat(wn,"px"))}},[]);var cn="rpv-core__popover-body-inner-".concat(pt);return a.createElement(a.Fragment,null,a.createElement("div",{ref:Ht,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{"aria-describedby":cn,className:at({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":un}),id:"rpv-core__popover-body-".concat(pt),ref:Ot,role:"dialog",tabIndex:-1},a.createElement(rn,{customClassName:"rpv-core__popover-body-arrow",position:Ut}),a.createElement("div",{id:cn,ref:Wt},Ct)))},gn=function(j){var pt=j.closeOnEscape,Ct=j.onClose,Mt=a.useRef();return Pt(function(){Mt.current&&pt&&Ct()}),a.createElement("div",{className:"rpv-core__popover-overlay",ref:Mt})},tn=function(j){var pt=j.ariaControlsSuffix,Ct=j.children,Mt=j.contentRef,It=j.offset,Ut=j.position,Gt=j.targetRef,Vt=a.useRef(),Ot=a.useContext(lt).direction===e.TextDirection.RightToLeft;return Bt(Mt,Gt,Vt,Ut,It),a.createElement(a.Fragment,null,a.createElement("div",{ref:Vt,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{className:at({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ot}),id:"rpv-core__tooltip-body-".concat(pt),ref:Mt,role:"tooltip"},a.createElement(rn,{customClassName:"rpv-core__tooltip-body-arrow",position:Ut}),a.createElement("div",{className:"rpv-core__tooltip-body-content"},Ct)))};e.FullScreenMode=void 0,(Jt=e.FullScreenMode||(e.FullScreenMode={})).Normal="Normal",Jt.Entering="Entering",Jt.Entered="Entered",Jt.EnteredCompletely="EnteredCompletely",Jt.Exitting="Exitting",Jt.Exited="Exited",e.LayerRenderStatus=void 0,(nn=e.LayerRenderStatus||(e.LayerRenderStatus={}))[nn.PreRender=0]="PreRender",nn[nn.DidRender=1]="DidRender",e.PageMode=void 0,(Yt=e.PageMode||(e.PageMode={})).Attachments="UseAttachments",Yt.Bookmarks="UseOutlines",Yt.ContentGroup="UseOC",Yt.Default="UserNone",Yt.FullScreen="FullScreen",Yt.Thumbnails="UseThumbs",e.PasswordStatus=void 0,(ct=e.PasswordStatus||(e.PasswordStatus={})).RequiredPassword="RequiredPassword",ct.WrongPassword="WrongPassword",e.RotateDirection=void 0,(ht=e.RotateDirection||(e.RotateDirection={})).Backward="Backward",ht.Forward="Forward",e.ScrollMode=void 0,(wt=e.ScrollMode||(e.ScrollMode={})).Page="Page",wt.Horizontal="Horizontal",wt.Vertical="Vertical",wt.Wrapped="Wrapped",e.SpecialZoomLevel=void 0,(xt=e.SpecialZoomLevel||(e.SpecialZoomLevel={})).ActualSize="ActualSize",xt.PageFit="PageFit",xt.PageWidth="PageWidth",e.ViewMode=void 0,(bt=e.ViewMode||(e.ViewMode={})).DualPage="DualPage",bt.DualPageWithCover="DualPageWithCover",bt.SinglePage="SinglePage";var _n,mn=function(j,pt){return j.reduce(function(Ct,Mt,It){return It%pt?Ct[Ct.length-1].push(Mt):Ct.push([Mt]),Ct},[])},An=function(j,pt){switch(pt[1].name){case"XYZ":return{bottomOffset:function(Ct,Mt){return pt[3]===null?Mt:pt[3]},leftOffset:function(Ct,Mt){return pt[2]===null?0:pt[2]},pageIndex:j,scaleTo:pt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:j,scaleTo:e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:pt[2],leftOffset:0,pageIndex:j,scaleTo:e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:j,scaleTo:1}}},Cn=new Map,Bn=new Map,$n=function(j,pt){return"".concat(j.loadingTask.docId,"___").concat(pt.num,"R").concat(pt.gen===0?"":pt.gen)},zn=function(j,pt,Ct){Cn.set($n(j,pt),Ct)},Tt=function(j,pt){if(!j)return Promise.reject("The document is not loaded yet");var Ct="".concat(j.loadingTask.docId,"___").concat(pt),Mt=Bn.get(Ct);return Mt?Promise.resolve(Mt):new Promise(function(It,Ut){j.getPage(pt+1).then(function(Gt){Bn.set(Ct,Gt),Gt.ref&&zn(j,Gt.ref,pt),It(Gt)})})},Ft=function(j,pt){return new Promise(function(Ct){new Promise(function(Mt){typeof pt=="string"?j.getDestination(pt).then(function(It){Mt(It)}):Mt(pt)}).then(function(Mt){if(typeof Mt[0]=="object"&&Mt[0]!==null){var It=Mt[0],Ut=function(Vt,Ot){var Wt=$n(Vt,Ot);return Cn.has(Wt)?Cn.get(Wt):null}(j,It);Ut===null?j.getPageIndex(It).then(function(Vt){zn(j,It,Vt),Ft(j,pt).then(function(Ot){return Ct(Ot)})}):Ct(An(Ut,Mt))}else{var Gt=An(Mt[0],Mt);Ct(Gt)}})})};(function(j){j[j.Solid=1]="Solid",j[j.Dashed=2]="Dashed",j[j.Beveled=3]="Beveled",j[j.Inset=4]="Inset",j[j.Underline=5]="Underline"})(_n||(_n={}));var jt,fn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),jn=function(j,pt,Ct,Mt){var It=parseInt(j,10);return It>=pt&&It<=Ct?It:Mt},Jn=function(j){return j.contentsObj?j.contentsObj.str:j.contents||""},qt=function(j){return j.titleObj?j.titleObj.str:j.title||""},pn=function(j){var pt=j.annotation,Ct=a.useContext(lt).direction,Mt=qt(pt),It=Jn(pt),Ut=Ct===e.TextDirection.RightToLeft,Gt=a.useRef(),Vt="";if(pt.modificationDate){var Ot=function(Wt){var Ht=fn.exec(Wt);if(!Ht)return null;var un=parseInt(Ht[1],10),cn=jn(Ht[2],1,12,1)-1,an=jn(Ht[3],1,31,1),wn=jn(Ht[4],0,23,0),Sn=jn(Ht[5],0,59,0),yn=jn(Ht[6],0,59,0),Qn=Ht[7]||"Z",On=jn(Ht[8],0,23,0),Ln=jn(Ht[9],0,59,0);switch(Qn){case"-":wn+=On,Sn+=Ln;break;case"+":wn-=On,Sn-=Ln}return new Date(Date.UTC(un,cn,an,wn,Sn,yn))}(pt.modificationDate);Vt=Ot?"".concat(Ot.toLocaleDateString(),", ").concat(Ot.toLocaleTimeString()):""}return a.useLayoutEffect(function(){if(Gt.current){var Wt=document.querySelector('[data-annotation-id="'.concat(pt.id,'"]'));if(Wt){var Ht=Wt;return Ht.style.zIndex+=1,function(){Ht.style.zIndex="".concat(parseInt(Ht.style.zIndex,10)-1)}}}},[]),a.createElement("div",{ref:Gt,className:at({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ut}),style:{top:pt.annotationType===e.AnnotationType.Popup?"":"100%"}},Mt&&a.createElement(a.Fragment,null,a.createElement("div",{className:at({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ut,"rpv-core__annotation-popup-title--rtl":Ut})},Mt),a.createElement("div",{className:"rpv-core__annotation-popup-date"},Vt)),It&&a.createElement("div",{className:"rpv-core__annotation-popup-content"},It.split(`
`).map(function(Wt,Ht){return a.createElement(a.Fragment,{key:Ht},Wt,a.createElement("br",null))})))};(function(j){j.Click="Click",j.Hover="Hover"})(jt||(jt={}));var En,bn=function(j){var pt,Ct=j.annotation,Mt=j.children,It=j.ignoreBorder,Ut=j.hasPopup,Gt=j.isRenderable,Vt=j.page,Ot=j.viewport,Wt=Ct.rect,Ht=function(){var In=Zt(!1),sr=In.opened,or=In.toggle,ar=a.useState(jt.Hover),cr=ar[0],dr=ar[1];return{opened:sr,closeOnHover:function(){cr===jt.Hover&&or(e.ToggleStatus.Close)},openOnHover:function(){cr===jt.Hover&&or(e.ToggleStatus.Open)},toggleOnClick:function(){switch(cr){case jt.Click:sr&&dr(jt.Hover),or(e.ToggleStatus.Toggle);break;case jt.Hover:dr(jt.Click),or(e.ToggleStatus.Open)}}}}(),un=Ht.closeOnHover,cn=Ht.opened,an=Ht.openOnHover,wn=Ht.toggleOnClick,Sn=(pt=[Wt[0],Vt.view[3]+Vt.view[1]-Wt[1],Wt[2],Vt.view[3]+Vt.view[1]-Wt[3]],[Math.min(pt[0],pt[2]),Math.min(pt[1],pt[3]),Math.max(pt[0],pt[2]),Math.max(pt[1],pt[3])]),yn=Wt[2]-Wt[0],Qn=Wt[3]-Wt[1],On={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!It&&Ct.borderStyle.width>0){switch(Ct.borderStyle.style){case _n.Dashed:On.borderStyle="dashed";break;case _n.Solid:On.borderStyle="solid";break;case _n.Underline:On=Object.assign({borderBottomStyle:"solid"},On);case _n.Beveled:case _n.Inset:}var Ln=Ct.borderStyle.width;On.borderWidth="".concat(Ln,"px"),Ct.borderStyle.style!==_n.Underline&&(yn-=2*Ln,Qn-=2*Ln);var Un=Ct.borderStyle,Tn=Un.horizontalCornerRadius,Vn=Un.verticalCornerRadius;(Tn>0||Vn>0)&&(On.borderRadius="".concat(Tn,"px / ").concat(Vn,"px")),Ct.color?On.borderColor="rgb(".concat(0|Ct.color[0],", ").concat(0|Ct.color[1],", ").concat(0|Ct.color[2],")"):On.borderWidth="0"}return a.createElement(a.Fragment,null,Gt&&Mt({popup:{opened:cn,closeOnHover:un,openOnHover:an,toggleOnClick:wn},slot:{attrs:{style:Object.assign({height:"".concat(Qn,"px"),left:"".concat(Sn[0],"px"),top:"".concat(Sn[1],"px"),transform:"matrix(".concat(Ot.transform.join(","),")"),transformOrigin:"-".concat(Sn[0],"px -").concat(Sn[1],"px"),width:"".concat(yn,"px")},On)},children:a.createElement(a.Fragment,null,Ut&&cn&&a.createElement(pn,{annotation:Ct}))}}))},Yn=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},lr=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},a.createElement("circle",{cy:Ht/2,fill:"none",rx:Wt/2-un/2,ry:Ht/2-un/2,stroke:"transparent",strokeWidth:un||1})),cn.slot.children)})},Zn=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=qt(pt),Ut=Jn(pt),Gt=!(pt.hasPopup!==!1||!It&&!Ut),Vt=function(){var Ot,Wt,Ht,un,cn=pt.file;cn&&(Ot=cn.filename,Wt=cn.content,Ht=typeof Wt=="string"?"":URL.createObjectURL(new Blob([Wt],{type:""})),(un=document.createElement("a")).style.display="none",un.href=Ht||Ot,un.setAttribute("download",function(an){var wn=an.split("/").pop();return wn?wn.split("#")[0].split("?")[0]:an}(Ot)),document.body.appendChild(un),un.click(),document.body.removeChild(un),Ht&&URL.revokeObjectURL(Ht))};return a.createElement(bn,{annotation:pt,hasPopup:Gt,ignoreBorder:!0,isRenderable:!0,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onDoubleClick:Vt,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},er=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},Kn=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=qt(pt),Ut=Jn(pt),Gt=!(!It&&!Ut),Vt=!pt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(pt.parentType)!==-1;return tt(function(){if(pt.parentId){var Ot=document.querySelector('[data-annotation-id="'.concat(pt.parentId,'"]')),Wt=document.querySelector('[data-annotation-id="'.concat(pt.id,'"]'));if(Ot&&Wt){var Ht=parseFloat(Ot.style.left),un=parseFloat(Ot.style.top)+parseFloat(Ot.style.height);Wt.style.left="".concat(Ht,"px"),Wt.style.top="".concat(un,"px"),Wt.style.transformOrigin="-".concat(Ht,"px -").concat(un,"px")}}},[]),a.createElement(bn,{annotation:pt,hasPopup:Vt,ignoreBorder:!1,isRenderable:Gt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":pt.id}),a.createElement(pn,{annotation:pt}))})},ir=function(j){var pt=j.annotation,Ct=j.childAnnotation,Mt=j.page,It=j.viewport,Ut=pt.hasPopup===!1,Gt=qt(pt),Vt=Jn(pt),Ot=!!(pt.hasPopup||Gt||Vt);if(pt.quadPoints&&pt.quadPoints.length>0){var Wt=pt.quadPoints.map(function(Ht){return Object.assign({},pt,{rect:[Ht[2].x,Ht[2].y,Ht[1].x,Ht[1].y],quadPoints:[]})});return a.createElement(a.Fragment,null,Wt.map(function(Ht,un){return a.createElement(ir,{key:un,annotation:Ht,childAnnotation:Ct,page:Mt,viewport:It})}))}return a.createElement(bn,{annotation:pt,hasPopup:Ut,ignoreBorder:!0,isRenderable:Ot,page:Mt,viewport:It},function(Ht){return a.createElement(a.Fragment,null,a.createElement("div",it({},Ht.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":pt.id,onClick:Ht.popup.toggleOnClick,onMouseEnter:Ht.popup.openOnHover,onMouseLeave:Ht.popup.closeOnHover}),Ht.slot.children),Ct&&Ct.annotationType===e.AnnotationType.Popup&&Ht.popup.opened&&a.createElement(Kn,{annotation:Ct,page:Mt,viewport:It}))})},xr=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),pt.inkLists&&pt.inkLists.length&&a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},pt.inkLists.map(function(an,wn){return a.createElement("polyline",{key:wn,fill:"none",stroke:"transparent",strokeWidth:un||1,points:an.map(function(Sn){return"".concat(Sn.x-Ot[0],",").concat(Ot[3]-Sn.y)}).join(" ")})})),cn.slot.children)})},Er=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},a.createElement("line",{stroke:"transparent",strokeWidth:un||1,x1:Ot[2]-pt.lineCoordinates[0],x2:Ot[2]-pt.lineCoordinates[2],y1:Ot[3]-pt.lineCoordinates[1],y2:Ot[3]-pt.lineCoordinates[3]})),cn.slot.children)})},Ar=/^([^\w]*)(javascript|data|vbscript)/im,wr=/&#(\w+)(^\w|;)?/g,mr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Dr=/^([^:]+):/gm,jr=function(j,pt){pt===void 0&&(pt="about:blank");var Ct,Mt=(Ct=j||"",Ct.replace(wr,function(Vt,Ot){return String.fromCharCode(Ot)})).replace(mr,"").trim();if(!Mt)return pt;var It=Mt[0];if(It==="."||It==="/")return Mt;var Ut=Mt.match(Dr);if(!Ut)return Mt;var Gt=Ut[0];return Ar.test(Gt)?pt:Mt},Xr=function(j){var pt,Ct=j.annotation,Mt=j.annotationContainerRef,It=j.doc,Ut=j.outlines,Gt=j.page,Vt=j.pageIndex,Ot=j.scale,Wt=j.viewport,Ht=j.onExecuteNamedAction,un=j.onJumpFromLinkAnnotation,cn=j.onJumpToDest,an=a.useRef(),wn=Ut&&Ut.length&&Ct.dest&&typeof Ct.dest=="string"?(pt=Ut.find(function(On){return On.dest===Ct.dest}))===null||pt===void 0?void 0:pt.title:"",Sn=!!(Ct.url||Ct.dest||Ct.action||Ct.unsafeUrl),yn={};if(Ct.url||Ct.unsafeUrl){var Qn=jr(Ct.url||Ct.unsafeUrl,"");Qn?yn={"data-target":"external",href:Qn,rel:"noopener noreferrer nofollow",target:Ct.newWindow?"_blank":"",title:Qn}:Sn=!1}else yn={href:"","data-annotation-link":Ct.id,onClick:function(On){On.preventDefault(),Ct.action?Ht(Ct.action):Ft(It,Ct.dest).then(function(Ln){var Un=an.current,Tn=Mt.current;if(Un&&Tn){var Vn=Un.getBoundingClientRect();Tn.style.setProperty("height","100%"),Tn.style.setProperty("width","100%");var In=Tn.getBoundingClientRect();Tn.style.removeProperty("height"),Tn.style.removeProperty("width");var sr=(Vn.left-In.left)/Ot,or=(In.bottom-Vn.bottom+Vn.height)/Ot;un({bottomOffset:or,label:wn,leftOffset:sr,pageIndex:Vt})}cn(Ln)})}};return wn&&(yn=Object.assign({},yn,{title:wn,"aria-label":wn})),a.createElement(bn,{annotation:Ct,hasPopup:!1,ignoreBorder:!1,isRenderable:Sn,page:Gt,viewport:Wt},function(On){return a.createElement("div",it({},On.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ct.id,"data-testid":"core__annotation--link-".concat(Ct.id)}),a.createElement("a",it({ref:an},yn)))})},zr=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),pt.vertices&&pt.vertices.length&&a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},a.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:un||1,points:pt.vertices.map(function(an){return"".concat(an.x-Ot[0],",").concat(Ot[3]-an.y)}).join(" ")})),cn.slot.children)})},ro=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),pt.vertices&&pt.vertices.length&&a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},a.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:un||1,points:pt.vertices.map(function(an){return"".concat(an.x-Ot[0],",").concat(Ot[3]-an.y)}).join(" ")})),cn.slot.children)})},io=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt),Ot=pt.rect,Wt=Ot[2]-Ot[0],Ht=Ot[3]-Ot[1],un=pt.borderStyle.width;return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(cn){return a.createElement("div",it({},cn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":pt.id,onClick:cn.popup.toggleOnClick,onMouseEnter:cn.popup.openOnHover,onMouseLeave:cn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Ht,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Wt," ").concat(Ht),width:"".concat(Wt,"px")},a.createElement("rect",{height:Ht-un,fill:"none",stroke:"transparent",strokeWidth:un||1,x:un/2,y:un/2,width:Wt-un})),cn.slot.children)})},oo=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},so=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},ao=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},yo=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),a.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),a.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),a.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},_o=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),a.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),a.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),a.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),a.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),a.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),a.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),a.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),a.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),a.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ks=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),a.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Qs=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),a.createElement("path",{d:"M6 4.5L6 0.5"}),a.createElement("path",{d:"M18 4.5L18 0.5"}),a.createElement("path",{d:"M10 4.5L10 0.5"}),a.createElement("path",{d:"M14 4.5L14 0.5"}))},Zs=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),a.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),a.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Js=function(){return a.createElement(dt,{size:16},a.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},na=function(j){var pt=j.annotation,Ct=j.childAnnotation,Mt=j.page,It=j.viewport,Ut=pt.hasPopup===!1,Gt=qt(pt),Vt=Jn(pt),Ot=!!(pt.hasPopup||Gt||Vt),Wt=pt.name?pt.name.toLowerCase():"";return a.createElement(bn,{annotation:pt,hasPopup:Ut,ignoreBorder:!1,isRenderable:Ot,page:Mt,viewport:It},function(Ht){return a.createElement(a.Fragment,null,a.createElement("div",it({},Ht.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":pt.id,onClick:Ht.popup.toggleOnClick,onMouseEnter:Ht.popup.openOnHover,onMouseLeave:Ht.popup.closeOnHover}),Wt&&a.createElement("div",{className:"rpv-core__annotation-text-icon"},Wt==="check"&&a.createElement(b,null),Wt==="comment"&&a.createElement(yo,null),Wt==="help"&&a.createElement(_o,null),Wt==="insert"&&a.createElement(Js,null),Wt==="key"&&a.createElement(Ks,null),Wt==="note"&&a.createElement(Qs,null),(Wt==="newparagraph"||Wt==="paragraph")&&a.createElement(Zs,null)),Ht.slot.children),Ct&&Ct.annotationType===e.AnnotationType.Popup&&Ht.popup.opened&&a.createElement(Kn,{annotation:Ct,page:Mt,viewport:It}))})},ga=function(j){var pt=j.annotation,Ct=j.page,Mt=j.viewport,It=pt.hasPopup===!1,Ut=qt(pt),Gt=Jn(pt),Vt=!!(pt.hasPopup||Ut||Gt);return a.createElement(bn,{annotation:pt,hasPopup:It,ignoreBorder:!0,isRenderable:Vt,page:Ct,viewport:Mt},function(Ot){return a.createElement("div",it({},Ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":pt.id,onClick:Ot.popup.toggleOnClick,onMouseEnter:Ot.popup.openOnHover,onMouseLeave:Ot.popup.closeOnHover}),Ot.slot.children)})},_a=function(j){var pt=j.annotations,Ct=j.doc,Mt=j.outlines,It=j.page,Ut=j.pageIndex,Gt=j.plugins,Vt=j.rotation,Ot=j.scale,Wt=j.onExecuteNamedAction,Ht=j.onJumpFromLinkAnnotation,un=j.onJumpToDest,cn=a.useRef(),an=It.getViewport({rotation:Vt,scale:Ot}).clone({dontFlip:!0}),wn=pt.filter(function(Sn){return!Sn.parentId});return tt(function(){var Sn=cn.current;Sn&&Gt.forEach(function(yn){yn.onAnnotationLayerRender&&yn.onAnnotationLayerRender({annotations:wn,container:Sn,pageIndex:Ut,rotation:Vt,scale:Ot})})},[]),a.createElement("div",{ref:cn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ut)},wn.map(function(Sn){var yn=pt.find(function(Qn){return Qn.parentId===Sn.id});switch(Sn.annotationType){case e.AnnotationType.Caret:return a.createElement(Yn,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Circle:return a.createElement(lr,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.FileAttachment:return a.createElement(Zn,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.FreeText:return a.createElement(er,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Highlight:return a.createElement(ir,{key:Sn.id,annotation:Sn,childAnnotation:yn,page:It,viewport:an});case e.AnnotationType.Ink:return a.createElement(xr,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Line:return a.createElement(Er,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Link:return a.createElement(Xr,{key:Sn.id,annotation:Sn,annotationContainerRef:cn,doc:Ct,outlines:Mt,page:It,pageIndex:Ut,scale:Ot,viewport:an,onExecuteNamedAction:Wt,onJumpFromLinkAnnotation:Ht,onJumpToDest:un});case e.AnnotationType.Polygon:return a.createElement(zr,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Polyline:return a.createElement(ro,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Popup:return a.createElement(Kn,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Square:return a.createElement(io,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Squiggly:return a.createElement(oo,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Stamp:return a.createElement(so,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.StrikeOut:return a.createElement(ao,{key:Sn.id,annotation:Sn,page:It,viewport:an});case e.AnnotationType.Text:return a.createElement(na,{key:Sn.id,annotation:Sn,childAnnotation:yn,page:It,viewport:an});case e.AnnotationType.Underline:return a.createElement(ga,{key:Sn.id,annotation:Sn,page:It,viewport:an});default:return a.createElement(a.Fragment,{key:Sn.id})}}))},ba=function(j){var pt=j.page,Ct=j.renderAnnotations,Mt=ln(),It=a.useState({loading:!0,annotations:[]}),Ut=It[0],Gt=It[1];return a.useEffect(function(){pt.getAnnotations({intent:"display"}).then(function(Vt){Mt.current&&Gt({loading:!1,annotations:Vt})})},[]),Ut.loading?a.createElement(a.Fragment,null):Ct(Ut.annotations)},xa=function(j){var pt=j.doc,Ct=j.outlines,Mt=j.page,It=j.pageIndex,Ut=j.plugins,Gt=j.rotation,Vt=j.scale,Ot=j.onExecuteNamedAction,Wt=j.onJumpFromLinkAnnotation,Ht=j.onJumpToDest;return a.createElement(ba,{page:Mt,renderAnnotations:function(un){return a.createElement(_a,{annotations:un,doc:pt,outlines:Ct,page:Mt,pageIndex:It,plugins:Ut,rotation:Gt,scale:Vt,onExecuteNamedAction:Ot,onJumpFromLinkAnnotation:Wt,onJumpToDest:Ht})}})},So=function(j,pt){var Ct=j%pt;return Ct===0?j:Math.floor(j-Ct)},$a=function(j){var pt=j.canvasLayerRef,Ct=j.height,Mt=j.page,It=j.pageIndex,Ut=j.plugins,Gt=j.rotation,Vt=j.scale,Ot=j.width,Wt=j.onRenderCanvasCompleted,Ht=a.useRef();return tt(function(){var un=Ht.current;un&&un.cancel();var cn=pt.current;cn.removeAttribute("data-testid"),Ut.forEach(function(In){In.onCanvasLayerRender&&In.onCanvasLayerRender({ele:cn,pageIndex:It,rotation:Gt,scale:Vt,status:e.LayerRenderStatus.PreRender})});var an=Mt.getViewport({rotation:Gt,scale:Vt}),wn=window.devicePixelRatio||1,Sn=Math.sqrt(16777216/(an.width*an.height)),yn=wn>Sn;yn?cn.style.transform="scale(1, 1)":cn.style.removeProperty("transform");var Qn=Math.min(Sn,wn),On=function(In,sr){var or,ar;if(Math.floor(In)===In)return[In,1];var cr=1/In;if(cr>sr)return[1,sr];if(Math.floor(cr)===cr)return[1,cr];for(var dr=In>1?cr:In,Rr=0,_r=1,Mr=1,kr=1;;){var Pr=Rr+Mr,Tr=_r+kr;if(Tr>sr)break;dr<=Pr/Tr?(Mr=(or=[Pr,Tr])[0],kr=or[1]):(Rr=(ar=[Pr,Tr])[0],_r=ar[1])}return dr<(Rr/_r+Mr/kr)/2?dr===In?[Rr,_r]:[_r,Rr]:dr===In?[Mr,kr]:[kr,Mr]}(Qn,8),Ln=On[0],Un=On[1];cn.width=So(an.width*Qn,Ln),cn.height=So(an.height*Qn,Ln),cn.style.width="".concat(So(an.width,Un),"px"),cn.style.height="".concat(So(an.height,Un),"px"),cn.hidden=!0;var Tn=cn.getContext("2d",{alpha:!1}),Vn=yn||wn!==1?[Qn,0,0,Qn,0,0]:null;return Ht.current=Mt.render({canvasContext:Tn,transform:Vn,viewport:an}),Ht.current.promise.then(function(){cn.hidden=!1,cn.setAttribute("data-testid","core__canvas-layer-".concat(It)),Ut.forEach(function(In){In.onCanvasLayerRender&&In.onCanvasLayerRender({ele:cn,pageIndex:It,rotation:Gt,scale:Vt,status:e.LayerRenderStatus.DidRender})}),Wt()},function(){Wt()}),function(){cn&&(cn.width=0,cn.height=0)}},[]),a.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ct,"px"),width:"".concat(Ot,"px")}},a.createElement("canvas",{ref:pt}))},yl=function(j){var pt=j.height,Ct=j.page,Mt=j.rotation,It=j.scale,Ut=j.width,Gt=a.useRef();return tt(function(){var Vt=Gt.current,Ot=Ct.getViewport({rotation:Mt,scale:It});Ct.getOperatorList().then(function(Wt){(function(){var Ht=Gt.current;Ht&&(Ht.innerHTML="")})(),new h.SVGGraphics(Ct.commonObjs,Ct.objs).getSVG(Wt,Ot).then(function(Ht){Ht.style.height="".concat(pt,"px"),Ht.style.width="".concat(Ut,"px"),Vt.appendChild(Ht)})})},[]),a.createElement("div",{className:"rpv-core__svg-layer",ref:Gt})},_l=function(j){var pt=j.containerRef,Ct=j.page,Mt=j.pageIndex,It=j.plugins,Ut=j.rotation,Gt=j.scale,Vt=j.onRenderTextCompleted,Ot=a.useRef(),Wt=function(){var Ht=pt.current;Ht&&([].slice.call(Ht.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(un){return Ht.removeChild(un)}),[].slice.call(Ht.querySelectorAll('br[role="presentation"]')).forEach(function(un){return Ht.removeChild(un)}))};return tt(function(){var Ht=Ot.current;Ht&&Ht.cancel();var un=pt.current;if(un){un.removeAttribute("data-testid");var cn=Ct.getViewport({rotation:Ut,scale:Gt});return It.forEach(function(an){an.onTextLayerRender&&an.onTextLayerRender({ele:un,pageIndex:Mt,scale:Gt,status:e.LayerRenderStatus.PreRender})}),Ct.getTextContent().then(function(an){Wt(),Ot.current=h.renderTextLayer({container:un,textContent:an,textContentSource:an,viewport:cn}),Ot.current.promise.then(function(){un.setAttribute("data-testid","core__text-layer-".concat(Mt)),[].slice.call(un.children).forEach(function(wn){wn.classList.contains("rpv-core__text-layer-text--not")||wn.classList.add("rpv-core__text-layer-text")}),It.forEach(function(wn){wn.onTextLayerRender&&wn.onTextLayerRender({ele:un,pageIndex:Mt,scale:Gt,status:e.LayerRenderStatus.DidRender})}),Vt()},function(){un.removeAttribute("data-testid"),Vt()})}),function(){var an;Wt(),(an=Ot.current)===null||an===void 0||an.cancel()}}},[]),a.createElement("div",{className:"rpv-core__text-layer",ref:pt})},Sl=function(j){var pt=j.doc,Ct=j.measureRef,Mt=j.outlines,It=j.pageIndex,Ut=j.pageRotation,Gt=j.pageSize,Vt=j.plugins,Ot=j.renderPage,Wt=j.renderQueueKey,Ht=j.rotation,un=j.scale,cn=j.shouldRender,an=j.viewMode,wn=j.onExecuteNamedAction,Sn=j.onJumpFromLinkAnnotation,yn=j.onJumpToDest,Qn=j.onRenderCompleted,On=j.onRotatePage,Ln=ln(),Un=a.useState(null),Tn=Un[0],Vn=Un[1],In=a.useState(!1),sr=In[0],or=In[1],ar=a.useState(!1),cr=ar[0],dr=ar[1],Rr=a.useRef(),_r=a.useRef(),Mr=Math.abs(Ht+Ut)%180==0,kr=Gt.pageWidth*un,Pr=Gt.pageHeight*un,Tr=Mr?kr:Pr,Cr=Mr?Pr:kr,Ur=(Gt.rotation+Ht+Ut)%360,Gr=a.useRef(0),$r=Ot||function(Lr){return a.createElement(a.Fragment,null,Lr.canvasLayer.children,Lr.textLayer.children,Lr.annotationLayer.children)};return a.useEffect(function(){Vn(null),or(!1),dr(!1)},[Ut,Ht,un]),a.useEffect(function(){cn&&Ln.current&&!Tn&&Tt(pt,It).then(function(Lr){Ln.current&&(Gr.current=Wt,Vn(Lr))})},[cn,Tn]),a.useEffect(function(){sr&&cr&&(Wt!==Gr.current?(Vn(null),or(!1),dr(!1)):Qn(It))},[sr,cr]),a.createElement("div",{className:at({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":an===e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":an===e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":an===e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(It),ref:Ct,style:{height:"".concat(Cr,"px"),width:"".concat(Tr,"px")}},Tn?a.createElement(a.Fragment,null,$r({annotationLayer:{attrs:{},children:a.createElement(xa,{doc:pt,outlines:Mt,page:Tn,pageIndex:It,plugins:Vt,rotation:Ur,scale:un,onExecuteNamedAction:wn,onJumpFromLinkAnnotation:Sn,onJumpToDest:yn})},canvasLayer:{attrs:{},children:a.createElement($a,{canvasLayerRef:Rr,height:Cr,page:Tn,pageIndex:It,plugins:Vt,rotation:Ur,scale:un,width:Tr,onRenderCanvasCompleted:function(){Ln.current&&or(!0)}})},canvasLayerRendered:sr,doc:pt,height:Cr,pageIndex:It,rotation:Ur,scale:un,svgLayer:{attrs:{},children:a.createElement(yl,{height:Cr,page:Tn,rotation:Ur,scale:un,width:Tr})},textLayer:{attrs:{},children:a.createElement(_l,{containerRef:_r,page:Tn,pageIndex:It,plugins:Vt,rotation:Ur,scale:un,onRenderTextCompleted:function(){Ln.current&&dr(!0)}})},textLayerRendered:cr,width:Tr,markRendered:Qn,onRotatePage:function(Lr){return On(It,Lr)}}),Vt.map(function(Lr,Br){return Lr.renderPageLayer?a.createElement(a.Fragment,{key:Br},Lr.renderPageLayer({canvasLayerRef:Rr,canvasLayerRendered:sr,doc:pt,height:Cr,pageIndex:It,rotation:Ur,scale:un,textLayerRef:_r,textLayerRendered:cr,width:Tr})):a.createElement(a.Fragment,{key:Br})})):a.createElement(d,{testId:"core__page-layer-loading-".concat(It)}))},El=function(j,pt){var Ct=pt.rect;return j.height!==Ct.height||j.width!==Ct.width?Ct:j};(function(j){j.Horizontal="Horizontal",j.Vertical="Vertical",j.Both="Both"})(En||(En={}));var Al=function(j){return 1-Math.pow(1-j,4)},Eo=1e-4,us={left:0,top:0},ds={capture:!1,passive:!0},Cl=function(j){var pt=j.elementRef,Ct=j.enableSmoothScroll,Mt=j.isRtl,It=j.scrollDirection,Ut=j.onSmoothScroll,Gt=a.useState(us),Vt=Gt[0],Ot=Gt[1],Wt=a.useState(pt.current),Ht=Wt[0],un=Wt[1],cn=Mt?-1:1,an=a.useRef(It);an.current=It;var wn=a.useRef(us),Sn=a.useRef(!0),yn=a.useCallback(function(){Sn.current=!0,Ct&&Ot(wn.current),Ut(!1)},[]),Qn=a.useCallback(function(){if(Ht){switch(an.current){case En.Horizontal:wn.current={left:cn*Ht.scrollLeft,top:0};break;case En.Both:wn.current={left:cn*Ht.scrollLeft,top:Ht.scrollTop};break;case En.Vertical:default:wn.current={left:0,top:Ht.scrollTop}}Ct&&!Sn.current||Ot(wn.current)}},[Ht]);tt(function(){un(pt.current)}),tt(function(){if(Ht)return Ht.addEventListener("scroll",Qn,ds),function(){Ht.removeEventListener("scroll",Qn,ds)}},[Ht]);var On=a.useCallback(function(Ln,Un){var Tn=pt.current;if(!Tn)return Promise.resolve();var Vn={left:0,top:0};switch(an.current){case En.Horizontal:Vn.left=cn*Ln.left;break;case En.Both:Vn.left=cn*Ln.left,Vn.top=Ln.top;break;case En.Vertical:default:Vn.top=Ln.top}return Un?(Sn.current=!1,Ut(!0),new Promise(function(In,sr){(function(or,ar,cr,dr,Rr,_r){Rr===void 0&&(Rr=function(Br){return Br}),_r===void 0&&(_r=function(){});var Mr=0,kr=0,Pr=!1;switch(ar){case En.Horizontal:kr=or.scrollLeft,Mr=0;case En.Both:kr=or.scrollLeft,Mr=or.scrollTop;break;case En.Vertical:default:kr=0,Mr=or.scrollTop}var Tr=function(){Pr||(Pr=!0,or.scrollLeft=cr.left,or.scrollTop=cr.top,_r())};if(Math.abs(Mr-cr.top)<=Eo&&ar===En.Vertical)Tr();else if(Math.abs(kr-cr.left)<=Eo&&ar===En.Horizontal)Tr();else{var Cr,Ur=-1,Gr=kr-cr.left,$r=Mr-cr.top,Lr=function(Br){Ur===-1&&(Ur=Br);var Yr=Br-Ur,Nn=Math.min(Yr/dr,1),Dn=Rr(Nn),xn={left:kr-Gr*Dn,top:Mr-$r*Dn};switch(ar){case En.Horizontal:or.scrollLeft=xn.left;break;case En.Both:or.scrollLeft=xn.left,or.scrollTop=xn.top;break;case En.Vertical:default:or.scrollTop=xn.top}Math.abs(xn.top-cr.top)<=Eo&&Math.abs(xn.left-cr.left)<=Eo&&!Pr&&(window.cancelAnimationFrame(Cr),Tr()),Yr<dr?Cr=window.requestAnimationFrame(Lr):window.cancelAnimationFrame(Cr)};Cr=window.requestAnimationFrame(Lr)}})(Tn,an.current,Vn,400,Al,function(){yn(),In()})})):new Promise(function(In,sr){switch(an.current){case En.Horizontal:Tn.scrollLeft=Vn.left;break;case En.Both:Tn.scrollLeft=Vn.left,Tn.scrollTop=Vn.top;break;case En.Vertical:default:Tn.scrollTop=Vn.top}In()})},[pt]);return{scrollOffset:Vt,scrollTo:On}},po=function(j,pt,Ct){return Math.max(j,Math.min(Ct,pt))},Pl=function(j,pt){if(pt!==e.ViewMode.DualPageWithCover)return 0;if(!function(It){var Ut=It.length;if(Ut===1)return!1;for(var Gt=1;Gt<Ut;Gt++)if(It[Gt].height!==It[0].height||It[Gt].width!==It[0].width)return!0;return!1}(j))return 2*j[0].width;var Ct=mn(j.slice(1),2).map(function(It){return It.length===2?It[0].width+It[1].width:It[0].width}),Mt=[j[0].width].concat(Ct);return Math.max.apply(Math,Mt)},Tl={left:0,top:0},xl={left:0,top:0},Mo={left:0,top:0},Rl={left:0,top:0},Ml={height:0,width:0},hs={left:0,top:0},fs="data-virtual-index",Fl=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Ol=function(j){var pt=j.enableSmoothScroll,Ct=j.isRtl,Mt=j.numberOfItems,It=j.parentRef,Ut=j.setRenderRange,Gt=j.sizes,Vt=j.scrollMode,Ot=j.viewMode,Wt=a.useState(!1),Ht=Wt[0],un=Wt[1],cn=a.useCallback(function(Nn){return un(Nn)},[]),an=a.useRef(Vt);an.current=Vt;var wn=a.useRef(Ot);wn.current=Ot;var Sn=Vt===e.ScrollMode.Wrapped||Ot===e.ViewMode.DualPageWithCover||Ot===e.ViewMode.DualPage?En.Both:Vt===e.ScrollMode.Horizontal?En.Horizontal:En.Vertical,yn=Cl({elementRef:It,enableSmoothScroll:pt,isRtl:Ct,scrollDirection:Sn,onSmoothScroll:cn}),Qn=yn.scrollOffset,On=yn.scrollTo,Ln=function(Nn){var Dn=Nn.elementRef,xn=a.useState(Dn.current),Mn=xn[0],Rn=xn[1],Hn=a.useRef(!1),Wn=a.useReducer(El,{height:0,width:0}),Fn=Wn[0],Pn=Wn[1];return tt(function(){Dn.current!==Mn&&Rn(Dn.current)}),tt(function(){if(Mn&&!Hn.current){Hn.current=!0;var Gn=Mn.getBoundingClientRect(),tr=Gn.height,vr=Gn.width;Pn({rect:{height:tr,width:vr}})}},[Mn]),a.useEffect(function(){if(Mn){var Gn=new ResizeObserver(function(tr,vr){tr.forEach(function(pr){if(pr.target===Mn){var Ir=pr.contentRect,Vr=Ir.height,Xn=Ir.width;Pn({rect:{height:Vr,width:Xn}})}})});return Gn.observe(Mn),function(){Gn.unobserve(Mn)}}},[Mn]),Fn}({elementRef:It}),Un=a.useRef({scrollOffset:hs,measurements:[]});Un.current.scrollOffset=Qn;var Tn=a.useMemo(function(){return Array(Mt).fill(-1)},[]),Vn=a.useState(Tn),In=Vn[0],sr=Vn[1],or=a.useMemo(function(){var Nn=new IntersectionObserver(function(Dn){Dn.forEach(function(xn){var Mn=xn.isIntersecting?xn.intersectionRatio:-1,Rn=xn.target.getAttribute(fs);if(Rn){var Hn=parseInt(Rn,10);0<=Hn&&Hn<Mt&&sr(function(Wn){return Wn[Hn]=Mn,function(Fn,Pn,Gn){if(Gn||arguments.length===2)for(var tr,vr=0,pr=Pn.length;vr<pr;vr++)!tr&&vr in Pn||(tr||(tr=Array.prototype.slice.call(Pn,0,vr)),tr[vr]=Pn[vr]);return Fn.concat(tr||Array.prototype.slice.call(Pn))}([],Wn,!0)})}})},{threshold:Fl});return Nn},[]),ar=a.useMemo(function(){return Vt===e.ScrollMode.Page&&Ot===e.ViewMode.SinglePage?function(Nn,Dn,xn){for(var Mn=[],Rn=0;Rn<Nn;Rn++){var Hn={height:Math.max(Dn.height,xn[Rn].height),width:Math.max(Dn.width,xn[Rn].width)},Wn=Rn===0?Rl:Mn[Rn-1].end,Fn={left:Wn.left+Hn.width,top:Wn.top+Hn.height};Mn[Rn]={index:Rn,start:Wn,size:Hn,end:Fn,visibility:-1}}return Mn}(Mt,Ln,Gt):Ot===e.ViewMode.DualPageWithCover?function(Nn,Dn,xn,Mn){for(var Rn=[],Hn=0,Wn=0,Fn=Mo,Pn=0;Pn<Nn;Pn++){var Gn=Pn===0?{height:Mn===e.ScrollMode.Page?Math.max(Dn.height,xn[Pn].height):xn[Pn].height,width:Mn===e.ScrollMode.Page?Math.max(Dn.width,xn[Pn].width):xn[Pn].width}:{height:Mn===e.ScrollMode.Page?Math.max(Dn.height,xn[Pn].height):xn[Pn].height,width:Math.max(Dn.width/2,xn[Pn].width)};Mn===e.ScrollMode.Page?Fn=Pn===0?Mo:{left:Pn%2==0?Gn.width:0,top:Math.floor((Pn-1)/2)*Gn.height+Rn[0].end.top}:Pn===0?(Fn=Mo,Hn=xn[0].height,Wn=0):Pn%2==1?(Fn={left:0,top:Hn+=Wn},Wn=Pn===Nn-1?xn[Pn].height:Math.max(xn[Pn].height,xn[Pn+1].height)):Fn={left:Rn[Pn-1].end.left,top:Hn};var tr={left:Fn.left+Gn.width,top:Fn.top+Gn.height};Rn[Pn]={index:Pn,start:Fn,size:Gn,end:tr,visibility:-1}}return Rn}(Mt,Ln,Gt,Vt):Ot===e.ViewMode.DualPage?function(Nn,Dn,xn,Mn){for(var Rn=[],Hn=0,Wn=0,Fn=xl,Pn=0;Pn<Nn;Pn++){var Gn={height:Mn===e.ScrollMode.Page?Math.max(Dn.height,xn[Pn].height):xn[Pn].height,width:Math.max(Dn.width/2,xn[Pn].width)};Mn===e.ScrollMode.Page?Fn={left:Pn%2==0?0:Gn.width,top:Math.floor(Pn/2)*Gn.height}:Pn%2==0?(Fn={left:0,top:Hn+=Wn},Wn=Pn===Nn-1?xn[Pn].height:Math.max(xn[Pn].height,xn[Pn+1].height)):Fn={left:Rn[Pn-1].end.left,top:Hn};var tr={left:Fn.left+Gn.width,top:Fn.top+Gn.height};Rn[Pn]={index:Pn,start:Fn,size:Gn,end:tr,visibility:-1}}return Rn}(Mt,Ln,Gt,Vt):function(Nn,Dn,xn,Mn){for(var Rn=[],Hn=0,Wn={left:0,top:0},Fn=0,Pn=Tl,Gn=0;Gn<Nn;Gn++){var tr=xn[Gn];if(Gn===0)Hn=tr.width,Wn={left:0,top:0},Fn=tr.height;else switch(Mn){case e.ScrollMode.Wrapped:(Hn+=tr.width)<Dn.width?(Pn={left:Rn[Gn-1].end.left,top:Wn.top},Fn=Math.max(Fn,tr.height)):(Hn=tr.width,Wn={left:(Pn={left:Wn.left,top:Wn.top+Fn}).left,top:Pn.top},Fn=tr.height);break;case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:Pn=Rn[Gn-1].end}var vr={left:Pn.left+tr.width,top:Pn.top+tr.height};Rn[Gn]={index:Gn,start:Pn,size:tr,end:vr,visibility:-1}}return Rn}(Mt,Ln,Gt,Vt)},[Vt,Gt,Ot,Ln]),cr=ar[Mt-1]?{height:ar[Mt-1].end.top,width:ar[Mt-1].end.left}:Ml;Un.current.measurements=ar;var dr=a.useMemo(function(){var Nn=function(Gn,tr,vr,pr){var Ir=0;switch(Gn){case En.Horizontal:Ir=pr.left;break;case En.Vertical:default:Ir=pr.top}var Vr=tr.length-1,Xn=function(fr,Kr,co,wo){for(;fr<=Kr;){var eo=(fr+Kr)/2|0,go=wo(eo);if(go<co)fr=eo+1;else{if(!(go>co))return eo;Kr=eo-1}}return fr>0?fr-1:0}(0,Vr,Ir,function(fr){switch(Gn){case En.Horizontal:return tr[fr].start.left;case En.Both:case En.Vertical:default:return tr[fr].start.top}});if(Gn===En.Both)for(var Nr=tr[Xn].start.top;Xn-1>=0&&tr[Xn-1].start.top===Nr&&tr[Xn-1].start.left>=pr.left;)Xn--;for(var yr=Xn;yr<=Vr;){var Sr={top:tr[yr].start.top-pr.top,left:tr[yr].start.left-pr.left},Fr={height:vr.height-Sr.top,width:vr.width-Sr.left};if(Gn===En.Horizontal&&Fr.width<0||Gn===En.Vertical&&Fr.height<0||Gn===En.Both&&(Fr.width<0||Fr.height<0))break;yr++}return{start:Xn,end:yr}}(Sn,ar,Ln,Qn),Dn=Nn.start,xn=Nn.end,Mn=In.slice(po(0,Mt,Dn),po(0,Mt,xn)),Rn=Dn+Mn.reduce(function(Gn,tr,vr,pr){return tr>pr[Gn]?vr:Gn},0),Hn=Rn=po(0,Mt-1,Rn),Wn=Ut({endPage:xn,numPages:Mt,startPage:Dn}),Fn=Wn.startPage,Pn=Wn.endPage;switch(Fn=Math.max(Fn,0),Pn=Math.min(Pn,Mt-1),Ot){case e.ViewMode.DualPageWithCover:Rn>0&&(Hn=Rn%2==1?Rn:Rn-1),Fn=Fn===0?0:Fn%2==1?Fn:Fn-1,Mt-(Pn=Pn%2==1?Pn-1:Pn)<=2&&(Pn=Mt-1);break;case e.ViewMode.DualPage:Hn=Rn%2==0?Rn:Rn-1,Fn=Fn%2==0?Fn:Fn-1,Pn=Pn%2==1?Pn:Pn-1;break;case e.ViewMode.SinglePage:default:Hn=Rn}return{startPage:Fn,endPage:Pn,maxVisbilityIndex:Hn}},[ar,Ln,Qn,Ot,In]),Rr=dr.startPage,_r=dr.endPage,Mr=dr.maxVisbilityIndex,kr=a.useMemo(function(){for(var Nn=[],Dn=function(Mn){var Rn=ar[Mn],Hn=it(it({},Rn),{visibility:In[Mn]!==void 0?In[Mn]:-1,measureRef:function(Wn){Wn&&(Wn.setAttribute(fs,"".concat(Mn)),or.observe(Wn))}});Nn.push(Hn)},xn=Rr;xn<=_r;xn++)Dn(xn);return Nn},[Rr,_r,In,ar]),Pr=a.useCallback(function(Nn,Dn){var xn=Un.current.measurements[po(0,Mt-1,Nn)],Mn=an.current===e.ScrollMode.Page?hs:Dn;return xn?On({left:Mn.left+xn.start.left,top:Mn.top+xn.start.top},pt):Promise.resolve()},[On,pt]),Tr=a.useCallback(function(Nn,Dn){var xn=Un.current.measurements,Mn=xn[Nn].start,Rn=xn.find(function(Wn){return Wn.start.top-Mn.top>1e-12});if(!Rn)return Promise.resolve();var Hn=Rn.index;switch(wn.current){case e.ViewMode.DualPage:Hn=Hn%2==0?Hn:Hn+1;break;case e.ViewMode.DualPageWithCover:Hn=Hn%2==1?Hn:Hn+1}return Pr(Hn,Dn)},[]),Cr=a.useCallback(function(Nn,Dn){for(var xn=Un.current.measurements,Mn=xn[Nn].start,Rn=Nn,Hn=!1,Wn=Mt-1;Wn>=0;Wn--)if(Mn.top-xn[Wn].start.top>1e-12){Hn=!0,Rn=xn[Wn].index;break}if(!Hn)return Promise.resolve();switch(wn.current){case e.ViewMode.DualPage:Rn=Rn%2==0?Rn:Rn-1;break;case e.ViewMode.DualPageWithCover:Rn=Rn%2==0?Rn-1:Rn}return Rn===Nn&&(Rn=Nn-1),Pr(Rn,Dn)},[]),Ur=a.useCallback(function(Nn,Dn){if(wn.current===e.ViewMode.DualPageWithCover||wn.current===e.ViewMode.DualPage)return Tr(Nn,Dn);switch(an.current){case e.ScrollMode.Wrapped:return Tr(Nn,Dn);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Pr(Nn+1,Dn)}},[]),Gr=a.useCallback(function(Nn,Dn){if(wn.current===e.ViewMode.DualPageWithCover||wn.current===e.ViewMode.DualPage)return Cr(Nn,Dn);switch(an.current){case e.ScrollMode.Wrapped:return Cr(Nn,Dn);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return Pr(Nn-1,Dn)}},[]),$r=a.useCallback(function(){return function(Nn,Dn){switch(Dn){case e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Nn.width,"px")};case e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Nn.height,"px"),width:"100%"}}}(cr,an.current)},[cr]),Lr=a.useCallback(function(Nn){return function(Dn,xn,Mn){return Mn!==e.ScrollMode.Page?{}:{height:"".concat(xn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Dn.start.top,"px)")}}(Nn,Ln,an.current)},[Ln]),Br=a.useCallback(function(Nn){return function(Dn,xn,Mn,Rn,Hn){var Wn,Fn,Pn,Gn,tr,vr,pr,Ir=xn?"right":"left",Vr=xn?-1:1,Xn=Mn.length,Nr=Dn.start.left*Vr,yr=Dn.size,Sr=yr.height,Fr=yr.width;if(Rn===e.ViewMode.DualPageWithCover){var fr=Hn===e.ScrollMode.Page?0:Dn.start.top;return Dn.index===0||Xn%2==0&&Dn.index===Xn-1?((Wn={height:"".concat(Sr,"px"),minWidth:"".concat(Pl(Mn,Rn),"px"),width:"100%"})[Ir]=0,Wn.position="absolute",Wn.top=0,Wn.transform="translate(".concat(Nr,"px, ").concat(fr,"px)"),Wn):((Fn={height:"".concat(Sr,"px"),width:"".concat(Fr,"px")})[Ir]=0,Fn.position="absolute",Fn.top=0,Fn.transform="translate(".concat(Nr,"px, ").concat(fr,"px)"),Fn)}if(Rn===e.ViewMode.DualPage)return(Pn={height:"".concat(Sr,"px"),width:"".concat(Fr,"px")})[Ir]=0,Pn.position="absolute",Pn.top=0,Pn.transform="translate(".concat(Nr,"px, ").concat(Hn===e.ScrollMode.Page?0:Dn.start.top,"px)"),Pn;switch(Hn){case e.ScrollMode.Horizontal:return(Gn={height:"100%",width:"".concat(Fr,"px")})[Ir]=0,Gn.position="absolute",Gn.top=0,Gn.transform="translateX(".concat(Nr,"px)"),Gn;case e.ScrollMode.Page:return(tr={height:"".concat(Sr,"px"),width:"".concat(Fr,"px")})[Ir]=0,tr.position="absolute",tr.top=0,tr;case e.ScrollMode.Wrapped:return(vr={height:"".concat(Sr,"px"),width:"".concat(Fr,"px")})[Ir]=0,vr.position="absolute",vr.top=0,vr.transform="translate(".concat(Nr,"px, ").concat(Dn.start.top,"px)"),vr;case e.ScrollMode.Vertical:default:return(pr={height:"".concat(Sr,"px"),width:"100%"})[Ir]=0,pr.position="absolute",pr.top=0,pr.transform="translateY(".concat(Dn.start.top,"px)"),pr}}(Nn,Ct,Gt,wn.current,an.current)},[Ct,Gt]),Yr=a.useCallback(function(Nn,Dn){var xn=Un.current,Mn=xn.measurements,Rn=xn.scrollOffset,Hn=Mn[po(0,Mt-1,Dn)];if(Hn){var Wn=an.current===e.ScrollMode.Page?{left:Hn.start.left,top:Hn.start.top}:{left:Rn.left*Nn,top:Rn.top*Nn};return On(Wn,!1)}return Promise.resolve()},[]);return a.useEffect(function(){return function(){or.disconnect()}},[]),{boundingClientRect:Ln,isSmoothScrolling:Ht,startPage:Rr,endPage:_r,maxVisbilityIndex:Mr,virtualItems:kr,getContainerStyles:$r,getItemContainerStyles:Lr,getItemStyles:Br,scrollToItem:Pr,scrollToNextItem:Ur,scrollToPreviousItem:Gr,zoom:Yr}},Fo=function(j,pt,Ct,Mt,It,Ut){var Gt=Ct;switch(!0){case(It===e.ViewMode.DualPageWithCover&&Ut>=3):case(It===e.ViewMode.DualPage&&Ut>=3):Gt=2*Ct;break;default:Gt=Ct}switch(Mt){case e.SpecialZoomLevel.ActualSize:return 1;case e.SpecialZoomLevel.PageFit:return Math.min((j.clientWidth-17)/Gt,(j.clientHeight-16)/pt);case e.SpecialZoomLevel.PageWidth:return(j.clientWidth-17)/Gt}},Ll=function(j){var pt,Ct,Mt=j.getCurrentPage,It=(pt=50,Ct=a.useRef([]),a.useEffect(function(){return function(){Ct.current=[]}},[]),{push:function(Wt){var Ht=Ct.current;Ht.length+1>pt&&Ht.shift(),Ht.push(Wt),Ct.current=Ht},map:function(Wt){return Ct.current.map(function(Ht){return Wt(Ht)})},pop:function(){var Wt=Ct.current;if(Wt.length===0)return null;var Ht=Wt.pop();return Ct.current=Wt,Ht}}),Ut=function(Wt){var Ht=a.useRef([]);return a.useEffect(function(){return function(){Ht.current=[]}},[]),{dequeue:function(){var un=Ht.current;if(un.length===0)return null;var cn=un.shift();return Ht.current=un,cn||null},enqueue:function(un){var cn=Ht.current;cn.length+1>Wt&&cn.pop(),Ht.current=[un].concat(cn)},map:function(un){return Ht.current.map(function(cn){return un(cn)})}}}(50),Gt=function(){var Wt=Ut.dequeue();return Wt&&It.push(Wt),Wt&&Wt.pageIndex===Mt()?Gt():Wt},Vt=function(){var Wt=It.pop();return Wt&&Ut.enqueue(Wt),Wt&&Wt.pageIndex===Mt()?Vt():Wt},Ot=a.useCallback(function(Wt){It.push(Wt)},[]);return{getNextDestination:Gt,getPreviousDestination:Vt,markVisitedDestination:Ot}},ps=function(j){var pt=[];return j.map(function(Ct){pt=pt.concat(Ct).concat(function(Mt){var It=[];return Mt.items&&Mt.items.length>0&&(It=It.concat(ps(Mt.items))),It}(Ct))}),pt},gs={capture:!1,passive:!0},Dl={height:0,width:0},Oo={height:0,width:0},Il=function(j){var pt=j.getCurrentPage,Ct=j.getCurrentScrollMode,Mt=j.jumpToPage,It=j.targetRef,Ut=a.useState(e.FullScreenMode.Normal),Gt=Ut[0],Vt=Ut[1],Ot=function(){var In=a.useState(Dl),sr=In[0],or=In[1],ar=$t(function(){or({height:window.innerHeight,width:window.innerWidth})},100);return tt(function(){return window.addEventListener("resize",ar,gs),function(){window.removeEventListener("resize",ar,gs)}},[]),sr}(),Wt=a.useState(Oo),Ht=Wt[0],un=Wt[1],cn=a.useRef(Oo),an=a.useRef(pt()),wn=a.useRef(Oo),Sn=a.useState(It.current),yn=Sn[0],Qn=Sn[1],On=a.useRef();tt(function(){It.current!==yn&&Qn(It.current)},[]),tt(function(){if(yn){var In=new ResizeObserver(function(sr){sr.forEach(function(or){var ar=or.target.getBoundingClientRect(),cr=ar.height,dr=ar.width;un({height:cr,width:dr})})});return In.observe(yn),function(){In.unobserve(yn),In.disconnect()}}},[yn]);var Ln=a.useCallback(function(In){var sr=Kt();return sr&&sr!==In?(Vt(e.FullScreenMode.Normal),kt(sr)):Promise.resolve()},[]),Un=a.useCallback(function(In){In&&gt()&&(Qn(In),Ln(In).then(function(){On.current=In,Vt(e.FullScreenMode.Entering),function(sr){ft&&sr[At.RequestFullScreen]()}(In)}))},[]),Tn=a.useCallback(function(){Kt()&&(Vt(e.FullScreenMode.Exitting),kt(document))},[]),Vn=a.useCallback(function(){yn&&Kt()!==yn&&Vt(e.FullScreenMode.Exitting)},[yn]);return a.useEffect(function(){switch(Gt){case e.FullScreenMode.Entering:On.current&&(On.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),an.current=pt(),cn.current={height:window.innerHeight,width:window.innerWidth};break;case e.FullScreenMode.Entered:Ct()===e.ScrollMode.Page?Mt(an.current).then(function(){Vt(e.FullScreenMode.EnteredCompletely)}):Vt(e.FullScreenMode.EnteredCompletely);break;case e.FullScreenMode.Exitting:On.current&&(On.current.style.backgroundColor="",On.current=null),an.current=pt();break;case e.FullScreenMode.Exited:Vt(e.FullScreenMode.Normal),Ct()===e.ScrollMode.Page&&Mt(an.current)}},[Gt]),a.useEffect(function(){if(Gt!==e.FullScreenMode.Normal)return Gt===e.FullScreenMode.Entering&&Ot.height===Ht.height&&Ot.width===Ht.width&&Ot.height>0&&Ot.width>0&&(wn.current.height===0||Ot.height==wn.current.height)?(wn.current={height:window.innerHeight,width:window.innerWidth},void Vt(e.FullScreenMode.Entered)):void(Gt===e.FullScreenMode.Exitting&&cn.current.height===Ot.height&&cn.current.width===Ot.width&&Ot.height>0&&Ot.width>0&&Vt(e.FullScreenMode.Exited))},[Gt,Ot,Ht]),a.useEffect(function(){var In;return In=Vn,ft&&document.addEventListener(At.FullScreenChange,In),function(){(function(sr){ft&&document.removeEventListener(At.FullScreenChange,sr)})(Vn)}},[yn]),{enterFullScreenMode:Un,exitFullScreenMode:Tn,fullScreenMode:Gt}},Nl={buildPageStyles:function(){return{}},transformSize:function(j){return j.size}},lo={left:0,top:0},Ul=function(j){var pt=j.currentFile,Ct=j.defaultScale,Mt=j.doc,It=j.enableSmoothScroll,Ut=j.initialPage,Gt=j.initialRotation,Vt=j.initialScale,Ot=j.pageLayout,Wt=j.pageSizes,Ht=j.plugins,un=j.renderPage,cn=j.scrollMode,an=j.setRenderRange,wn=j.viewMode,Sn=j.viewerState,yn=j.onDocumentLoad,Qn=j.onOpenFile,On=j.onPageChange,Ln=j.onRotate,Un=j.onRotatePage,Tn=j.onZoom,Vn=Mt.numPages,In=Mt.loadingTask.docId,sr=a.useContext(St).l10n,or=a.useContext(lt),ar=or.direction===e.TextDirection.RightToLeft,cr=a.useRef(),dr=a.useRef(),Rr=a.useState(Ut),_r=Rr[0],Mr=Rr[1],kr=a.useRef(null),Pr=Ll({getCurrentPage:function(){return Xn.current.pageIndex}}),Tr=a.useState(Gt),Cr=Tr[0],Ur=Tr[1],Gr=en(Cr),$r=a.useState(!1),Lr=$r[0],Br=$r[1],Yr=a.useState(new Map),Nn=Yr[0],Dn=Yr[1],xn=a.useState(cn),Mn=xn[0],Rn=xn[1],Hn=en(Mn),Wn=a.useState(wn),Fn=Wn[0],Pn=Wn[1],Gn=en(Fn),tr=function(vn){var qn=ln(),nr=a.useState([]),hr=nr[0],ur=nr[1];return a.useEffect(function(){vn.getOutline().then(function(rr){if(qn.current&&rr!==null){var Or=ps(rr);ur(Or)}})},[]),hr}(Mt),vr=a.useState(Vt),pr=vr[0],Ir=vr[1],Vr=en(pr),Xn=a.useRef(Sn),Nr=a.useRef(typeof Ct=="string"?Ct:null),yr=a.useRef(-1),Sr=a.useRef(-1),Fr=a.useRef(Ut),fr=Il({getCurrentPage:function(){return Xn.current.pageIndex},getCurrentScrollMode:function(){return Xn.current.scrollMode},jumpToPage:function(vn){return Zr(vn)},targetRef:dr}),Kr=a.useState(-1),co=Kr[0],wo=Kr[1],eo=a.useState(0),go=eo[0],$l=eo[1],Hr=Xt({doc:Mt});a.useEffect(function(){return function(){Cn.clear(),Bn.clear()}},[In]);var _s=a.useMemo(function(){return Object.assign({},Nl,Ot)},[]),Gl=a.useMemo(function(){return Array(Vn).fill(0).map(function(vn,qn){var nr=[Wt[qn].pageHeight,Wt[qn].pageWidth],hr=Math.abs(Cr)%180==0?{height:nr[0],width:nr[1]}:{height:nr[1],width:nr[0]},ur={height:hr.height*pr,width:hr.width*pr};return _s.transformSize({numPages:Vn,pageIndex:qn,size:ur})})},[Cr,pr]),gr=Ol({enableSmoothScroll:It,isRtl:ar,numberOfItems:Vn,parentRef:dr,scrollMode:Mn,setRenderRange:an,sizes:Gl,viewMode:Fn}),Xl=$t(function(){!Nr.current||Xn.current.fullScreenMode!==e.FullScreenMode.Normal||Ut>0&&Fr.current===Ut||to(Nr.current)},200);(function(vn){var qn=vn.targetRef,nr=vn.onResize;tt(function(){var hr=new ResizeObserver(function(rr){rr.forEach(function(Or){nr(Or.target)})}),ur=qn.current;if(ur)return hr.observe(ur),function(){hr.unobserve(ur)}},[])})({targetRef:dr,onResize:Xl});var Qr=function(vn){var qn=vn;Ht.forEach(function(nr){nr.onViewerStateChange&&(qn=nr.onViewerStateChange(qn))}),Xn.current=qn},Yl=function(){return dr.current},Kl=function(){return Xn.current},Ql=a.useCallback(function(vn){Pr.markVisitedDestination(vn)},[]),Io=a.useCallback(function(vn){var qn=vn.pageIndex,nr=vn.bottomOffset,hr=vn.leftOffset,ur=vn.scaleTo,rr=dr.current,Or=Xn.current;return rr&&Or?new Promise(function(Jr,Vo){Tt(Mt,qn).then(function(bo){var _i=bo.getViewport({scale:1}),ko=0,Ps=(typeof nr=="function"?nr(_i.width,_i.height):nr)||0,Co=(typeof hr=="function"?hr(_i.width,_i.height):hr)||0,uo=Or.scale;switch(ur){case e.SpecialZoomLevel.PageFit:ko=0,Co=0,to(e.SpecialZoomLevel.PageFit);break;case e.SpecialZoomLevel.PageWidth:uo=Fo(rr,Wt[qn].pageHeight,Wt[qn].pageWidth,e.SpecialZoomLevel.PageWidth,wn,Vn),ko=(_i.height-Ps)*uo,Co*=uo,to(uo);break;default:ko=(_i.height-Ps)*uo,Co*=uo}switch(Or.scrollMode){case e.ScrollMode.Horizontal:gr.scrollToItem(qn,{left:Co,top:0}).then(function(){Jr()});break;case e.ScrollMode.Vertical:default:gr.scrollToItem(qn,{left:0,top:ko}).then(function(){Jr()})}})}):Promise.resolve()},[]),Ss=a.useCallback(function(vn){return Pr.markVisitedDestination(vn),Io(vn)},[]),Zl=a.useCallback(function(){var vn=Pr.getNextDestination();return vn?Io(vn):Promise.resolve()},[]),Jl=a.useCallback(function(){var vn=Pr.getPreviousDestination();return vn?Io(vn):Promise.resolve()},[]),_c=a.useCallback(function(){return gr.scrollToNextItem(Xn.current.pageIndex,lo)},[]),Zr=a.useCallback(function(vn){return 0<=vn&&vn<Vn?gr.scrollToItem(vn,lo):Promise.resolve()},[]),eu=a.useCallback(function(){return gr.scrollToPreviousItem(Xn.current.pageIndex,lo)},[]),Es=a.useCallback(function(vn){var qn,nr;(qn=vn.name,nr=qn.split(/\./).pop(),nr?nr.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(hr){var ur=new FileReader;ur.readAsArrayBuffer(vn),ur.onload=function(){var rr=new Uint8Array(ur.result);hr(rr)}}).then(function(hr){Qn(vn.name,hr)})},[Qn]),As=a.useCallback(function(vn){var qn=vn===e.RotateDirection.Backward?-90:90,nr=Xn.current.rotation,hr=nr===360||nr===-360?qn:nr+qn;Hr.markNotRendered(),Ur(hr),Qr(it(it({},Xn.current),{rotation:hr})),Ln({direction:vn,doc:Mt,rotation:hr})},[]),No=a.useCallback(function(vn,qn){var nr=qn===e.RotateDirection.Backward?-90:90,hr=Xn.current.pagesRotation,ur=(hr.has(vn)?hr.get(vn):Gt)+nr,rr=hr.set(vn,ur);Dn(rr),Br(function(Or){return!Or}),Qr(it(it({},Xn.current),{pagesRotation:rr,rotatedPage:vn})),Un({direction:qn,doc:Mt,pageIndex:vn,rotation:ur}),Hr.markRendering(vn),wo(vn)},[]),ws=a.useCallback(function(vn){Qr(it(it({},Xn.current),{scrollMode:vn})),Rn(vn)},[]),bs=a.useCallback(function(vn){Qr(it(it({},Xn.current),{viewMode:vn})),Pn(vn)},[]),to=a.useCallback(function(vn){var qn=dr.current,nr=Xn.current.pageIndex;if(!(nr<0||nr>=Vn)){var hr=Wt[nr].pageHeight,ur=Wt[nr].pageWidth,rr=qn?typeof vn=="string"?Fo(qn,hr,ur,vn,Xn.current.viewMode,Vn):vn:1;Nr.current=typeof vn=="string"?vn:null,rr!==Xn.current.scale&&($l(function(Or){return Or+1}),Hr.markNotRendered(),Ir(rr),Tn({doc:Mt,scale:rr}),Qr(it(it({},Xn.current),{scale:rr})))}},[]),tu=a.useCallback(function(vn){fr.enterFullScreenMode(vn)},[]),nu=a.useCallback(function(){fr.exitFullScreenMode()},[]);a.useEffect(function(){Qr(it(it({},Xn.current),{fullScreenMode:fr.fullScreenMode}))},[fr.fullScreenMode]),a.useEffect(function(){var vn={enterFullScreenMode:tu,exitFullScreenMode:nu,getPagesContainer:Yl,getViewerState:Kl,jumpToDestination:Ss,jumpToNextDestination:Zl,jumpToPreviousDestination:Jl,jumpToNextPage:_c,jumpToPreviousPage:eu,jumpToPage:Zr,openFile:Es,rotate:As,rotatePage:No,setViewerState:Qr,switchScrollMode:ws,switchViewMode:bs,zoom:to};return Ht.forEach(function(qn){qn.install&&qn.install(vn)}),function(){Ht.forEach(function(qn){qn.uninstall&&qn.uninstall(vn)})}},[In]),a.useEffect(function(){yn({doc:Mt,file:pt}),Ht.forEach(function(vn){vn.onDocumentLoad&&vn.onDocumentLoad({doc:Mt,file:pt})})},[In]);var jo,Uo,zo,ks=gr.boundingClientRect;jo=function(){Ut&&Zr(Ut)},Uo=ks.height>0&&ks.width>0,zo=a.useRef(!1),tt(function(){Uo&&!zo.current&&(zo.current=!0,jo())},[jo,Uo]),tt(function(){var vn=Xn.current.pageIndex;vn>-1&&Hn!==Mn&&gr.scrollToItem(vn,lo).then(function(){fr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(It||Hr.markNotRendered(),yr.current=-1)})},[Mn]),tt(function(){var vn=Xn.current.pageIndex;vn>-1&&Gr!==Cr&&gr.scrollToItem(vn,lo)},[Cr]),tt(function(){Vr!=0&&Vr!=Xn.current.scale&&gr.zoom(Xn.current.scale/Vr,Xn.current.pageIndex).then(function(){fr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(Sr.current=-1)})},[pr]),tt(function(){if(Gn!==Xn.current.viewMode){var vn=gr.startPage,qn=gr.endPage,nr=gr.virtualItems;Hr.markNotRendered(),Hr.setRange(vn,qn);for(var hr=function(rr){var Or=nr.find(function(Jr){return Jr.index===rr});Or&&Hr.setVisibility(rr,Or.visibility)},ur=vn;ur<=qn;ur++)hr(ur);Bo()}},[Fn]),tt(function(){var vn=Xn.current.pageIndex;vn>-1&&Gn!==Fn&&gr.scrollToItem(vn,lo)},[Fn]),tt(function(){var vn=Xn.current.pageIndex;vn>0&&vn===Ut&&Fr.current===Ut&&Nr.current&&(Fr.current=-1,to(Nr.current))},[_r]),a.useEffect(function(){gr.isSmoothScrolling||kr.current!==null&&kr.current===_r||(kr.current=_r,On({currentPage:_r,doc:Mt}))},[_r,gr.isSmoothScrolling]),a.useEffect(function(){fr.fullScreenMode===e.FullScreenMode.Entering&&Xn.current.scrollMode===e.ScrollMode.Page&&(yr.current=Xn.current.pageIndex),fr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&Xn.current.scrollMode===e.ScrollMode.Page&&It&&(yr.current=-1),fr.fullScreenMode===e.FullScreenMode.EnteredCompletely&&Nr.current&&(Sr.current=Xn.current.pageIndex,to(Nr.current))},[fr.fullScreenMode]),a.useEffect(function(){if(fr.fullScreenMode!==e.FullScreenMode.Entering&&fr.fullScreenMode!==e.FullScreenMode.Exitting&&!gr.isSmoothScrolling){var vn=gr.startPage,qn=gr.endPage,nr=gr.maxVisbilityIndex,hr=gr.virtualItems,ur=nr,rr=fr.fullScreenMode===e.FullScreenMode.Entered||fr.fullScreenMode===e.FullScreenMode.EnteredCompletely;if(!(rr&&ur!==yr.current&&yr.current>-1||rr&&ur!==Sr.current&&Sr.current>-1)){Mr(ur),Qr(it(it({},Xn.current),{pageIndex:ur})),Hr.setRange(vn,qn);for(var Or=function(Vo){var bo=hr.find(function(_i){return _i.index===Vo});bo&&Hr.setVisibility(Vo,bo.visibility)},Jr=vn;Jr<=qn;Jr++)Or(Jr);Bo()}}},[gr.startPage,gr.endPage,gr.isSmoothScrolling,gr.maxVisbilityIndex,fr.fullScreenMode,Lr,Cr,pr]);var ru=a.useCallback(function(vn){Hr.markRendered(vn),Bo()},[go]),Bo=function(){var vn=Hr.getHighestPriorityPage();vn>-1&&Hr.isInRange(vn)&&(Hr.markRendering(vn),wo(vn))},iu=function(vn){var qn=_r-1,nr=_r+1;switch(vn){case"FirstPage":Zr(0);break;case"LastPage":Zr(Vn-1);break;case"NextPage":nr<Vn&&Zr(nr);break;case"PrevPage":qn>=0&&Zr(qn)}},ou=a.useCallback(function(){var vn=gr.virtualItems,qn=[];switch(Fn){case e.ViewMode.DualPage:qn=mn(vn,2);break;case e.ViewMode.DualPageWithCover:vn.length&&(qn=vn[0].index===0?[[vn[0]]].concat(mn(vn.slice(1),2)):mn(vn,2));break;case e.ViewMode.SinglePage:default:qn=mn(vn,1)}var nr=sr&&sr.core?sr.core.pageLabel:"Page {{pageIndex}}",hr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:cr,style:{height:"100%"}},children:a.createElement(a.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:at({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Mn===e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ar,"rpv-core__inner-pages--single":Mn===e.ScrollMode.Page,"rpv-core__inner-pages--vertical":Mn===e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Mn===e.ScrollMode.Wrapped}),ref:dr,style:{height:"100%",position:"relative"}},children:a.createElement("div",{"data-testid":"core__inner-current-page-".concat(_r),style:Object.assign({"--scale-factor":pr},gr.getContainerStyles())},qn.map(function(ur){return a.createElement("div",{className:at({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Mn===e.ScrollMode.Page}),style:gr.getItemContainerStyles(ur[0]),key:"".concat(ur[0].index,"-").concat(Fn)},ur.map(function(rr){var Or=Fn===e.ViewMode.DualPageWithCover&&(rr.index===0||Vn%2==0&&rr.index===Vn-1);return a.createElement("div",{"aria-label":nr.replace("{{pageIndex}}","".concat(rr.index+1)),className:at({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Fn===e.ViewMode.DualPage&&rr.index%2==0,"rpv-core__inner-page--dual-odd":Fn===e.ViewMode.DualPage&&rr.index%2==1,"rpv-core__inner-page--dual-cover":Or,"rpv-core__inner-page--dual-cover-even":Fn===e.ViewMode.DualPageWithCover&&!Or&&rr.index%2==0,"rpv-core__inner-page--dual-cover-odd":Fn===e.ViewMode.DualPageWithCover&&!Or&&rr.index%2==1,"rpv-core__inner-page--single":Fn===e.ViewMode.SinglePage&&Mn===e.ScrollMode.Page}),role:"region",key:"".concat(rr.index,"-").concat(Fn),style:Object.assign({},gr.getItemStyles(rr),_s.buildPageStyles({numPages:Vn,pageIndex:rr.index,scrollMode:Mn,viewMode:Fn}))},a.createElement(Sl,{doc:Mt,measureRef:rr.measureRef,outlines:tr,pageIndex:rr.index,pageRotation:Nn.has(rr.index)?Nn.get(rr.index):0,pageSize:Wt[rr.index],plugins:Ht,renderPage:un,renderQueueKey:go,rotation:Cr,scale:pr,shouldRender:co===rr.index,viewMode:Fn,onExecuteNamedAction:iu,onJumpFromLinkAnnotation:Ql,onJumpToDest:Ss,onRenderCompleted:ru,onRotatePage:No}))}))}))}};return Ht.forEach(function(ur){ur.renderViewer&&(hr=ur.renderViewer({containerRef:cr,doc:Mt,pagesContainerRef:dr,pagesRotation:Nn,pageSizes:Wt,rotation:Cr,slot:hr,themeContext:or,jumpToPage:Zr,openFile:Es,rotate:As,rotatePage:No,switchScrollMode:ws,switchViewMode:bs,zoom:to}))}),hr},[Ht,gr]),Cs=a.useCallback(function(vn){return a.createElement("div",it({},vn.attrs,{style:vn.attrs&&vn.attrs.style?vn.attrs.style:{}}),vn.children,vn.subSlot&&Cs(vn.subSlot))},[]);return Cs(ou())},ms=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],zl=function(j){var pt=j.defaultScale,Ct=j.doc,Mt=j.render,It=j.scrollMode,Ut=j.viewMode,Gt=a.useRef(),Vt=a.useState({pageSizes:[],scale:0}),Ot=Vt[0],Wt=Vt[1];return a.useLayoutEffect(function(){var Ht=Array(Ct.numPages).fill(0).map(function(un,cn){return new Promise(function(an,wn){Tt(Ct,cn).then(function(Sn){var yn=Sn.getViewport({scale:1});an({pageHeight:yn.height,pageWidth:yn.width,rotation:yn.rotation})})})});Promise.all(Ht).then(function(un){var cn=Gt.current;if(cn&&un.length!==0){var an=un[0].pageWidth,wn=un[0].pageHeight,Sn=cn.parentElement,yn=(Sn.clientWidth-45)/an,Qn=(Sn.clientHeight-45)/wn,On=yn;switch(It){case e.ScrollMode.Horizontal:On=Math.min(yn,Qn);break;case e.ScrollMode.Vertical:default:On=yn}var Ln,Un,Tn=pt?typeof pt=="string"?Fo(Sn,wn,an,pt,Ut,Ct.numPages):pt:(Ln=On,(Un=ms.findIndex(function(Vn){return Vn>=Ln}))===-1||Un===0?Ln:ms[Un-1]);Wt({pageSizes:un,scale:Tn})}})},[Ct.loadingTask.docId]),Ot.pageSizes.length===0||Ot.scale===0?a.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Gt},a.createElement(d,null)):Mt(Ot.pageSizes,Ot.scale)},Ao=function(){},Lo=function(j){function pt(Ct,Mt){var It=j.call(this)||this;return It.verifyPassword=Ct,It.passwordStatus=Mt,It}return ot(pt,j),pt}(Ao),Bl=function(j){var pt=j.passwordStatus,Ct=j.renderProtectedView,Mt=j.verifyPassword,It=j.onDocumentAskPassword,Ut=a.useContext(St).l10n,Gt=a.useState(""),Vt=Gt[0],Ot=Gt[1],Wt=a.useContext(lt).direction===e.TextDirection.RightToLeft,Ht=function(){return Mt(Vt)};return a.useEffect(function(){It&&It({verifyPassword:Mt})},[]),Ct?Ct({passwordStatus:pt,verifyPassword:Mt}):a.createElement("div",{className:"rpv-core__asking-password-wrapper"},a.createElement("div",{className:at({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Wt})},a.createElement("div",{className:"rpv-core__asking-password-message"},pt===e.PasswordStatus.RequiredPassword&&Ut.core.askingPassword.requirePasswordToOpen,pt===e.PasswordStatus.WrongPassword&&Ut.core.wrongPassword.tryAgain),a.createElement("div",{className:"rpv-core__asking-password-body"},a.createElement("div",{className:at({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Wt,"rpv-core__asking-password-input--rtl":Wt})},a.createElement(g,{testId:"core__asking-password-input",type:"password",value:Vt,onChange:Ot,onKeyDown:function(un){un.key==="Enter"&&Ht()}})),a.createElement(_,{onClick:Ht},Ut.core.askingPassword.submit))))},vs=function(j){function pt(Ct){var Mt=j.call(this)||this;return Mt.doc=Ct,Mt}return ot(pt,j),pt}(Ao),ys=function(j){function pt(Ct){var Mt=j.call(this)||this;return Mt.error=Ct,Mt}return ot(pt,j),pt}(Ao),Do=function(j){function pt(Ct){var Mt=j.call(this)||this;return Mt.percentages=Ct,Mt}return ot(pt,j),pt}(Ao),Vl=function(j){var pt=j.characterMap,Ct=j.file,Mt=j.httpHeaders,It=j.render,Ut=j.renderError,Gt=j.renderLoader,Vt=j.renderProtectedView,Ot=j.transformGetDocumentParams,Wt=j.withCredentials,Ht=j.onDocumentAskPassword,un=a.useContext(lt).direction===e.TextDirection.RightToLeft,cn=a.useState(new Do(0)),an=cn[0],wn=cn[1],Sn=a.useRef(""),yn=ln();return a.useEffect(function(){Sn.current="",wn(new Do(0));var Qn=new h.PDFWorker({name:"PDFWorker_".concat(Date.now())}),On=Object.assign({httpHeaders:Mt,withCredentials:Wt,worker:Qn},typeof Ct=="string"?{url:Ct}:{data:Ct},pt?{cMapUrl:pt.url,cMapPacked:pt.isCompressed}:{}),Ln=Ot?Ot(On):On,Un=h.getDocument(Ln);return Un.onPassword=function(Tn,Vn){switch(Vn){case h.PasswordResponses.NEED_PASSWORD:yn.current&&wn(new Lo(Tn,e.PasswordStatus.RequiredPassword));break;case h.PasswordResponses.INCORRECT_PASSWORD:yn.current&&wn(new Lo(Tn,e.PasswordStatus.WrongPassword))}},Un.onProgress=function(Tn){var Vn=Tn.total>0?Math.min(100,100*Tn.loaded/Tn.total):100;yn.current&&Sn.current===""&&wn(new Do(Vn))},Un.promise.then(function(Tn){Sn.current=Tn.loadingTask.docId,yn.current&&wn(new vs(Tn))},function(Tn){return yn.current&&!Qn.destroyed&&wn(new ys({message:Tn.message||"Cannot load document",name:Tn.name}))}),function(){Un.destroy(),Qn.destroy()}},[Ct]),an instanceof Lo?a.createElement(Bl,{passwordStatus:an.passwordStatus,renderProtectedView:Vt,verifyPassword:an.verifyPassword,onDocumentAskPassword:Ht}):an instanceof vs?It(an.doc):an instanceof ys?Ut?Ut(an.error):a.createElement("div",{className:at({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":un})},a.createElement("div",{className:"rpv-core__doc-error-text"},an.error.message)):a.createElement("div",{"data-testid":"core__doc-loading",className:at({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":un})},Gt?Gt(an.percentages):a.createElement(d,null))},Hl=function(j,pt){var Ct=a.useMemo(function(){return j==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":j},[]),Mt=a.useState(Ct),It=Mt[0],Ut=Mt[1],Gt=en(It);return a.useEffect(function(){if(j==="auto"){var Vt=window.matchMedia("(prefers-color-scheme: dark)"),Ot=function(Wt){Ut(Wt.matches?"dark":"light")};return Vt.addEventListener("change",Ot),function(){return Vt.removeEventListener("change",Ot)}}},[]),a.useEffect(function(){It!==Gt&&pt&&pt(It)},[It]),a.useEffect(function(){j!==It&&Ut(j)},[j]),{currentTheme:It,setCurrentTheme:Ut}},Wl=function(j){return{startPage:j.startPage-3,endPage:j.endPage+3}};e.Button=function(j){var pt=j.children,Ct=j.testId,Mt=j.onClick,It=a.useContext(lt).direction===e.TextDirection.RightToLeft,Ut=Ct?{"data-testid":Ct}:{};return a.createElement("button",it({className:at({"rpv-core__button":!0,"rpv-core__button--rtl":It}),type:"button",onClick:Mt},Ut),pt)},e.Icon=dt,e.LazyRender=function(j){var pt=j.attrs,Ct=j.children,Mt=j.testId,It=a.useState(!1),Ut=It[0],Gt=It[1],Vt=Mt?it(it({},pt),{"data-testid":Mt}):pt,Ot=st({once:!0,onVisibilityChanged:function(Wt){Wt.isVisible&&Gt(!0)}});return a.createElement("div",it({ref:Ot},Vt),Ut&&Ct)},e.LocalizationContext=St,e.Menu=function(j){var pt=j.children,Ct=a.useRef(),Mt=a.useRef([]),It=a.useContext(lt).direction===e.TextDirection.RightToLeft,Ut=function(Vt){if(Ct.current)switch(Vt.key){case"Tab":Vt.preventDefault();break;case"ArrowDown":Vt.preventDefault(),Gt(function(Ot,Wt){return Wt+1});break;case"ArrowUp":Vt.preventDefault(),Gt(function(Ot,Wt){return Wt-1});break;case"End":Vt.preventDefault(),Gt(function(Ot,Wt){return Ot.length-1});break;case"Home":Vt.preventDefault(),Gt(function(Ot,Wt){return 0})}},Gt=function(Vt){if(Ct.current){var Ot=Mt.current,Wt=Ot.findIndex(function(un){return un.getAttribute("tabindex")==="0"}),Ht=Math.min(Ot.length-1,Math.max(0,Vt(Ot,Wt)));Wt>=0&&Wt<=Ot.length-1&&Ot[Wt].setAttribute("tabindex","-1"),Ot[Ht].setAttribute("tabindex","0"),Ot[Ht].focus()}};return tt(function(){var Vt=Ct.current;if(Vt){var Ot=function(Wt){var Ht=[];return Wt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(un){if(un instanceof HTMLElement){var cn=un.parentElement;(cn===Wt||window.getComputedStyle(cn).display!=="none")&&Ht.push(un)}}),Ht}(Vt);Mt.current=Ot}},[]),tt(function(){return document.addEventListener("keydown",Ut),function(){document.removeEventListener("keydown",Ut)}},[]),a.createElement("div",{ref:Ct,"aria-orientation":"vertical",className:at({"rpv-core__menu":!0,"rpv-core__menu--rtl":It}),role:"menu",tabIndex:0},pt)},e.MenuDivider=function(){return a.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},e.MenuItem=function(j){var pt=j.checked,Ct=pt!==void 0&&pt,Mt=j.children,It=j.icon,Ut=It===void 0?null:It,Gt=j.isDisabled,Vt=Gt!==void 0&&Gt,Ot=j.testId,Wt=j.onClick,Ht=a.useContext(lt).direction===e.TextDirection.RightToLeft,un=Ot?{"data-testid":Ot}:{};return a.createElement("button",it({className:at({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Vt,"rpv-core__menu-item--ltr":!Ht,"rpv-core__menu-item--rtl":Ht}),role:"menuitem",tabIndex:-1,type:"button",onClick:Wt},un),a.createElement("div",{className:at({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ht,"rpv-core__menu-item-icon--rtl":Ht})},Ut),a.createElement("div",{className:at({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ht,"rpv-core__menu-item-label--rtl":Ht})},Mt),a.createElement("div",{className:at({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ht,"rpv-core__menu-item-check--rtl":Ht})},Ct&&a.createElement(b,null)))},e.MinimalButton=function(j){var pt=j.ariaLabel,Ct=pt===void 0?"":pt,Mt=j.ariaKeyShortcuts,It=Mt===void 0?"":Mt,Ut=j.children,Gt=j.isDisabled,Vt=Gt!==void 0&&Gt,Ot=j.isSelected,Wt=Ot!==void 0&&Ot,Ht=j.testId,un=j.onClick,cn=a.useContext(lt).direction===e.TextDirection.RightToLeft,an=Ht?{"data-testid":Ht}:{};return a.createElement("button",it({"aria-label":Ct},It&&{"aria-keyshortcuts":It},Vt&&{"aria-disabled":!0},{className:at({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Vt,"rpv-core__minimal-button--rtl":cn,"rpv-core__minimal-button--selected":Wt}),type:"button",onClick:un},an),Ut)},e.Modal=function(j){var pt=j.ariaControlsSuffix,Ct=j.closeOnClickOutside,Mt=j.closeOnEscape,It=j.content,Ut=j.isOpened,Gt=Ut!==void 0&&Ut,Vt=j.target,Ot=pt||"".concat(nt());return a.createElement(sn,{target:Vt?function(Wt,Ht){return a.createElement("div",{"aria-expanded":Ht?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ot)},Vt(Wt,Ht))}:null,content:function(Wt){return a.createElement(Dt,null,a.createElement(Rt,{ariaControlsSuffix:Ot,closeOnClickOutside:Ct,closeOnEscape:Mt,onToggle:Wt},It(Wt)))},isOpened:Gt})},e.Popover=function(j){var pt=j.ariaHasPopup,Ct=pt===void 0?"dialog":pt,Mt=j.ariaControlsSuffix,It=j.closeOnClickOutside,Ut=j.closeOnEscape,Gt=j.content,Vt=j.lockScroll,Ot=Vt===void 0||Vt,Wt=j.offset,Ht=j.position,un=j.target,cn=Zt(!1),an=cn.opened,wn=cn.toggle,Sn=a.useRef(),yn=a.useMemo(function(){return Mt||"".concat(nt())},[]);return a.createElement("div",{ref:Sn,"aria-expanded":an?"true":"false","aria-haspopup":Ct,"aria-controls":"rpv-core__popver-body-".concat(yn)},un(wn,an),an&&a.createElement(a.Fragment,null,Ot&&a.createElement(gn,{closeOnEscape:Ut,onClose:wn}),a.createElement(dn,{ariaControlsSuffix:yn,closeOnClickOutside:It,offset:Wt,position:Ht,targetRef:Sn,onClose:wn},Gt(wn))))},e.PrimaryButton=_,e.ProgressBar=function(j){var pt=j.progress,Ct=a.useContext(lt).direction===e.TextDirection.RightToLeft;return a.createElement("div",{className:at({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ct})},a.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(pt,"%")}},pt,"%"))},e.Separator=function(){return a.createElement("div",{className:"rpv-core__separator"})},e.Spinner=d,e.Splitter=function(j){var pt=j.constrain,Ct=a.useContext(lt).direction===e.TextDirection.RightToLeft,Mt=a.useRef(),It=a.useRef(),Ut=a.useRef(),Gt=a.useRef(0),Vt=a.useRef(0),Ot=a.useRef(0),Wt=a.useRef(0),Ht={capture:!0},un=function(an){var wn=Mt.current,Sn=It.current,yn=Ut.current;if(wn&&Sn&&yn){var Qn=Wt.current,On=an.clientX-Gt.current,Ln=Ot.current+(Ct?-On:On),Un=wn.parentElement.getBoundingClientRect().width,Tn=100*Ln/Un;if(wn.classList.add("rpv-core__splitter--resizing"),pt){var Vn=Un-Ln-Qn;if(!pt({firstHalfPercentage:Tn,firstHalfSize:Ln,secondHalfPercentage:100*Vn/Un,secondHalfSize:Vn}))return}Sn.style.width="".concat(Tn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Sn.classList.add("rpv-core__splitter-sibling--resizing"),yn.classList.add("rpv-core__splitter-sibling--resizing")}},cn=function(an){var wn=Mt.current,Sn=It.current,yn=Ut.current;wn&&Sn&&yn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),wn.classList.remove("rpv-core__splitter--resizing"),Sn.classList.remove("rpv-core__splitter-sibling--resizing"),yn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",un,Ht),document.removeEventListener("mouseup",cn,Ht))};return a.useEffect(function(){var an=Mt.current;an&&(Wt.current=an.getBoundingClientRect().width,It.current=an.previousElementSibling,Ut.current=an.nextElementSibling)},[]),a.createElement("div",{ref:Mt,className:"rpv-core__splitter",onMouseDown:function(an){var wn=It.current;wn&&(Gt.current=an.clientX,Vt.current=an.clientY,Ot.current=wn.getBoundingClientRect().width,document.addEventListener("mousemove",un,Ht),document.addEventListener("mouseup",cn,Ht))}})},e.TextBox=g,e.ThemeContext=lt,e.Tooltip=function(j){var pt=j.ariaControlsSuffix,Ct=j.content,Mt=j.offset,It=j.position,Ut=j.target,Gt=Zt(!1),Vt=Gt.opened,Ot=Gt.toggle,Wt=a.useRef(),Ht=a.useRef(),un=a.useMemo(function(){return pt||"".concat(nt())},[]);Pt(function(){Wt.current&&document.activeElement&&Wt.current.contains(document.activeElement)&&an()});var cn=function(){Ot(e.ToggleStatus.Open)},an=function(){Ot(e.ToggleStatus.Close)};return a.createElement(a.Fragment,null,a.createElement("div",{ref:Wt,"aria-describedby":"rpv-core__tooltip-body-".concat(un),onBlur:function(wn){wn.relatedTarget instanceof HTMLElement&&wn.currentTarget.parentElement&&wn.currentTarget.parentElement.contains(wn.relatedTarget)?Ht.current&&(Ht.current.style.display="none"):an()},onFocus:cn,onMouseEnter:cn,onMouseLeave:an},Ut),Vt&&a.createElement(tn,{ariaControlsSuffix:un,contentRef:Ht,offset:Mt,position:It,targetRef:Wt},Ct()))},e.Viewer=function(j){var pt=j.characterMap,Ct=j.defaultScale,Mt=j.enableSmoothScroll,It=Mt===void 0||Mt,Ut=j.fileUrl,Gt=j.httpHeaders,Vt=Gt===void 0?{}:Gt,Ot=j.initialPage,Wt=Ot===void 0?0:Ot,Ht=j.pageLayout,un=j.initialRotation,cn=un===void 0?0:un,an=j.localization,wn=j.plugins,Sn=wn===void 0?[]:wn,yn=j.renderError,Qn=j.renderLoader,On=j.renderPage,Ln=j.renderProtectedView,Un=j.scrollMode,Tn=Un===void 0?e.ScrollMode.Vertical:Un,Vn=j.setRenderRange,In=Vn===void 0?Wl:Vn,sr=j.transformGetDocumentParams,or=j.theme,ar=or===void 0?{direction:e.TextDirection.LeftToRight,theme:"light"}:or,cr=j.viewMode,dr=cr===void 0?e.ViewMode.SinglePage:cr,Rr=j.withCredentials,_r=Rr!==void 0&&Rr,Mr=j.onDocumentAskPassword,kr=j.onDocumentLoad,Pr=kr===void 0?function(){}:kr,Tr=j.onPageChange,Cr=Tr===void 0?function(){}:Tr,Ur=j.onRotate,Gr=Ur===void 0?function(){}:Ur,$r=j.onRotatePage,Lr=$r===void 0?function(){}:$r,Br=j.onSwitchTheme,Yr=Br===void 0?function(){}:Br,Nn=j.onZoom,Dn=Nn===void 0?function(){}:Nn,xn=a.useState({data:Ut,name:typeof Ut=="string"?Ut:"",shouldLoad:!1}),Mn=xn[0],Rn=xn[1],Hn=function(yr,Sr){Rn({data:Sr,name:yr,shouldLoad:!0})},Wn=a.useState(!1),Fn=Wn[0],Pn=Wn[1],Gn=en(Mn);a.useEffect(function(){var yr,Sr,Fr,fr;yr=Gn.data,fr=typeof(Sr=Ut),(Fr=typeof yr)=="string"&&fr==="string"&&yr===Sr||Fr==="object"&&fr==="object"&&yr.length===Sr.length&&yr.every(function(Kr,co){return Kr===Sr[co]})||Rn({data:Ut,name:typeof Ut=="string"?Ut:"",shouldLoad:Fn})},[Ut,Fn]);var tr=st({onVisibilityChanged:function(yr){Pn(yr.isVisible),yr.isVisible&&Rn(function(Sr){return Object.assign({},Sr,{shouldLoad:!0})})}}),vr=typeof ar=="string"?{direction:e.TextDirection.LeftToRight,theme:ar}:ar,pr=a.useState(an||Qt),Ir=pr[0],Vr=pr[1],Xn={l10n:Ir,setL10n:Vr},Nr=Object.assign({},{direction:vr.direction},Hl(vr.theme||"light",Yr));return a.useEffect(function(){an&&Vr(an)},[an]),a.createElement(St.Provider,{value:Xn},a.createElement(lt.Provider,{value:Nr},a.createElement("div",{ref:tr,className:"rpv-core__viewer rpv-core__viewer--".concat(Nr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Mn.shouldLoad&&a.createElement(Vl,{characterMap:pt,file:Mn.data,httpHeaders:Vt,render:function(yr){return a.createElement(zl,{defaultScale:Ct,doc:yr,render:function(Sr,Fr){return a.createElement(Ul,{currentFile:{data:Mn.data,name:Mn.name},defaultScale:Ct,doc:yr,enableSmoothScroll:It,initialPage:Wt,initialRotation:cn,initialScale:Fr,pageLayout:Ht,pageSizes:Sr,plugins:Sn,renderPage:On,scrollMode:Tn,setRenderRange:In,viewMode:dr,viewerState:{file:Mn,fullScreenMode:e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Sr[0].pageHeight,pageWidth:Sr[0].pageWidth,pagesRotation:new Map,rotation:cn,scale:Fr,scrollMode:Tn,viewMode:dr},onDocumentLoad:Pr,onOpenFile:Hn,onPageChange:Cr,onRotate:Gr,onRotatePage:Lr,onZoom:Dn})},scrollMode:Tn,viewMode:dr})},renderError:yn,renderLoader:Qn,renderProtectedView:Ln,transformGetDocumentParams:sr,withCredentials:_r,onDocumentAskPassword:Mr}))))},e.Worker=function(j){var pt=j.children,Ct=j.workerUrl;return h.GlobalWorkerOptions.workerSrc=Ct,a.createElement(a.Fragment,null,pt)},e.chunk=mn,e.classNames=at,e.createStore=function(j){var pt=j||{},Ct={},Mt=function(Ut,Gt){var Vt;pt=it(it({},pt),((Vt={})[Ut]=Gt,Vt)),(Ct[Ut]||[]).forEach(function(Ot){return Ot(pt[Ut])})},It=function(Ut){return pt[Ut]};return{subscribe:function(Ut,Gt){Ct[Ut]=(Ct[Ut]||[]).concat(Gt)},unsubscribe:function(Ut,Gt){Ct[Ut]=(Ct[Ut]||[]).filter(function(Vt){return Vt!==Gt})},update:function(Ut,Gt){Mt(Ut,Gt)},updateCurrentValue:function(Ut,Gt){var Vt=It(Ut);Vt!==void 0&&Mt(Ut,Gt(Vt))},get:function(Ut){return It(Ut)}}},e.getDestination=Ft,e.getPage=Tt,e.isFullScreenEnabled=gt,e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},e.useDebounceCallback=$t,e.useIntersectionObserver=st,e.useIsMounted=ln,e.useIsomorphicLayoutEffect=tt,e.usePrevious=en,e.useRenderQueue=Xt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;function App(){const[e,i]=reactExports.useState(!0),[o,s]=reactExports.useState(null),[c,a]=reactExports.useState(0),[h,ut]=reactExports.useState(!1);reactExports.useEffect(()=>{const _t=setTimeout(()=>{e&&(s("PDF took too long to load. Please try again."),i(!1))},1e4);return()=>clearTimeout(_t)},[e]);const ot=()=>{i(!1),s(null),ut(!1)},_e=()=>{i(!0),s(null),a(_t=>_t+1),ut(!1)},it=()=>{ut(!0),i(!1),s(null)};return jsxRuntimeExports.jsx("div",{style:{height:"100vh",width:"100vw",backgroundColor:"#ffffff"},children:h?jsxRuntimeExports.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",padding:"20px"},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#333",marginBottom:"15px"},children:"PDF Viewer Alternative"}),jsxRuntimeExports.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"The PDF viewer is having trouble loading. You can try opening the menu in a new tab."}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"20px"},children:jsxRuntimeExports.jsx("a",{href:menu,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px",marginRight:"10px"},children:"Open Menu in New Tab"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ut(!1),style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try PDF Viewer Again"})]})}):jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsxs("div",{className:"rpv-core__viewer",style:{border:"1px solid rgba(0, 0, 0, 0.3)",height:"100%",position:"relative",backgroundColor:"#ffffff"},children:[e&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,color:"#333",fontSize:"16px",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("div",{children:"Loading PDF..."}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",marginTop:"10px",color:"#666"},children:["Attempt ",c+1]})]}),o&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,color:"#ff0000",fontSize:"16px",textAlign:"center",maxWidth:"80%",backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsxs("div",{children:["Error loading PDF: ",o]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:_e,style:{marginRight:"10px",padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"}),jsxRuntimeExports.jsx("button",{onClick:it,style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Alternative"})]})]}),jsxRuntimeExports.jsx(libExports.Viewer,{defaultScale:libExports.SpecialZoomLevel.PageWidth,fileUrl:menu,onDocumentLoad:ot},c)]})})})}const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
